!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("moment"),require("bluebird"),require("md5"),require("axios"),require("lokijs"),require("lodash")):"function"==typeof define&&define.amd?define("fast-fastjs",["moment","bluebird","md5","axios","lokijs","_"],t):"object"==typeof exports?exports["fast-fastjs"]=t(require("moment"),require("bluebird"),require("md5"),require("axios"),require("lokijs"),require("lodash")):e["fast-fastjs"]=t(e.moment,e.bluebird,e.md5,e.axios,e.lokijs,e._)}(window,function(e,t,r,n,a,o){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=48)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},get:function(e,t){try{return e()}catch(e){return t}},orderBy:function(){},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},debounce:function(e,t){var r=void 0;return function(){var n=this,a=arguments;clearTimeout(r),r=setTimeout(function(){return e.apply(n,a)},t)}}});t.default=n},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=s(r(3)),o=s(r(50)),i=s(r(0)),u=s(r(1));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(){var e=function(){var e=c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.local().find();case 2:return t=e.sent,e.abrupt("return",i.default.get(function(){return t[0]}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=c(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.next=3,a.default.isOnline();case 3:if(!e.sent){e.next=14;break}return e.prev=5,e.next=8,o.default.remote().find({filter:[{element:"_id",query:"=",value:t.appConfigId}],limit:1});case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log("error",e.t0);case 14:return e.abrupt("return",i.default.get(function(){return r[0].data}));case 15:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t){return e.apply(this,arguments)}}(),r=function(){var t=c(regeneratorRuntime.mark(function t(r){var a,i,s,c,l=r.Vue,f=r.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(a=t.sent,i=p(a),!(f.offlineFiles.lastUpdated.date>i)){t.next=15;break}if(s=n({},f.offlineFiles.Configuration.data,{fastUpdated:(0,u.default)().unix()}),!a){t.next=10;break}return t.next=10,o.default.local().clear();case 10:return t.next=12,o.default.local().insert(s);case 12:return c=t.sent,d(l,c),t.abrupt("return",c);case 15:return d(l,a),t.abrupt("return",a);case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),s=function(){var r=c(regeneratorRuntime.mark(function r(n){var a,i,s,c=n.Vue,l=n.appConf;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e();case 2:return a=r.sent,r.next=5,t(l);case 5:if(i=r.sent,a||i){r.next=8;break}throw new Error("Application is not connected to internet, or the configuration file cannot be pulled");case 8:if(i){r.next=11;break}return d(c,a),r.abrupt("return",a);case 11:if(i.fastUpdated=(0,u.default)().unix(),!a){r.next=15;break}return r.next=15,o.default.local().clear();case 15:return r.next=17,o.default.local().insert(i);case 17:return s=r.sent,d(c,s),r.abrupt("return",s);case 20:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),l=function(){var e=c(regeneratorRuntime.mark(function e(t){var n=t.Vue,a=t.appConf,o=t.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==String(a.offlineStart)||o){e.next=2;break}return e.abrupt("return",r({Vue:n,appConf:a}));case 2:return e.abrupt("return",s({Vue:n,appConf:a}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var t=c(regeneratorRuntime.mark(function t(r){var n,a=r.element,i=r.data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(["Form","Pages","register","Forms"].some(function(e){return e===a})){t.next=2;break}throw new Error('The element provided must be "Form" or "Pages"');case 2:return t.next=4,e();case 4:(n=t.sent).meta=n.meta?n.meta:{},t.t0=a,t.next="Form"===t.t0?9:"register"===t.t0?11:"Pages"===t.t0?13:"Forms"===t.t0?15:17;break;case 9:return n.meta.formsLastUpdated=Math.round((new Date).getTime()/1e3),t.abrupt("break",18);case 11:return n.meta.registerLastUpdated=Math.round((new Date).getTime()/1e3),t.abrupt("break",18);case 13:return n.meta.pagesLastUpdated=Math.round((new Date).getTime()/1e3),t.abrupt("break",18);case 15:return n.meta.needUpdateForms=i,t.abrupt("break",18);case 17:return t.abrupt("break",18);case 18:return t.next=20,o.default.local().update(n);case 20:return t.sent,t.abrupt("return",n);case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();function d(e,t){e&&e.prototype?e.prototype.$FAST_CONFIG=t:e&&(e.$FAST_CONFIG=t)}function p(e){return i.default.get(function(){return e.fastUpdated},0)}return Object.freeze({set:l,getLocal:e,setLastUpdated:f})}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(4)),a=o(r(8));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e=window.navigator.onLine;return Object.freeze({isOnline:function(){return new a.default(function(e,t){var r=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHttp");r.onload=function(){e(!0)},r.onerror=function(t){e(!1)},r.open("GET","https://yesno.wtf/api",!0),r.send()})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),e||(e=!0,n.default.emit({name:"FAST:CONNECTION:ONLINE",data:e,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),e&&(e=!1,n.default.emit({name:"FAST:CONNECTION:OFFLINE",data:e,text:"Application is now offline"}))}})}})}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};return Object.freeze({emit:function(t){var r=t.name,n=t.data,a=t.text;if(!r)throw new Error("Event must have a name.");if(!n)throw new Error("Event must have data.");if(!a)throw new Error("Event must have a text.");var o=e(r,{detail:{data:n,text:a}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}})}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(51)),a=i(r(30)),o=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}t.default=function(){var e=function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,i,u,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=s.filter,l=s.limit,f=void 0===l?void 0:l,d=s.select,h=s.pagination,m=s.form,v=s.populate;return s.reviewer,regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?12:45;break;case 3:return e.abrupt("return",n.default.find({modelName:this.getOwnName(),filter:c,limit:f,select:d,pagination:h,form:m}));case 5:if("custom"!==this.getFormPath()){e.next=7;break}return e.abrupt("return",this.rFind({formPath:this.getFormPath(),filter:c,limit:f,select:d,pagination:h,populate:v,form:m}));case 7:return e.next=9,o.default.isOnline();case 9:return t=e.sent,e.abrupt("return",t?a.default.find({formPath:m||this.getFormPath(),filter:c,limit:f,select:d,pagination:h,populate:v}):[]);case 12:return e.next=14,n.default.find({modelName:this.getOwnName(),filter:c,limit:f,select:d,pagination:h,form:m});case 14:if(r=e.sent,i=void 0,"custom"!==this.getFormPath()){e.next=30;break}return e.next=19,o.default.isOnline();case 19:if(!e.sent){e.next=26;break}return e.next=23,this.rFind({formPath:this.getFormPath(),filter:c,limit:f,select:d,pagination:h,populate:v});case 23:e.t1=e.sent,e.next=27;break;case 26:e.t1=[];case 27:i=e.t1,e.next=41;break;case 30:return e.next=32,o.default.isOnline();case 32:if(!e.sent){e.next=39;break}return e.next=36,a.default.find({formPath:m||this.getFormPath(),filter:c,limit:f,select:d,pagination:h,populate:v});case 36:e.t2=e.sent,e.next=40;break;case 39:e.t2=[];case 40:i=e.t2;case 41:return u=r.reduce(function(e,t){return t.data&&t.data._id&&-1===t.data._id.indexOf("_local")&&e.push(t.data._id),e},[]),i=i.filter(function(e){return!u.includes(e._id)}),e.abrupt("return",i.concat(r));case 45:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?7:9;break;case 3:return e.abrupt("return",n.default.findOne({modelName:this.getOwnName(),filter:t}));case 5:case 7:return e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=u(regeneratorRuntime.mark(function e(t,r,i){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?11:13;break;case 3:return e.abrupt("return",n.default.remove({modelName:this.getOwnName(),document:t}));case 5:return e.next=7,o.default.isOnline();case 7:return u=e.sent,e.abrupt("return",u?a.default.remove({formPath:i,id:r}):void 0);case 11:return e.abrupt("return");case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}(),i=function(){var e=u(regeneratorRuntime.mark(function e(t){var r,n=t.id,i=t.formPath;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?4:"remote-local"===e.t0?10:12;break;case 3:return e.abrupt("break",12);case 4:return e.next=6,o.default.isOnline();case 6:return r=e.sent,e.abrupt("return",r?a.default.softDelete({formPath:i,id:n}):void 0);case 10:return e.abrupt("return");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=u(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?7:9;break;case 3:return e.abrupt("return",n.default.insert({modelName:this.getOwnName(),element:t}));case 5:return e.abrupt("return",a.default.insert({formPath:this.getFormPath()||r,element:t}));case 7:return e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),c=function(){var e=u(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?7:9;break;case 3:return e.abrupt("return",n.default.update({modelName:this.getOwnName(),document:t}));case 5:return e.abrupt("return",a.default.update({formPath:this.getFormPath()||r,document:t}));case 7:return e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?6:8;break;case 3:return e.abrupt("return",n.default.clear({modelName:this.getOwnName()}));case 5:return e.abrupt("break",8);case 6:return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?7:9;break;case 3:return e.abrupt("return",n.default.updateOrCreate({modelName:this.getOwnName(),document:t}));case 5:case 7:return e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="local"===e.t0?3:"remote"===e.t0?5:"remote-local"===e.t0?7:9;break;case 3:return e.abrupt("return",n.default.findAndRemove({modelName:this.getOwnName(),filter:t}));case 5:case 7:return e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p="remote-local";return Object.freeze({getOwnName:function(){return"baseModel"},getFormPath:function(){},remote:function(){return p="remote",this},local:function(){return p="local",this},merged:function(){return p="remote-local",this},find:e,findOne:t,remove:r,softDelete:i,insert:s,update:c,updateOrCreate:f,findAndRemove:d,clear:l})}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(n,a){var o;
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
!function(n,a,i){a[n]=a[n]||i(),void 0!==e&&e.exports?e.exports=a[n]:void 0===(o=function(){return a[n]}.call(t,r,t,e))||(e.exports=o)}("Promise",void 0!==n?n:this,function(){"use strict";var e,t,r,n=Object.prototype.toString,o=void 0!==a?function(e){return a(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(t){e=function(e,t,r){return e[t]=r,e}}function i(e,n){r.add(e,n),t||(t=o(r.drain))}function u(e){var t,r=typeof e;return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function s(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,r){var n,a;try{!1===t?r.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(a=u(n))?a.call(n,r.resolve,r.reject):r.resolve(n)}catch(e){r.reject(e)}}function l(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&i(s,t))}function f(e,t,r,n){for(var a=0;a<t.length;a++)!function(a){e.resolve(t[a]).then(function(e){r(a,e)},n)}(a)}function d(e){this.def=e,this.triggered=!1}function p(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new function(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}(this);this.then=function(e,r){var n={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return n.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t}),t.chain.push(n),0!==t.state&&i(s,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(t){var r,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(r=u(t))?i(function(){var a=new d(n);try{r.call(t,function(){e.apply(a,arguments)},function(){l.apply(a,arguments)})}catch(e){l.call(a,e)}}):(n.msg=t,n.state=1,n.chain.length>0&&i(s,n))}catch(e){l.call(new d(n),e)}}}).call(t,e)},function(e){l.call(t,e)})}catch(e){l.call(t,e)}}r=function(){var e,r,n;return{add:function(t,a){n=new function(e,t){this.fn=e,this.self=t,this.next=void 0}(t,a),r?r.next=n:e=n,r=n,n=void 0},drain:function(){var n=e;for(e=r=t=void 0;n;)n.fn.call(n.self),n=n.next}}}();var h=e({},"constructor",p,!1);return p.prototype=h,e(h,"__NPO__",0,!1),e(p,"resolve",function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)})}),e(p,"reject",function(e){return new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)})}),e(p,"all",function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var a=e.length,o=Array(a),i=0;f(t,e,function(e,t){o[e]=t,++i===a&&r(o)},n)})}),e(p,"race",function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");f(t,e,function(e,t){r(t)},n)})}),p})}).call(this,r(6),r(57).setImmediate)},function(e,r){e.exports=t},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(7));r(32);var a=r(59),o=c(r(60)),i=c(r(61)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(62)),s=c(r(85));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e){return null===e||void 0===e},p=function(e){return e&&"object"===f(e)},h=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(this instanceof e))return new e(t);if(this.base="",this.projectsUrl="",this.projectUrl="",this.projectId="",this.formUrl="",this.formsUrl="",this.formId="",this.submissionsUrl="",this.submissionUrl="",this.submissionId="",this.actionsUrl="",this.actionId="",this.actionUrl="",this.vsUrl="",this.vId="",this.vUrl="",this.query="",this.path=t,this.options=n,n.hasOwnProperty("base")?this.base=n.base:e.baseUrl?this.base=e.baseUrl:this.base=window.location.href.match(/http[s]?:\/\/api./)[0],!t)return this.projectUrl="".concat(this.base,"/project"),this.projectsUrl="".concat(this.base,"/project"),this.projectId=!1,void(this.query="");n.hasOwnProperty("project")&&(this.projectUrl=n.project);var a=this.projectUrl||e.projectUrl,o=/(^|\/)(project)($|\/[^/]+)/,i=-1!==t.search(o);a&&this.base===a&&!i&&(this.noProject=!0,this.projectUrl=this.base),0!==t.indexOf("http")&&0!==t.indexOf("//")&&(t=this.base+t);var u=this.getUrlParts(t),s=[],c=u[1]+u[2],l=(t=u.length>3?u[3]:"").split("?");l.length>1&&(t=l[0],this.query="?".concat(l[1]));var f=function(e,n){r["".concat(e,"sUrl")]="".concat(n,"/").concat(e);var a=new RegExp("/".concat(e,"/([^/]+)"));return-1!==t.search(a)&&(s=t.match(a),r["".concat(e,"Url")]=s?n+s[0]:"",r["".concat(e,"Id")]=s.length>1?s[1]:"",n+=s[0]),n},d=function e(t,r,n){for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];if(Array.isArray(o))e(o,r,!0);else{var i=f(o,r);r=n?r:i}}};if(this.projectUrl&&this.projectUrl!==this.base||(this.projectUrl=c),!this.noProject){if(i)d(["project"],c),t=t.replace(o,"");else if(c===this.base){if(u.length>3&&t.split("/").length>1){var p=t.split("/");p.shift(),this.projectId=p.shift(),t="/".concat(p.join("/")),this.projectUrl="".concat(c,"/").concat(this.projectId)}}else u.length>2&&(u[2].split(".").length>2||c.includes("localhost"))&&(this.projectUrl=c,this.projectId=u[2].split(".")[0]);this.projectsUrl=this.projectsUrl||"".concat(this.base,"/project")}if(-1!==t.search(/(^|\/)(form)($|\/)/))d(["form",["submission","action","v"]],this.projectUrl);else{var h=new RegExp("/(submission|action|v)($|/.*)"),m=t.match(h);this.pathType=m&&m.length>1?m[1]:"",t=(t=t.replace(h,"")).replace(/\/$/,""),this.formsUrl="".concat(this.projectUrl,"/form"),this.formUrl=t?this.projectUrl+t:"",this.formId=t.replace(/^\/+|\/+$/g,"");var v=["submission","action","v"];for(var y in v)if(v.hasOwnProperty(y)){var g=v[y];this["".concat(g,"sUrl")]="".concat(this.projectUrl+t,"/").concat(g),this.pathType===g&&m.length>2&&m[2]&&(this["".concat(g,"Id")]=m[2].replace(/^\/+|\/+$/g,""),this["".concat(g,"Url")]=this.projectUrl+t+m[0])}}e.projectUrlSet||(e.projectUrl=this.projectUrl)}return function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(e,[{key:"delete",value:function(t,r){var a="".concat(t,"Id"),o="".concat(t,"Url");return this[a]||n.default.reject("Nothing to delete"),e.cache={},this.makeRequest(t,this[o],"delete",null,r)}},{key:"index",value:function(t,r,n){var a="".concat(t,"Url");return(r=r||"")&&p(r)&&(r="?".concat(e.serialize(r.params))),this.makeRequest(t,this[a]+r,"get",null,n)}},{key:"save",value:function(t,r,n){var a="".concat(t,"Id"),o="".concat(t,"Url"),i=this[a]||r._id?"put":"post",u=this[a]?this[o]:this["".concat(t,"sUrl")];return this[a]||!r._id||"put"!==i||u.includes(r._id)||(u+="/".concat(r._id)),e.cache={},this.makeRequest(t,u+this.query,i,r,n)}},{key:"load",value:function(t,r,a){var o="".concat(t,"Id"),i="".concat(t,"Url");return r&&p(r)&&(r=e.serialize(r.params)),r=r?this.query?"".concat(this.query,"&").concat(r):"?".concat(r):this.query,this[o]?this.makeRequest(t,this[i]+r,"get",null,a):n.default.reject("Missing ".concat(o))}},{key:"makeRequest",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.makeRequest.apply(e,[this].concat(r))}},{key:"loadProject",value:function(e,t){return this.load("project",e,t)}},{key:"saveProject",value:function(e,t){return this.save("project",e,t)}},{key:"deleteProject",value:function(e){return this.delete("project",e)}},{key:"loadForm",value:function(t,r){var n=this;return this.load("form",t,r).then(function(a){return!a.revisions||isNaN(parseInt(n.vId))?a:"current"===a.revisions&&n.submissionId?a:(t&&p(t)&&(t=e.serialize(t.params)),t=t?n.query?"".concat(n.query,"&").concat(t):"?".concat(t):n.query,n.makeRequest("form",n.vUrl+t,"get",null,r).then(function(e){return a.components=e.components,Object.assign({},a)}).catch(function(){return Object.assign({},a)}))})}},{key:"saveForm",value:function(e,t){return this.save("form",e,t)}},{key:"deleteForm",value:function(e){return this.delete("form",e)}},{key:"loadForms",value:function(e,t){return this.index("forms",e,t)}},{key:"loadSubmission",value:function(e,t){var r=this;return this.load("submission",e,t).then(function(e){return r.vId=e._fvid,r.vUrl="".concat(r.formUrl,"/v/").concat(r.vId),e})}},{key:"saveSubmission",value:function(e,t){return isNaN(parseInt(this.vId))||(e._fvid=this.vId),this.save("submission",e,t)}},{key:"deleteSubmission",value:function(e){return this.delete("submission",e)}},{key:"loadSubmissions",value:function(e,t){return this.index("submissions",e,t)}},{key:"loadAction",value:function(e,t){return this.load("action",e,t)}},{key:"saveAction",value:function(e,t){return this.save("action",e,t)}},{key:"deleteAction",value:function(e){return this.delete("action",e)}},{key:"loadActions",value:function(e,t){return this.index("actions",e,t)}},{key:"availableActions",value:function(){return this.makeRequest("availableActions","".concat(this.formUrl,"/actions"))}},{key:"actionInfo",value:function(e){return this.makeRequest("actionInfo","".concat(this.formUrl,"/actions/").concat(e))}},{key:"isObjectId",value:function(e){return new RegExp("^[0-9a-fA-F]{24}$").test(e)}},{key:"getProjectId",value:function(){return this.projectId?this.isObjectId(this.projectId)?n.default.resolve(this.projectId):this.loadProject().then(function(e){return e._id}):n.default.resolve("")}},{key:"getFormId",value:function(){return this.formId?this.isObjectId(this.formId)?n.default.resolve(this.formId):this.loadForm().then(function(e){return e._id}):n.default.resolve("")}},{key:"currentUser",value:function(t){return e.currentUser(this,t)}},{key:"accessInfo",value:function(){return e.accessInfo(this)}},{key:"getToken",value:function(t){return e.getToken(Object.assign({formio:this},this.options,t))}},{key:"setToken",value:function(t,r){return e.setToken(t,Object.assign({formio:this},this.options,r))}},{key:"getTempToken",value:function(t,r,a){return e.getToken(a)?this.makeRequest("tempToken","".concat(this.projectUrl,"/token"),"GET",null,{ignoreCache:!0,header:new Headers({"x-expire":t,"x-allow":r})}):n.default.reject("You must be authenticated to generate a temporary auth token.")}},{key:"getDownloadUrl",value:function(e){var t=this;if(!this.submissionId)return n.default.resolve("");if(!e)return this.loadForm().then(function(e){return e?t.getDownloadUrl(e):""});var r="/project/".concat(e.project);r+="/form/".concat(e._id),r+="/submission/".concat(this.submissionId),r+="/download";var a=this.base+r;return new n.default(function(e,n){t.getTempToken(3600,"GET:".concat(r)).then(function(t){a+="?token=".concat(t.key),e(a)},function(){e(a)}).catch(n)})}},{key:"uploadFile",value:function(t,r,n,a,o,i){var u=this,s={provider:t,method:"upload",file:r,fileName:n,dir:a},c=e.pluginWait("preRequest",s).then(function(){return e.pluginGet("fileRequest",s).then(function(s){if(t&&d(s)){if(e.providers.storage.hasOwnProperty(t))return new e.providers.storage[t](u).uploadFile(r,n,a,o,i);throw"Storage provider not found"}return s||{url:""}})});return e.pluginAlter("wrapFileRequestPromise",c,s)}},{key:"downloadFile",value:function(t){var r=this,n={method:"download",file:t},a=e.pluginWait("preRequest",n).then(function(){return e.pluginGet("fileRequest",n).then(function(n){if(t.storage&&d(n)){if(e.providers.storage.hasOwnProperty(t.storage))return new e.providers.storage[t.storage](r).downloadFile(t);throw"Storage provider not found"}return n||{url:""}})});return e.pluginAlter("wrapFileRequestPromise",a,n)}},{key:"canSubmit",value:function(){return n.default.all([this.loadForm(),this.currentUser(),this.accessInfo()]).then(function(t){var r=t.shift(),n=t.shift(),a=t.shift(),o={},i={};for(var u in a.roles)if(a.roles.hasOwnProperty(u)){var s=a.roles[u];s.default&&(o=s),s.admin&&(i=s)}var c=!1,l=!1;if(n&&n.roles.includes(i._id))return!0;for(var f in r.submissionAccess)if(r.submissionAccess.hasOwnProperty(f)){var d=r.submissionAccess[f];if("create_all"===d.type||"create_own"===d.type){for(var p in d.roles)if(d.roles.hasOwnProperty(p)&&(o._id===d.roles[p]&&(l=!0),n&&n.roles.includes(d.roles[p]))){c=!0;break}if(c)break}}return!c&&l&&(c=!0,e.setUser(null)),c})}},{key:"getUrlParts",value:function(t){return e.getUrlParts(t,this)}}],[{key:"loadProjects",value:function(t,r){return p(t=t||"")&&(t="?".concat(e.serialize(t.params))),e.makeStaticRequest("".concat(e.baseUrl,"/project").concat(t),"GET",null,r)}},{key:"getUrlParts",value:function(t,r){var n=r&&r.base?r.base:e.baseUrl,a="^(http[s]?:\\/\\/)";return n&&0===t.indexOf(n)?a+="(".concat(n.replace(/^http[s]?:\/\//,""),")"):a+="([^/]+)",a+="($|\\/.*)",t.match(new RegExp(a))}},{key:"serialize",value:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e[r])));return t.join("&")}},{key:"getRequestArgs",value:function(e,t,r,n,a,o){n=(n||"GET").toUpperCase(),o&&p(o)||(o={});var i={url:r,method:n,data:a||null,opts:o};return t&&(i.type=t),e&&(i.formio=e),i}},{key:"makeStaticRequest",value:function(t,r,n,a){var o=e.getRequestArgs(null,"",t,r,n,a),i=e.pluginWait("preRequest",o).then(function(){return e.pluginGet("staticRequest",o).then(function(n){return d(n)?e.request(t,r,o.data,o.opts.header,o.opts):n})});return e.pluginAlter("wrapStaticRequestPromise",i,o)}},{key:"makeRequest",value:function(t,r,n,a,o,i){if(!t)return e.makeStaticRequest(n,a,o,i);var u=e.getRequestArgs(t,r,n,a,o,i);u.opts=u.opts||{},u.opts.formio=t;var s=e.pluginWait("preRequest",u).then(function(){return e.pluginGet("request",u).then(function(t){return d(t)?e.request(n,a,u.data,u.opts.header,u.opts):t})});return e.pluginAlter("wrapRequestPromise",s,u)}},{key:"request",value:function(t,r,a,o,u){if(!t)return n.default.reject("No url provided");r=(r||"GET").toUpperCase(),function(e){return f(e)===f(!0)}(u)&&(u={ignoreCache:u}),u&&p(u)||(u={});var s=btoa(t);if(!u.ignoreCache&&"GET"===r&&e.cache.hasOwnProperty(s))return e.cache[s];var c=o||new Headers(u.headers||{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}),l=e.getToken(u);l&&!u.noToken&&c.append("x-jwt-token",l);var d={method:r,headers:c,mode:"cors"};a&&(d.body=JSON.stringify(a)),(d=e.pluginAlter("requestOptions",d,t)).namespace&&(u.namespace=d.namespace);var h=d.headers.get("x-jwt-token"),m=fetch(t,d).then(function(a){if(!(a=e.pluginAlter("requestResponse",a,e)).ok)return 440===a.status?(e.setToken(null,u),e.events.emit("formio.sessionExpired",a.body)):401===a.status&&e.events.emit("formio.unauthorized",a.body),(a.headers.get("content-type").includes("application/json")?a.json():a.text()).then(function(e){return n.default.reject(e)});var o=a.headers.get("x-jwt-token"),i=!1;return"GET"!==r||h||!o||u.external||t.includes("token=")||t.includes("x-jwt-token=")||(console.warn("Token was introduced in request."),i=!0),a.status>=200&&a.status<300&&o&&""!==o&&!i&&e.setToken(o,u),204===a.status?{}:(a.headers.get("content-type").includes("application/json")?a.json():a.text()).then(function(e){var t=a.headers.get("content-range");if(t&&p(e)){if("*"!==(t=t.split("/"))[0]){var r=t[0].split("-");e.skip=Number(r[0]),e.limit=r[1]-r[0]+1}e.serverCount="*"===t[1]?t[1]:Number(t[1])}if(!u.getHeaders)return e;var n={};return a.headers.forEach(function(e,t){n[t]=e}),{result:e,headers:n}})}).then(function(e){if(u.getHeaders)return e;var t={};return Array.isArray(e)?((t=e.map(i.default)).skip=e.skip,t.limit=e.limit,t.serverCount=e.serverCount):t=(0,i.default)(e),t}).catch(function(t){return"Bad Token"===t&&(e.setToken(null,u),e.events.emit("formio.badToken",t)),t.message&&(t.message="Could not connect to API server (".concat(t.message,")"),t.networkError=!0),"GET"===r&&delete e.cache[s],n.default.reject(t)});return"GET"===r&&(e.cache[s]=m),m}},{key:"setToken",value:function(t,r){t=t||"";var n="".concat((r="string"==typeof r?{namespace:r}:r||{}).namespace||"formio","Token");if(e.tokens||(e.tokens={}),e.tokens[n]!==t){if(e.tokens[n]=t,!t){e.setUser(null,r);try{return localStorage.removeItem(n)}catch(e){return o.default.erase(n,{path:"/"})}}try{localStorage.setItem(n,t)}catch(e){o.default.set(n,t,{path:"/"})}return e.currentUser(r.formio,r)}}},{key:"getToken",value:function(t){var r="".concat((t="string"==typeof t?{namespace:t}:t||{}).namespace||"formio","Token");if(e.tokens||(e.tokens={}),e.tokens[r])return e.tokens[r];try{return e.tokens[r]=localStorage.getItem(r)||"",e.tokens[r]}catch(t){return e.tokens[r]=o.default.get(r),e.tokens[r]}}},{key:"setUser",value:function(e,t){var r="".concat((t=t||{}).namespace||"formio","User");if(!e){this.setToken(null,t);try{return localStorage.removeItem(r)}catch(e){return o.default.erase(r,{path:"/"})}}try{localStorage.setItem(r,JSON.stringify(e))}catch(t){o.default.set(r,JSON.stringify(e),{path:"/"})}}},{key:"getUser",value:function(e){var t="".concat((e=e||{}).namespace||"formio","User");try{return JSON.parse(localStorage.getItem(t)||null)}catch(e){return JSON.parse(o.default.get(t))}}},{key:"setBaseUrl",value:function(t){e.baseUrl=t,e.projectUrlSet||(e.projectUrl=t)}},{key:"getBaseUrl",value:function(){return e.baseUrl}},{key:"setApiUrl",value:function(t){return e.setBaseUrl(t)}},{key:"getApiUrl",value:function(){return e.getBaseUrl()}},{key:"setAppUrl",value:function(t){console.warn("Formio.setAppUrl() is deprecated. Use Formio.setProjectUrl instead."),e.projectUrl=t,e.projectUrlSet=!0}},{key:"setProjectUrl",value:function(t){e.projectUrl=t,e.projectUrlSet=!0}},{key:"getAppUrl",value:function(){return console.warn("Formio.getAppUrl() is deprecated. Use Formio.getProjectUrl instead."),e.projectUrl}},{key:"getProjectUrl",value:function(){return e.projectUrl}},{key:"clearCache",value:function(){e.cache={}}},{key:"noop",value:function(){}},{key:"identity",value:function(e){return e}},{key:"deregisterPlugin",value:function(t){var r=e.plugins.length;return e.plugins=e.plugins.filter(function(r){return r!==t&&r.__name!==t||((r.deregister||e.noop).call(t,e),!1)}),r!==e.plugins.length}},{key:"registerPlugin",value:function(t,r){e.plugins.push(t),e.plugins.sort(function(e,t){return(t.priority||0)-(e.priority||0)}),t.__name=r,(t.init||e.noop).call(t,e)}},{key:"getPlugin",value:function(t){var r=!0,n=!1,a=void 0;try{for(var o,i=e.plugins[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;if(u.__name===t)return u}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return null}},{key:"pluginWait",value:function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.default.all(e.plugins.map(function(r){var n;return(n=r[t]||e.noop).call.apply(n,[r].concat(a))}))}},{key:"pluginGet",value:function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return function r(o){var i,u=e.plugins[o];return u?n.default.resolve((i=u[t]||e.noop).call.apply(i,[u].concat(a))).then(function(e){return d(e)?r(o+1):e}):n.default.resolve(null)}(0)}},{key:"pluginAlter",value:function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e.plugins.reduce(function(r,n){return(n[t]||e.identity).apply(void 0,[r].concat(a))},r)}},{key:"accessInfo",value:function(t){var r=t?t.projectUrl:e.projectUrl;return e.makeRequest(t,"accessInfo","".concat(r,"/access"))}},{key:"currentUser",value:function(t,r){var a=t?t.projectUrl:e.projectUrl||e.baseUrl;a+="/current";var o=this.getUser(r);if(o)return e.pluginAlter("wrapStaticRequestPromise",n.default.resolve(o),{url:a,method:"GET",options:r});var i=e.getToken(r);return r&&r.external||i?e.makeRequest(t,"currentUser",a,"GET",null,r).then(function(t){return e.setUser(t,r),t}):e.pluginAlter("wrapStaticRequestPromise",n.default.resolve(null),{url:a,method:"GET",options:r})}},{key:"logout",value:function(t,r){(r=r||{}).formio=t,e.setToken(null,r),e.setUser(null,r),e.clearCache();var n=t?t.projectUrl:e.baseUrl;return e.makeRequest(t,"logout","".concat(n,"/logout"))}},{key:"oAuthCurrentUser",value:function(t,r){return e.currentUser(t,{external:!0,headers:{Authorization:"Bearer ".concat(r)}})}},{key:"oktaInit",value:function(t){if(t=t||{},void 0!==("undefined"==typeof OktaAuth?"undefined":f(OktaAuth))&&(t.OktaAuth=OktaAuth),void 0===f(t.OktaAuth)){var r="Cannot find OktaAuth. Please include the Okta JavaScript SDK within your application. See https://developer.okta.com/code/javascript/okta_auth_sdk for an example.";return console.warn(r),n.default.reject(r)}return new n.default(function(r,n){var a=t.OktaAuth;delete t.OktaAuth;var o=new a(t),i=o.tokenManager.get("accessToken");i?r(e.oAuthCurrentUser(t.formio,i.accessToken)):location.hash?o.token.parseFromUrl().then(function(n){o.tokenManager.add("accessToken",n),r(e.oAuthCurrentUser(t.formio,n.accessToken))}).catch(function(e){console.warn(e),n(e)}):(o.token.getWithRedirect({responseType:"token",scopes:t.scopes}),r(!1))})}},{key:"ssoInit",value:function(t,r){switch(t){case"okta":return e.oktaInit(r);default:return console.warn("Unknown SSO type"),n.default.reject("Unknown SSO type")}}},{key:"requireLibrary",value:function(t,r,a,o){if(!e.libraries.hasOwnProperty(t)){e.libraries[t]={},e.libraries[t].ready=new n.default(function(r,n){e.libraries[t].resolve=r,e.libraries[t].reject=n});var i="".concat(t,"Callback");o||window[i]||(window[i]=function(){return e.libraries[t].resolve()});var u=(0,s.default)(window,r);if(u)e.libraries[t].resolve(u);else if((a=Array.isArray(a)?a:[a]).forEach(function(e){var t={},r="";switch("string"==typeof e&&(e={type:"script",src:e}),e.type){case"script":r="script",t={src:e.src,type:"text/javascript",defer:!0,async:!0};break;case"styles":r="link",t={href:e.src,rel:"stylesheet"}}var n=document.createElement(r);for(var a in t)n.setAttribute(a,t[a]);document.getElementsByTagName("head")[0].appendChild(n)}),o)var c=setInterval(function(){var n=(0,s.default)(window,r);n&&(clearInterval(c),e.libraries[t].resolve(n))},200)}return e.libraries[t].ready}},{key:"libraryReady",value:function(t){return e.libraries.hasOwnProperty(t)&&e.libraries[t].ready?e.libraries[t].ready:n.default.reject("".concat(t," library was not required."))}},{key:"token",get:function(){return e.tokens||(e.tokens={}),e.tokens.formioToken?e.tokens.formioToken:""},set:function(t){return e.tokens||(e.tokens={}),e.tokens.formioToken=t||""}}]),e}();t.default=h,h.libraries={},h.Promise=n.default,h.Headers=Headers,h.baseUrl="https://api.form.io",h.projectUrl=h.baseUrl,h.projectUrlSet=!1,h.plugins=[],h.cache={},h.providers=u,h.events=new a.EventEmitter2({wildcard:!1,maxListeners:0}),"object"!==(void 0===e?"undefined":f(e))||e.Formio||(e.Formio=h)}).call(this,r(6))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=s(r(1)),o=s(r(5)),i=s(r(30)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(e){var t=function(){var e=c(regeneratorRuntime.mark(function e(){var t,r,a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=s.filter,l=void 0===c?void 0:c,d=s.limit,p=void 0===d?200:d;s.select,s.pagination,s.form;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.getFormioInstance({formPath:"custom"});case 2:return t=e.sent,r={},p&&(r.limit=p),l&&(a=f(l),r=n({},r,a)),e.next=8,u.default.isOnline();case 8:if(!e.sent){e.next=15;break}return e.next=12,t.loadForms({params:r});case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=[];case 16:return o=e.t0,e.abrupt("return",o);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),r=function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace(/\s/g,""),e.next=3,l.findOne({"data.name":t});case 3:return r=e.sent,e.next=6,l.findOne({"data._id":t});case 6:return n=e.sent,e.next=9,l.findOne({"data.path":t});case 9:if(a=e.sent,!r){e.next=12;break}return e.abrupt("return",r.data);case 12:if(!n){e.next=14;break}return e.abrupt("return",n.data);case 14:if(!a){e.next=16;break}return e.abrupt("return",a.data);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=c(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.local().find();case 2:return r={cards:r=(r=(r=(r=e.sent).filter(function(e){return e.data.tags.indexOf("visible")>-1})).sort(function(e,t){return(e=e.data.title)>(t=t.data.title)?1:e<t?-1:0})).map(function(e){return{title:e.data.title,tags:e.data.tags,customIcon:!0,icon:"create"===t?"statics/customSVG/startSurvey.svg":"statics/customSVG/collectedData.svg",subtitle:"Last updated: "+(0,a.default)(e.data.modified).fromNow(),actions:[{text:"create"===t?"Start":"View data",target:"form",view:t,formPath:e.data.path}]}})},e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s=e.baseModel;function f(e){if(e){var t={};return e.forEach(function(e){var r="";switch(e.query){case"=":t[e.element]=e.value;break;case"!=":t[e.element+"__ne"]=e.value;break;case">":t[e.element+"__gt"]=e.value;break;case">=":t[e.element+"__gte"]=e.value;break;case"<":t[e.element+"__lt"]=e.value;break;case"<=":t[e.element+"__lte"]=e.value;break;case"in":r="",e.value.forEach(function(e,t,n){r=t===n.length-1?r+e:r+e+","}),t[e.element+"__in"]=r;break;case"nin":r="",e.value.forEach(function(e,t,n){r=t===n.length-1?r+e:r+e+","}),t[e.element+"__nin"]=r;break;case"exists":t[e.element+"__exists"]=!0;break;case"!exists":t[e.element+"__exists"]=!1;break;case"regex":t[e.element+"__regex"]=e.value}}),t}}return Object.freeze(Object.assign({},s,{getOwnName:function(){return"Form"},getFormPath:function(){return"custom"},get:r,cardFormattedForms:o,rFind:t}))};l=l({baseModel:(0,o.default)()}),t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.baseModel;return Object.freeze(Object.assign({},t,{getOwnName:function(){return"User"},getFormPath:function(){return"user"}}))};n=n({baseModel:(0,function(e){return e&&e.__esModule?e:{default:e}}(r(5)).default)()}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=l(r(18)),o=l(r(1)),i=l(r(5)),u=l(r(0)),s=l(r(10)),c=l(r(46));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var d=function(e){var t=function(){var e=f(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace(/\s/g,""),e.next=3,d.local().find({filter:{_id:t}});case 3:if(!((r=e.sent).length>0)){e.next=6;break}return e.abrupt("return",r[0]);case 6:return e.abrupt("return",{data:!1});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=f(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.find({"data.user_email":a.default.email(),"data.formio.formId":t});case 2:return r=(r=(r=e.sent).filter(function(e){return!1===e.data.sync||!1===e.data.draft})).sort(function(e,t){return(e=new Date(e.data.created))>(t=new Date(t.data.created))?-1:e<t?1:0}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=f(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.find({"data.formio.formId":t,"data.owner":a.default.user()._id}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=f(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.find({"data.sync":!1});case 2:return t=(t=(t=e.sent).filter(function(e){return!1===e.data.sync&&!1===e.data.draft&&e.data.user_email===a.default.email()&&!e.data.queuedForSync&&!e.data.syncError})).sort(function(e,t){return(e=new Date(e.data.created))>(t=new Date(t.data.created))?-1:e<t?1:0}),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,a,i,l,f,p,h,m,v=t.form,y=t.filter,g=t.limit,b=t.select,w=t.pagination,x=t.populate,k=t.dataExport,_=t.vm;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=w&&w.page||1,n=w&&w.limit||500,a={},i=[],e.next=6,d.find({form:v,limit:g,select:b,pagination:w,filter:y,populate:x});case 6:if(i=e.sent,i=(i=u.default.cloneDeep(i)).map(function(e){if(e._id&&e._id.indexOf("_local")>=0&&(e.data._lid=e._id),e.data&&!e.data._id&&(e.data._id=e._id),e.data&&!e.data.owner&&(e.data.owner=e.owner),e.data&&!e.data.modified&&(e.data.modified=e.modified),k)return e.data&&e.data.owner&&e.data.owner.data&&e.data.owner.data.email&&(e.data.ownerEmail=e.data.owner.data.email),e.data&&e.data.user_email&&(e.data.ownerEmail=e.data.user_email),e.$loki?(e.data.data._id=e._id,e.data.data):e.data;var t=e.data;if(t&&t.data){var r=t.data;delete t.data,t=Object.assign(t,r)}return t}),!k){e.next=11;break}return e.abrupt("return",i);case 11:return n>0&&(l=i.length,f=Math.ceil(l/n),a={total:l,pages:f,currentPage:r,pageLimit:n}),e.next=14,s.default.get(v);case 14:return p=e.sent,h=[],c.default.eachComponent(p.components,function(e){e.properties&&e.properties.FAST_TABLE_TEMPLATE&&h.push({key:e.key,template:e.properties.FAST_TABLE_TEMPLATE})}),i=(i=i.map(function(e){var t={_id:e._id,status:!1===e.sync?"offline":"online",draft:e.draft,HumanUpdated:e.updated?o.default.unix(e.updated).fromNow():(0,o.default)(e.modified).fromNow(),syncError:!!e.syncError&&e.syncError,updated:e.updated?o.default.unix(e.updated).unix():(0,o.default)(e.modified).unix()};return e._lid&&(t._lid=e._lid),h.forEach(function(t){var r=Function("value","data",t.template);try{e[t.key]=r(e[t.key],e)}catch(e){console.log("There is an error on one of your calculations",e)}}),e.dataCollected&&(e.dataCollected.scouting&&e.dataCollected.traps?e.dataCollected=_.$t("Scouting and traps"):e.dataCollected.scouting?e.dataCollected=_.$t("Scouting"):e.dataCollected.traps?e.dataCollected=_.$t("Traps"):e.dataCollected="-"),e.date&&(e.date=(0,o.default)(e.date).format("DD-MM-YYYY HH:mm:ss")),b?(b.forEach(function(r){r=r.replace("data.",""),t[r]=e[r]}),t):t})).sort(function(e,t){return(e=new Date(e.updated))>(t=new Date(t.updated))?-1:e<t?1:0}),m={results:i,pagination:a},e.abrupt("return",m);case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=f(regeneratorRuntime.mark(function e(t,r){var n,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.local().find({filter:{_id:r}});case 2:return n=(n=e.sent)[0],a=(a=u.default.get(function(){return n.data.data.parallelSurvey}))&&"[object Object]"!==a?JSON.parse(a).groupId:void 0,e.next=8,d.local().find({filter:{"data.formio.formId":t}});case 8:return o=e.sent,i=(i=(i=o.filter(function(e){var t=u.default.get(function(){return e.data.data.parallelSurvey});return(t=t&&"[object Object]"!==t?JSON.parse(t).groupId:void 0)&&t===a})).map(function(e){e.data.data.parallelSurvey})).map(function(e){return JSON.parse(e)}),e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.local().find();case 2:return r=e.sent,r=t?r.filter(function(e){return e.data.formio.formId===t}):r,n=(n=r.map(function(e){return d.local().getParallelSurvey(e)?{groupId:d.local().getParallelSurvey(e).groupId,groupName:d.local().getParallelSurvey(e).groupName}:void 0})).filter(function(e){return void 0!==e}),e.abrupt("return",u.default.uniqBy(n,"groupId"));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=f(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.local().getGroups();case 2:return r=(r=e.sent).filter(function(e){return e.groupId===t}),e.abrupt("return",r[0]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=f(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=f(regeneratorRuntime.mark(function e(t,r){var a,o,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.local().getGroup(r[0]);case 2:return a=e.sent,e.next=5,d.local().get(t);case 5:return o=e.sent,i=d.local().getParallelSurvey(o),u=n({},i,{groupId:a.groupId,groupName:a.groupName}),o.data.data.parallelSurvey=d.local().setParallelSurvey(u),e.next=11,d.local().update(o);case 11:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),b=e.baseModel;return Object.freeze(Object.assign({},b,{getOwnName:function(){return"Submission"},getFormPath:function(){},assingToGroup:g,removeFromGroup:y,getGroup:v,getGroups:m,setParallelSurvey:function(e){return JSON.stringify(e)},getParallelSurvey:function(e){var t=u.default.get(function(){return e.data.data.paraparallelSurvey})||u.default.get(function(){return e.data.parallelSurvey});return t=t&&"[object Object]"!==t?JSON.parse(t):void 0},getParallelParticipants:h,showView:p,getUnsync:l,stored:i,offline:r,get:t}))};d=d({baseModel:(0,i.default)()}),t.default=d},function(e,t,r){var n=r(37)(Object,"create");e.exports=n},function(e,t,r){var n=r(109);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(115);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e,t,r,n,a;return Object.freeze({set:function(n){var o=n.jwtToken,i=void 0===o?void 0:o,u=n.baseURL,s=void 0===u?void 0:u,c=n.submissionId,l=void 0===c?void 0:c,f=n.i18n,d=void 0===f?void 0:f;e=i||e,t=s||t,r=l||r,a=d||a},get:function(){return{jwt:e,url:t,submission:r,baseURL:n,translations:a}},setBaseUrl:function(e){n=e}})}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(5)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var u=function(e){var t=function(){var e=i(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,u.local().findOne();case 3:return r=e.sent,r=a.default.get(function(){return r.data},{}),Object.keys(r).forEach(function(e){"type"!==e&&(t[e]=r[e])}),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n=function(){var e=i(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.local().find();case 2:if(0!==(t=e.sent).length){e.next=5;break}return e.abrupt("return",[]);case 5:return r=u.getIsoLanguages(),n=[],t=a.default.get(function(){return t[0].data},[]),Object.keys(t).forEach(function(e){var t=r.find(function(t){return t.code===e});t&&n.push(t)}),n=n.sort(function(e,t){return(e=e.label)>(t=t.label)?1:e<t?-1:0}),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o=e.baseModel;return Object.freeze(Object.assign({},o,{getOwnName:function(){return"Translation"},getFormPath:function(){return"translations"},getFormTranslations:t,supportedLanguages:n,getIsoLanguages:function(){return r(121)}}))};u=u({baseModel:(0,n.default)()}),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(2)),a=d(r(25)),o=d(r(11)),i=d(r(42)),u=d(r(3)),s=d(r(45)),c=d(r(26)),l=d(r(8)),f=d(r(0));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(){var t=e.apply(this,arguments);return new l.default(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return l.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var h=function(){var e=function(){var e=p(regeneratorRuntime.mark(function e(t){var r,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,i=t.password,e.next=3,n.default.getLocal();case 3:return u=e.sent,s=(0,a.default)(i,u.MD5_KEY),e.next=7,o.default.local().find({"data.data.email":r});case 7:if(c=e.sent,l=c&&c[0]?c[0]:void 0,console.log("user",l),l){e.next=12;break}throw new Error;case 12:if(l.data.data.hashedPassword===s){e.next=15;break}throw new Error;case 15:return e.abrupt("return",l);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(e,t,r){return i.default.login({credentials:e,role:r}).then(function(e){var t=e.data;return i.default.updateUser(t),e})},r=function(){var r=p(regeneratorRuntime.mark(function r(n,a,o){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.default.isOnline();case 2:if(!r.sent){r.next=5;break}return r.abrupt("return",t(n,0,o));case 5:return r.abrupt("return",e(n,a));case 6:case"end":return r.stop()}},r,this)}));return function(e,t,n){return r.apply(this,arguments)}}(),d=function(e){var t=JSON.parse(localStorage.getItem("authUser"));return void 0!==(t=null!==t&&t).rolesNames.find(function(t){return t.title===e})},m=function(){var e=p(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!f.default.isEmpty(t)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,c.default.getLocal();case 4:return r=e.sent,n=t.reduce(function(e,t){return Object.keys(r).forEach(function(n){r[n]&&r[n]._id&&r[n]._id===t&&e.push(r[n].title)}),e},[]),e.abrupt("return",n.some(function(e){return d(e)||"Authenticated"===e}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("authUser");case 2:return e.next=4,localStorage.removeItem("formioToken");case 4:return e.next=6,localStorage.removeItem("formioUser");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return Object.freeze({user:function(){try{var e=JSON.parse(localStorage.getItem("authUser"));return null!==e&&e}catch(e){return localStorage.removeItem("authUser"),!1}},email:function(){var e="";return h.user()&&h.user().data&&h.user().data.email?e=h.user().data.email:h.user()&&h.user().email&&(e=h.user().email),e},hasRoleIn:function(e){return!(e&&!f.default.isEmpty(e))||e.some(function(e){return d(e)||"Authenticated"===e})},hasRoleIdIn:m,hasRole:d,check:function(){var e=JSON.parse(localStorage.getItem("authUser"));return!!e&&!!e.x_jwt_token},logOut:v,attempt:function(e,t,n){var a=this;return n=n||"user",new l.default(function(o,i){r(e,t,n).then(function(){var e=p(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.headers||{},(n=t.data).x_jwt_token=r["x-jwt-token"],localStorage.setItem("authUser",JSON.stringify(n)),localStorage.setItem("formioToken",r["x-jwt-token"]),e.next=7,s.default.local().find();case 7:i=(i=e.sent)[0],n.rolesNames=[],Object.keys(i).forEach(function(e){"$loki"!==e&&"_id"!==e&&"meta"!==e&&n.roles&&-1!==n.roles.indexOf(i[e]._id)&&n.rolesNames.push(i[e])}),localStorage.setItem("authUser",JSON.stringify(n)),o(n);case 13:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log("There was an error over here!"),i(e)})})}})}();t.default=h},function(e,t,r){var n=r(20).Symbol;e.exports=n},function(e,t,r){var n=r(68),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(34),a=r(72),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&n(e)==o}},function(e,t,r){"use strict";function n(e,t){return e.then(function(e){return[null,e]}).catch(function(e){return t&&Object.assign(e,t),[e,void 0]})}r.r(t),r.d(t,"to",function(){return n}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=f(r(3)),i=f(r(40)),u=f(r(0)),s=f(r(23)),c=f(r(2)),l=f(r(1));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var p=function(){var e=function(){var e=d(regeneratorRuntime.mark(function e(t){var r,n,o,s,f,d=t.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.local().find();case 2:return r=e.sent,n=p(r),e.next=6,c.default.getLocal();case 6:if(o=e.sent,s=u.default.get(function(){return d.offlineFiles.Pages[0].data}),!(o.fastUpdated>=n)){e.next=16;break}if(!r){e.next=12;break}return e.next=12,i.default.local().clear();case 12:return e.next=14,i.default.local().insert(a({},s,{fastUpdated:(0,l.default)().unix()}));case 14:return f=e.sent,e.abrupt("return",f);case 16:return e.abrupt("return",u.default.get(function(){return r[0].data}));case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=d(regeneratorRuntime.mark(function e(){var t,r,a,c,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,r=void 0,a=void 0,e.next=3,i.default.local().find();case 3:return t=e.sent,t=u.default.get(function(){return t[0]}),e.next=7,o.default.isOnline();case 7:if(!e.sent){e.next=17;break}return e.next=11,(0,s.default)(i.default.remote().find({limit:500}));case 11:if(c=e.sent,f=n(c,2),a=f[0],r=f[1],!a){e.next=17;break}throw new Error(a);case 17:if(r=u.default.get(function(){return r[0].data}),d=t,!r||u.default.isEmpty(r)){e.next=27;break}if(!t){e.next=23;break}return e.next=23,i.default.local().clear();case 23:return r.fastUpdated=(0,l.default)().unix(),e.next=26,i.default.local().insert(r);case 26:d=e.sent;case 27:return e.abrupt("return",d);case 28:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),r=function(){var r=d(regeneratorRuntime.mark(function r(n){var a=n.appConf,o=n.forceOnline;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("true"!==String(a.offlineStart)||o){r.next=2;break}return r.abrupt("return",e({appConf:a}));case 2:return r.abrupt("return",t());case 3:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),f=function(){var e=d(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.local().find();case 2:return r=e.sent,e.abrupt("return",u.default.get(function(){return r[0]},{}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function p(e){return u.default.get(function(){return e[0].fastUpdated},0)}return Object.freeze({set:r,getLocal:f})}();t.default=p},function(e,t){e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=l(r(3)),o=l(r(45)),i=l(r(0)),u=l(r(23)),s=l(r(44)),c=l(r(1));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var d=function(){var e=function(){var e=f(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.local().find();case 2:return t=e.sent,e.abrupt("return",i.default.get(function(){return t[0]}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,l,f,d,p,h,m=t.url;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,l=void 0,e.next=4,o.default.local().find();case 4:return f=e.sent,f=i.default.get(function(){return f[0]}),e.next=8,a.default.isOnline();case 8:if(!e.sent){e.next=18;break}return e.next=12,(0,u.default)(s.default.get(m+"/access"));case 12:if(d=e.sent,p=n(d,2),r=p[0],l=p[1],!r){e.next=18;break}throw new Error(r);case 18:if(!(l=i.default.get(function(){return l.data.roles}))){e.next=28;break}if(!f){e.next=23;break}return e.next=23,o.default.local().clear();case 23:return l.fastUpdated=(0,c.default)().unix(),e.next=26,o.default.local().insert(l);case 26:return h=e.sent,e.abrupt("return",h);case 28:return e.abrupt("return",f);case 29:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var t=f(regeneratorRuntime.mark(function t(r){var n,a,i,u=r.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(n=t.sent,a=d(n),!(u.offlineFiles.lastUpdated.date>a)&&n){t.next=13;break}if(!n){t.next=9;break}return t.next=9,o.default.local().clear();case 9:return t.next=11,o.default.local().insert(u.offlineFiles.Roles);case 11:return i=t.sent,t.abrupt("return",i);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var e=f(regeneratorRuntime.mark(function e(n){var a=n.url,o=n.appConf,i=n.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==o.offlineStart||i){e.next=2;break}return e.abrupt("return",r({appConf:o}));case 2:return e.abrupt("return",t({url:a}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function d(e){return i.default.get(function(){return e.fastUpdated},0)}return Object.freeze({set:l,getLocal:e})}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=s(r(1)),o=s(r(18)),i=s(r(43)),u=s(r(12));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(){var e=function(){var e=c(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.created=(0,a.default)().unix(),e.next=3,u.default.local().insert({data:t});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=c(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n({},t,{type:"update",updated:(0,a.default)().unix()}),e.next=3,u.default.local().get(t._lid||t._id);case 3:if(!f(r=e.sent,t)){e.next=11;break}return r.data=t,r.isSubmit=!t._lid&&r.isSubmit,e.next=9,u.default.local().update(r);case 9:return o=e.sent,e.abrupt("return",o);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var r=c(regeneratorRuntime.mark(function r(a){var o,i=a.submission,c=a.formio;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!l(i=s(i,c))){r.next=3;break}return r.abrupt("return",t(i));case 3:return r.next=5,e(i);case 5:o=r.sent,r.t0=i.trigger,r.next="importSubmission"===r.t0?9:"createLocalDraft"===r.t0?9:"resourceCreation"===r.t0?9:"createParalelSurvey"===r.t0?11:17;break;case 9:return r.abrupt("return",o);case 11:return o.trigger="createParalelSurvey",o.data.data.parallelSurvey=u.default.local().setParallelSurvey(n({},u.default.local().getParallelSurvey(o),{submissionId:o._id})),r.next=15,u.default.local().update(o);case 15:return r.abrupt("return",o);case 17:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}();function s(e,t){return e=i.default.deleteNulls(e),e=n({},e,{sync:!1,user_email:o.default.email(),formio:t})}function l(e){return e._lid||e._id}function f(e,t){var r=!1===t.draft,n=!1===e.data.draft&&!1===t.draft,a="autoSaveAsDraft"===t.trigger||"saveAsLocalDraft"===t.trigger,o=!(!e.data.access||!Array.isArray(e.data.access)),i=!1!==e.data.syncError&&void 0!==e.data.syncError;return(r||n)&&!a||!o&&a&&!i}return Object.freeze({add:r})}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(9)),o=s(r(17)),i=s(r(134)),u=s(r(135));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getPlugin",value:function(e){var t=this,r=e.formio,n=e.hashField;return{priority:0,request:function(){var e=c(regeneratorRuntime.mark(function e(o){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.default.clearCache(),"GET"!==o.method){e.next=3;break}return e.abrupt("return",i.default.handle(o));case 3:if("POST"!==o.method&&"PUT"!==o.method){e.next=8;break}return e.next=6,u.default.handle({args:o,hashField:n,formio:r});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()}}},{key:"LocalToJson",value:function(e){var t=[];return e.forEach(function(e){t.push(e.data)}),t}},{key:"getLocalTranslations",value:function(){var e=c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.local().getFormTranslations();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,r){var n=r(55),a=r(56);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var u=0;u<16;++u)t[o+u]=i[u];return t||a(i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(9)),i=s(r(16)),u=s(r(23));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(){var e=function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n,a=t.formPath,u=t.submissionID,s=void 0===u?void 0:u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,(n=JSON.parse(localStorage.getItem("authUser")))&&n.x_jwt_token&&o.default.setToken(n.x_jwt_token),e.t0=a,e.next="custom"===e.t0?6:void 0===e.t0?10:15;break;case 6:return e.next=8,i.default.get().baseURL;case 8:return r=e.sent,e.abrupt("break",20);case 10:return e.next=12,i.default.get().url;case 12:return r=e.sent,o.default.setToken(""),e.abrupt("break",20);case 15:return e.next=17,i.default.get().baseURL;case 17:return r=(r=e.sent)+"/"+a,e.abrupt("break",20);case 20:return o.default.clearCache(),r=s?r+"/submission/"+s:r,e.abrupt("return",new o.default(r));case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=c(regeneratorRuntime.mark(function t(r){var o,s,c,l,f,d,p,h,y,g,b=r.formPath,w=r.filter,x=void 0===w?void 0:w,k=r.limit,_=void 0===k?30:k,A=r.select,O=void 0===A?void 0:A,S=r.populate,R=void 0===S?void 0:S;r.pagination;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=void 0,s=void 0,t.next=3,e({formPath:b});case 3:return c=t.sent,l={limit:_},x&&Array.isArray(x)&&(f=m(x),l=a({},l,f)),O&&(d=v(O),l=a({},l,d)),R&&Array.isArray(R)&&(l.populate=R.join(",")),t.next=10,(0,u.default)(c.loadSubmissions({params:l}));case 10:if(p=t.sent,h=n(p,2),s=h[0],o=h[1],!s){t.next=34;break}y=void 0,t.t0=b,t.next="custom"===t.t0?19:void 0===t.t0?23:27;break;case 19:return t.next=21,i.default.get().baseURL;case 21:return y=t.sent,t.abrupt("break",32);case 23:return t.next=25,i.default.get().url;case 25:return y=t.sent,t.abrupt("break",32);case 27:return t.next=29,i.default.get().baseURL;case 29:return y=(y=t.sent)+"/"+b,t.abrupt("break",32);case 32:throw g='The API call to "'+y+'" could not be completed, server responded with '+JSON.stringify(s),new Error(g);case 34:return t.abrupt("return",o);case 35:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=c(regeneratorRuntime.mark(function e(t){t.formPath,t.filter;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var t=c(regeneratorRuntime.mark(function t(r){var n,a=r.id,o=r.formPath;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({formPath:o,submissionID:a});case 2:return n=t.sent,t.next=5,n.deleteSubmission();case 5:t.sent;case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=c(regeneratorRuntime.mark(function t(r){var n,a,o,i,u=r.id,s=r.formPath;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({formPath:s,submissionID:u});case 2:return n=t.sent,t.next=5,n.loadSubmission();case 5:return(a=t.sent).data.enabled=!1,o=a.data,t.next=10,n.saveSubmission({_id:u,data:o});case 10:return i=t.sent,t.abrupt("return",i);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=c(regeneratorRuntime.mark(function t(r){var n,a,i=r.formPath,u=r.element;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({formPath:i});case 2:return n=t.sent,o.default.deregisterPlugin("offline"),t.next=6,n.saveSubmission(u);case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=c(regeneratorRuntime.mark(function t(r){var n,a,i=r.formPath,u=r.document;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({formPath:i});case 2:return n=t.sent,o.default.deregisterPlugin("offline"),t.next=6,n.saveSubmission(u);case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=c(regeneratorRuntime.mark(function e(t){t.formPath,t.document;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=c(regeneratorRuntime.mark(function e(t){t.formPath,t.filter;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function m(e){if(e){var t={};return(e=e.filter(function(e){return!e.type||"local"!==e.type})).forEach(function(e){var r="";switch(e.query){case"=":t[e.element]=e.value;break;case"!=":t[e.element+"__ne"]=e.value;break;case">":t[e.element+"__gt"]=e.value;break;case">=":t[e.element+"__gte"]=e.value;break;case"<":t[e.element+"__lt"]=e.value;break;case"<=":t[e.element+"__lte"]=e.value;break;case"in":r="",e.value.forEach(function(e,t,n){r=t===n.length-1?r+e:r+e+","}),t[e.element+"__in"]=r;break;case"nin":r="",e.value.forEach(function(e,t,n){r=t===n.length-1?r+e:r+e+","}),t[e.element+"__nin"]=r;break;case"exists":t[e.element+"__exists"]=!0;break;case"!exists":t[e.element+"__exists"]=!1;break;case"regex":t[e.element+"__regex"]=e.value}}),t}}function v(e){if(e)return{select:e.reduce(function(e,t){return e=e+","+t},"_id,owner,modified")}}return Object.freeze({find:t,findOne:r,remove:s,insert:f,update:d,updateOrCreate:p,findAndRemove:h,getFormioInstance:e,softDelete:l})}();t.default=l},function(e,t){var r,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=u(e),t=s(t);var r=this.map[e];this.map[e]=r?r+","+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];g.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=v,e.Response=g,e.fetch=function(e,r){return new Promise(function(n,a){var o=new v(e,r),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:function(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var a=r.join(":").trim();t.append(n,a)}}),t}(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new g(t,e))},i.onerror=function(){a(new TypeError("Network request failed"))},i.ontimeout=function(){a(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&t.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),a=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(a))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,r){var n=r(19),a=r(69),o=r(21),i=r(22),u=1/0,s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-u?"-0":r}},function(e,t,r){var n=r(19),a=r(70),o=r(71),i="[object Null]",u="[object Undefined]",s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?u:i:s&&s in Object(e)?a(e):o(e)}},function(e,t,r){var n=r(76),a=r(77),o=r(78);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,a,r)}},function(e,t,r){var n=r(33);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(96),a=r(101);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(17)),o=s(r(2)),i=s(r(1)),u=s(r(0));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getLocalizationDate",value:function(e){return u.default.get(function(){return e[0].fastUpdated},0)}},{key:"setOfflineLocales",value:function(){var t=c(regeneratorRuntime.mark(function t(r){var n,i,u,s,c,l=r.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.local().find();case 2:return n=t.sent,i=e.getLocalizationDate(n),t.next=6,o.default.getLocal();case 6:if(u=t.sent,s=l.offlineFiles.Translations,!(u.fastUpdated>=i)){t.next=13;break}return t.next=11,e.processTranslations(s);case 11:return c=t.sent,t.abrupt("return",e.storeTranslations(c));case 13:return t.abrupt("return",n[0].data);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"setOnlineLocales",value:function(){var t=c(regeneratorRuntime.mark(function t(r){var n,o;r.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.local().find();case 2:return n=t.sent,t.next=5,e.getOnlineTranslations();case 5:if(!(o=t.sent)){t.next=14;break}return t.next=9,e.processTranslations(o);case 9:return o=t.sent,t.next=12,e.storeTranslations(o);case 12:return o=t.sent,t.abrupt("return",o);case 14:if(!(n.length>0&&n[0].data)){t.next=16;break}return t.abrupt("return",n[0].data);case 16:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"set",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var r=t.appConf,n=t.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==r.offlineStart||n){e.next=2;break}return e.abrupt("return",this.setOfflineLocales({appConf:r}));case 2:return e.abrupt("return",this.setOnlineLocales({appConf:r}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getOnlineTranslations",value:function(){var e=c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=7;break}return e.next=3,a.default.remote().find({limit:5e4});case 3:if(0!==(t=e.sent).length){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"storeTranslations",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.local().clear(),e.next=3,a.default.local().insert({data:t,fastUpdated:(0,i.default)().unix()});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"processTranslations",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.default.local().getIsoLanguages(),(n={}).label={},r.forEach(function(e){t.forEach(function(t,r){t.data&&t.data[e.code]&&(n[e.code]||(n[e.code]={}),n[e.code][t.data.label]=t.data[e.code]),t.data&&t.data.label&&(n.label[t.data.label]=t.data.label)})}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createTranslation",value:function(){var e=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.default.remote().insert({data:{en:t,label:t}}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setTranslations",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.remote().find({filter:[{element:"data.label",query:"=",value:t.label}]});case 2:return r=e.sent,n=r[0]._id,e.next=6,a.default.remote().update({_id:n,data:t});case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.baseModel;return Object.freeze(Object.assign({},t,{getOwnName:function(){return"Pages"},getFormPath:function(){return"fast-app-pages"}}))};n=n({baseModel:(0,function(e){return e&&e.__esModule?e:{default:e}}(r(5)).default)()}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=l(r(11)),o=l(r(18)),i=l(r(12)),u=l(r(131)),s=l(r(47)),c=l(r(4));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"now",value:function(){var t=f(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncUsers();case 2:if(!o.default.check()){t.next=5;break}return t.next=5,e.syncSubmission(r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"check",value:function(){var e=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.local().getUnsync();case 2:e.sent.length>0?c.default.emit({name:"FAST:SUBMISSION:UNSYNCED",data:!0,text:"There are unsynced Submissions"}):c.default.emit({name:"FAST:SUBMISSION:UNSYNCED",data:!1,text:"There are no unsynced Submissions"});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"syncSubmission",value:function(){var t=f(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.areUsersSynced();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,i.default.local().getUnsync();case 7:return r=t.sent,t.next=10,s.default.isSyncing();case 10:n=t.sent,r.length>0&&!n&&u.default.send(r);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getUsersToSync",value:function(){var e=f(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.local().find({"data.sync":!1});case 2:return t=e.sent,e.abrupt("return",t.filter(function(e){return!1===e.data.sync}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"areUsersSynced",value:function(){var t=f(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsersToSync();case 2:return r=t.sent,t.abrupt("return",!!r&&Array.isArray(r)&&0===r.length);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"syncUsers",value:function(){var t=f(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsersToSync();case 2:return r=(r=t.sent).filter(function(e){return!1===e.data.sync&&!e.data.queuedForSync&&!e.data.syncError}),t.next=6,s.default.isSyncing();case 6:n=t.sent,Array.isArray(r)&&r.length>0&&!n&&u.default.send(r);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(16)),a=s(r(11)),o=s(r(43)),i=s(r(0)),u=s(r(44));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(){var e=function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.local().findOne({"data.data.email":t.data.email});case 2:if(r=e.sent,t=o.default.deleteNulls(t),!(!!r&&!i.default.isEmpty(r))){e.next=11;break}throw r.data=t,new Error("The user email is already taken");case 11:return e.next=13,a.default.local().insert({data:t});case 13:return n=e.sent,e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=c(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.local().findOne({"data.data.email":t.data.email});case 2:return r=e.sent,t=o.default.deleteNulls(t),e.next=6,a.default.local().insert({data:t});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=c(regeneratorRuntime.mark(function e(t){var r,a=t.credentials,o=t.role;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.default.get().baseURL,r+="admin"===o?"/admin/login":"/user/login",e.abrupt("return",u.default.post(r,{data:{email:a.username,password:a.password}}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object.freeze({storeLocally:e,updateUser:t,login:r})}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"deleteNulls",value:function(e){var t=e,r=t instanceof Array;for(var a in t)null===t[a]?r?t.splice(a,1):delete t[a]:"object"===n(t[a])&&this.deleteNulls(t[a]);return t}}]),e}();t.default=o},function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.baseModel;return Object.freeze(Object.assign({},t,{getOwnName:function(){return"Role"},getFormPath:function(){}}))};n=n({baseModel:(0,function(e){return e&&e.__esModule?e:{default:e}}(r(5)).default)()}),t.default=n},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(123));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"object"===(void 0===e?"undefined":a(e))&&(e.FormioUtils=n);var o=n;t.default=o}).call(this,r(6))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var o=!1,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"isSyncing",value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"startSync",value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=!0,e.abrupt("return",this.isSyncing());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stopSync",value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.abrupt("return",this.isSyncing());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sync=t.Hash=t.Role=t.OfflinePlugin=t.FormLabels=t.countryList=t.User=t.Localization=t.Import=t.Translation=t.Configuration=t.ParallelSurvey=t.SubmissionRepo=t.Submission=t.PagesRepo=t.Pages=t.Form=t.Auth=t.Connection=t.FAST=t.Event=t.Moment=void 0;var n=O(r(49)),a=O(r(18)),o=O(r(3)),i=O(r(4)),u=O(r(132)),s=O(r(10)),c=O(r(40)),l=O(r(24)),f=O(r(12)),d=O(r(27)),p=O(r(133)),h=O(r(2)),m=O(r(17)),v=O(r(137)),y=O(r(39)),g=O(r(11)),b=O(r(138)),w=O(r(139)),x=O(r(28)),k=O(r(26)),_=O(r(140)),A=O(r(41));function O(e){return e&&e.__esModule?e:{default:e}}t.Moment=u.default,t.Event=i.default,t.FAST=n.default,t.Connection=o.default,t.Auth=a.default,t.Form=s.default,t.Pages=c.default,t.PagesRepo=l.default,t.Submission=f.default,t.SubmissionRepo=d.default,t.ParallelSurvey=p.default,t.Configuration=h.default,t.Translation=m.default,t.Import=v.default,t.Localization=y.default,t.User=g.default,t.countryList=b.default,t.FormLabels=w.default,t.OfflinePlugin=x.default,t.Role=k.default,t.Hash=_.default,t.Sync=A.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(2)),a=l(r(120)),o=l(r(39)),i=l(r(24)),u=l(r(122)),s=l(r(16)),c=l(r(26));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var d=function(){var e=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,u,l,f=t.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.next=3,n.default.set({appConf:f,forceOnline:r});case 3:return u=e.sent,s.default.setBaseUrl(u.APP_URL),e.next=7,c.default.set({url:u.APP_URL,appConf:f,forceOnline:r});case 7:return e.next=9,i.default.set({appConf:f,forceOnline:r});case 9:return e.next=11,a.default.set({appConf:f,forceOnline:r});case 11:return e.next=13,o.default.set({appConf:f,forceOnline:r});case 13:return l=e.sent,e.abrupt("return",{translations:l,defaultLenguage:localStorage.getItem("defaultLenguage")||"en",config:u});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,l,f=t.Vue,d=t.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0,void 0,s.default.set({baseURL:d.appConfigUrl,submissionId:d.appConfigId,i18n:d.i18n}),u.default.set(3e3),e.next=5,n.default.set({Vue:f,appConf:d});case 5:return r=e.sent,s.default.setBaseUrl(r.APP_URL),e.next=9,c.default.set({url:r.APP_URL,appConf:d});case 9:return e.next=11,i.default.set({appConf:d});case 11:return e.next=13,a.default.set({appConf:d});case 13:return e.next=15,o.default.set({appConf:d});case 15:return l=e.sent,e.abrupt("return",{config:r,translations:l,defaultLanguage:localStorage.getItem("defaultLenguage")||"en"});case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object.freeze({start:t,sync:e})}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.baseModel;return Object.freeze(Object.assign({},t,{getOwnName:function(){return"Configuration"},getFormPath:function(){}}))};n=n({baseModel:(0,function(e){return e&&e.__esModule?e:{default:e}}(r(5)).default)()}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=u(r(52)),o=u(r(0)),i=u(r(29));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var c=function(){var e=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,a,o=t.modelName,i=t.filter,u=(t.limit,t.select,t.pagination,t.form);return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({model:o});case 2:return r=e.sent,i&&Array.isArray(i)&&((a=i.find(function(e){return"owner"===e.element&&"local"===e.type}))&&(i={"data.user_email":a.value}),u&&(i=n({},i,{"data.formio.formId":u}))),e.abrupt("return",r.find(i));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.modelName,a=t.filter;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({model:n});case 2:return r=e.sent,e.abrupt("return",r.findOne(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.modelName,a=t.document;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({model:n});case 2:return r=e.sent,e.abrupt("return",r.remove(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.modelName,a=t.element;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.default.cloneDeep(a),e.next=3,p({model:n});case 3:return r=e.sent,a._id=(0,i.default)()+"_local",e.abrupt("return",r.insert(a));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.modelName,a=t.document;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({model:n});case 2:return r=e.sent,e.abrupt("return",r.update(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.modelName,a=t.document;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({model:n});case 2:return r=e.sent,e.next=5,r.findOne(a);case 5:e.sent||r.insert(a);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.modelName,a=t.filter;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({model:n});case 2:return r=e.sent,e.abrupt("return",r.findAndRemove(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.modelName;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({model:n});case 2:return r=e.sent,e.abrupt("return",r.clear({removeIndices:!0}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=s(regeneratorRuntime.mark(function e(t){var r,n=t.model;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.get();case 2:return r=e.sent,e.abrupt("return",r.getCollection(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object.freeze({getModel:p,find:e,findOne:t,remove:r,insert:u,update:c,updateOrCreate:l,findAndRemove:f,clear:d})}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=u(r(8)),o=u(r(53)),i=u(r(54));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=null,t=function(e){var t=e.env;return new a.default(function(e){var r=void 0,a=void 0,u=void 0,s={autosave:!0,autosaveInterval:1e3,autoload:!0,autoloadCallback:function(){["Submission","Form","Translation","User","Role","Configuration","Pages"].forEach(function(e){var t=u.getCollection(e);t||u.addCollection(e)}),e(u)}};t&&"testing"===t?u=new o.default("FAST",s):(r=new i.default("FAST"),a=new o.default.LokiPartitioningAdapter(r,{paging:!0}),u=new o.default("FAST",n({},s,{adapter:a})))})},r=function(){var r=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,r){return function n(o,i){try{var u=t[o](i),s=u.value}catch(e){return void r(e)}if(!u.done)return a.default.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function r(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).env,a=void 0===n?"prod":n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=4;break}return r.next=3,t({env:a});case 3:e=r.sent;case 4:return r.abrupt("return",e);case 5:case"end":return r.stop()}},r,this)}));return function(){return r.apply(this,arguments)}}();return Object.freeze({get:r})}();t.default=s},function(e,t){e.exports=a},function(e,t,r){var n,a,o;a=[],void 0===(o="function"==typeof(n=function(){return function(){function e(e){if(this.app="loki",void 0!==e&&(this.app=e),this.catalog=null,!this.checkAvailability())throw new Error("indexedDB does not seem to be supported for your environment")}function t(e){this.db=null,this.initializeLokiCatalog(e)}return e.prototype.checkAvailability=function(){return!("undefined"==typeof indexedDB||!indexedDB)},e.prototype.loadDatabase=function(e,r){var n=this.app,a=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,e,function(e){if("function"==typeof r){if(0===e.id)return void r(null);r(e.val)}else console.log(e.val)}):this.catalog=new t(function(t){a.catalog=t,a.loadDatabase(e,r)})},e.prototype.loadKey=e.prototype.loadDatabase,e.prototype.saveDatabase=function(e,r,n){var a=this.app,o=this;function i(e){e&&!0===e.success?n(null):n(new Error("Error saving database"))}null!==this.catalog&&null!==this.catalog.db?this.catalog.setAppKey(a,e,r,i):this.catalog=new t(function(t){o.catalog=t,t.setAppKey(a,e,r,i)})},e.prototype.saveKey=e.prototype.saveDatabase,e.prototype.deleteDatabase=function(e,r){var n=this.app,a=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,e,function(e){var t=e.id;0!==t?a.catalog.deleteAppKey(t,r):"function"==typeof r&&r({success:!0})}):this.catalog=new t(function(t){a.catalog=t,a.deleteDatabase(e,r)})},e.prototype.deleteKey=e.prototype.deleteDatabase,e.prototype.deleteDatabasePartitions=function(e){var t=this;this.getDatabaseList(function(r){r.forEach(function(r){r.startsWith(e)&&t.deleteDatabase(r)})})},e.prototype.getDatabaseList=function(e){var r=this.app,n=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKeys(r,function(t){for(var r=[],n=0;n<t.length;n++)r.push(t[n].key);"function"==typeof e?e(r):r.forEach(function(e){console.log(e)})}):this.catalog=new t(function(t){n.catalog=t,n.getDatabaseList(e)})},e.prototype.getKeyList=e.prototype.getDatabaseList,e.prototype.getCatalogSummary=function(e){this.app;var r=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAllKeys(function(t){for(var r,n,a,o,i,u=[],s=0;s<t.length;s++)r=t[s],a=r.app||"",o=r.key||"",i=r.val||"",n=2*a.length+2*o.length+i.length+1,u.push({app:r.app,key:r.key,size:n});"function"==typeof e?e(u):u.forEach(function(e){console.log(e)})}):this.catalog=new t(function(t){r.catalog=t,r.getCatalogSummary(e)})},t.prototype.initializeLokiCatalog=function(e){var t=indexedDB.open("LokiCatalog",1),r=this;t.onupgradeneeded=function(e){var t=e.target.result;if(t.objectStoreNames.contains("LokiAKV")&&t.deleteObjectStore("LokiAKV"),!t.objectStoreNames.contains("LokiAKV")){var r=t.createObjectStore("LokiAKV",{keyPath:"id",autoIncrement:!0});r.createIndex("app","app",{unique:!1}),r.createIndex("key","key",{unique:!1}),r.createIndex("appkey","appkey",{unique:!0})}},t.onsuccess=function(t){r.db=t.target.result,"function"==typeof e&&e(r)},t.onerror=function(e){throw e}},t.prototype.getAppKey=function(e,t,r){var n=this.db.transaction(["LokiAKV"],"readonly"),a=n.objectStore("LokiAKV"),o=a.index("appkey"),i=e+","+t,u=o.get(i);u.onsuccess=function(e){return function(t){var r=t.target.result;null!==r&&void 0!==r||(r={id:0,success:!1}),"function"==typeof e?e(r):console.log(r)}}(r),u.onerror=function(e){return function(t){if("function"!=typeof e)throw t;e({id:0,success:!1})}}(r)},t.prototype.getAppKeyById=function(e,t,r){var n=this.db.transaction(["LokiAKV"],"readonly"),a=n.objectStore("LokiAKV"),o=a.get(e);o.onsuccess=function(e,t){return function(r){"function"==typeof t?t(r.target.result,e):console.log(r.target.result)}}(r,t)},t.prototype.setAppKey=function(e,t,r,n){var a=this.db.transaction(["LokiAKV"],"readwrite"),o=a.objectStore("LokiAKV"),i=o.index("appkey"),u=e+","+t,s=i.get(u);s.onsuccess=function(a){var i=a.target.result;null===i||void 0===i?i={app:e,key:t,appkey:e+","+t,val:r}:i.val=r;var u=o.put(i);u.onerror=function(e){return function(t){"function"==typeof e?e({success:!1}):(console.error("LokiCatalog.setAppKey (set) onerror"),console.error(s.error))}}(n),u.onsuccess=function(e){return function(t){"function"==typeof e&&e({success:!0})}}(n)},s.onerror=function(e){return function(t){"function"==typeof e?e({success:!1}):(console.error("LokiCatalog.setAppKey (get) onerror"),console.error(s.error))}}(n)},t.prototype.deleteAppKey=function(e,t){var r=this.db.transaction(["LokiAKV"],"readwrite"),n=r.objectStore("LokiAKV"),a=n.delete(e);a.onsuccess=function(e){return function(t){"function"==typeof e&&e({success:!0})}}(t),a.onerror=function(e){return function(t){"function"==typeof e?e({success:!1}):(console.error("LokiCatalog.deleteAppKey raised onerror"),console.error(a.error))}}(t)},t.prototype.getAppKeys=function(e,t){var r=this.db.transaction(["LokiAKV"],"readonly"),n=r.objectStore("LokiAKV"),a=n.index("app"),o=IDBKeyRange.only(e),i=a.openCursor(o);i.onsuccess=function(e,t){return function(r){var n=r.target.result;if(n){var a=n.value;e.push(a),n.continue()}else"function"==typeof t?t(e):console.log(e)}}([],t),i.onerror=function(e){return function(t){"function"==typeof e?e(null):(console.error("LokiCatalog.getAppKeys raised onerror"),console.error(t))}}(t)},t.prototype.getAllKeys=function(e){var t=this.db.transaction(["LokiAKV"],"readonly"),r=t.objectStore("LokiAKV"),n=r.openCursor();n.onsuccess=function(e,t){return function(r){var n=r.target.result;if(n){var a=n.value;e.push(a),n.continue()}else"function"==typeof t?t(e):console.log(e)}}([],e),n.onerror=function(e){return function(t){"function"==typeof e&&e(null)}}(e)},e}()})?n.apply(t,a):n)||(e.exports=o)},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(a.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(58),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(6))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,a=1,o={},i=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;n=function(t){var r=u.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return o[a]=i,n(a),a++},s.clearImmediate=c}function c(e){delete o[e]}function l(e){if(i)setTimeout(l,0,e);else{var t=o[e];if(t){i=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{c(e),i=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(6),r(31))},function(e,t,r){(function(n){var a;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(o){var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=10;function s(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==o?e.maxListeners:u,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=u}function l(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==n&&n.emitWarning){var a=new Error(r);a.name="MaxListenersExceededWarning",a.emitter=this,a.count=e,n.emitWarning(a)}else console.error(r),console.trace&&console.trace()}function f(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}function d(e,t,r,n){if(!r)return[];var a,o,i,u,s,c,l,f=[],p=t.length,h=t[n],m=t[n+1];if(n===p&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(a=0,o=r._listeners.length;a<o;a++)e&&e.push(r._listeners[a]);return[r]}if("*"===h||"**"===h||r[h]){if("*"===h){for(i in r)"_listeners"!==i&&r.hasOwnProperty(i)&&(f=f.concat(d(e,t,r[i],n+1)));return f}if("**"===h){for(i in(l=n+1===p||n+2===p&&"*"===m)&&r._listeners&&(f=f.concat(d(e,t,r,p))),r)"_listeners"!==i&&r.hasOwnProperty(i)&&("*"===i||"**"===i?(r[i]._listeners&&!l&&(f=f.concat(d(e,t,r[i],p))),f=f.concat(d(e,t,r[i],n))):f=i===m?f.concat(d(e,t,r[i],n+2)):f.concat(d(e,t,r[i],n)));return f}f=f.concat(d(e,t,r[h],n+1))}if((u=r["*"])&&d(e,t,u,n+1),s=r["**"])if(n<p)for(i in s._listeners&&d(e,t,s,p),s)"_listeners"!==i&&s.hasOwnProperty(i)&&(i===m?d(e,t,s[i],n+2):i===h?d(e,t,s[i],n+1):((c={})[i]=s[i],d(e,t,{"**":c},n+1)));else s._listeners?d(e,t,s,p):s["*"]&&s["*"]._listeners&&d(e,t,s["*"],p);return f}f.EventEmitter2=f,f.prototype.delimiter=".",f.prototype.setMaxListeners=function(e){e!==o&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},f.prototype.event="",f.prototype.once=function(e,t){return this._once(e,t,!1)},f.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},f.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},f.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},f.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},f.prototype._many=function(e,t,r,n){var a=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&a.off(e,o),r.apply(this,arguments)}return o._origin=r,this._on(e,o,n),a},f.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,a,o,i=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),i>3)for(t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,i){case 1:o[n].call(this,e);break;case 2:o[n].call(this,e,arguments[1]);break;case 3:o[n].call(this,e,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,u,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,i){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(i-1),a=1;a<i;a++)t[a-1]=arguments[a];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(i>3)for(t=new Array(i-1),a=1;a<i;a++)t[a-1]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,i){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},f.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,a,o,i=[],u=arguments.length;if(this._all){if(u>3)for(t=new Array(u),a=1;a<u;a++)t[a]=arguments[a];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,u){case 1:i.push(this._all[n].call(this,e));break;case 2:i.push(this._all[n].call(this,e,arguments[1]));break;case 3:i.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:i.push(this._all[n].apply(this,t))}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,c,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,u){case 1:i.push(o.call(this));break;case 2:i.push(o.call(this,arguments[1]));break;case 3:i.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(u-1),a=1;a<u;a++)t[a-1]=arguments[a];i.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),u>3)for(t=new Array(u-1),a=1;a<u;a++)t[a-1]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,u){case 1:i.push(o[n].call(this));break;case 2:i.push(o[n].call(this,arguments[1]));break;case 3:i.push(o[n].call(this,arguments[1],arguments[2]));break;default:i.push(o[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(i)},f.prototype.on=function(e,t){return this._on(e,t,!1)},f.prototype.prependListener=function(e,t){return this._on(e,t,!0)},f.prototype.onAny=function(e){return this._onAny(e,!1)},f.prototype.prependAny=function(e){return this._onAny(e,!0)},f.prototype.addListener=f.prototype.on,f.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},f.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this._newListener&&this.emit("newListener",e,t),this.wildcard?(function(e,t){for(var r=0,n=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<n;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var a=this.listenerTree,i=e.shift();i!==o;){if(a[i]||(a[i]={}),a=a[i],0===e.length)return a._listeners?("function"==typeof a._listeners&&(a._listeners=[a._listeners]),a._listeners.push(t),!a._listeners.warned&&this._maxListeners>0&&a._listeners.length>this._maxListeners&&(a._listeners.warned=!0,l.call(this,a._listeners.length,i))):a._listeners=t,!0;i=e.shift()}return!0}.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},f.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();n=d.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r})}for(var u=0;u<n.length;u++){var s=n[u];if(r=s._listeners,i(r)){for(var c=-1,l=0,f=r.length;l<f;l++)if(r[l]===t||r[l].listener&&r[l].listener===t||r[l]._origin&&r[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===r.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(t!==o){var r=Object.keys(t);for(var n in r){var a=r[n],i=t[a];i instanceof Function||"object"!=typeof i||null===i||(Object.keys(i).length>0&&e(t[a]),0===Object.keys(i).length&&delete t[a])}}}(this.listenerTree),this},f.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},f.prototype.removeListener=f.prototype.off,f.prototype.removeAllListeners=function(e){if(e===o)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=d.call(this,null,t,this.listenerTree,0),n=0;n<r.length;n++){r[n]._listeners=null}else this._events&&(this._events[e]=null);return this},f.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,r,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},f.prototype.eventNames=function(){return Object.keys(this._events)},f.prototype.listenerCount=function(e){return this.listeners(e).length},f.prototype.listenersAny=function(){return this._all?this._all:[]},(a=function(){return f}.call(t,r,t,e))===o||(e.exports=a)}()}).call(this,r(31))},function(e,t){t.defaults={},t.set=function(e,r,n){var a=n||{},o=t.defaults,i=a.expires||o.expires,u=a.domain||o.domain,s=void 0!==a.path?a.path:void 0!==o.path?o.path:"/",c=void 0!==a.secure?a.secure:o.secure,l=void 0!==a.httponly?a.httponly:o.httponly,f=void 0!==a.samesite?a.samesite:o.samesite,d=i?new Date("number"==typeof i?(new Date).getTime()+864e5*i:i):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+r.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(d&&d.getTime()>=0?";expires="+d.toUTCString():"")+(u?";domain="+u:"")+(s?";path="+s:"")+(c?";secure":"")+(l?";httponly":"")+(f?";samesite="+f:"")},t.get=function(e){for(var t=document.cookie.split(";");t.length;){var r=t.pop(),n=r.indexOf("=");if(n=n<0?r.length:n,decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))===e)return decodeURIComponent(r.slice(n+1))}return null},t.erase=function(e,r){t.set(e,"",{expires:-1,domain:r&&r.domain,path:r&&r.path,secure:0,httponly:0})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var r=t.pop(),n=r.indexOf("=");n=n<0?r.length:n,e[decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))]=decodeURIComponent(r.slice(n+1))}return e}},function(e,t){e.exports=function(e){if(!e||"object"!=typeof e)return e;var t;if(n(e)){var a=e.length;t=Array(a);for(var o=0;o<a;o++)t[o]=e[o]}else{var i=r(e);t={};o=0;for(var u=i.length;o<u;o++){var s=i[o];t[s]=e[s]}}return t};var r=Object.keys||function(e){var t=[];for(var r in e)({}).hasOwnProperty.call(e,r)&&t.push(r);return t},n=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"storage",{enumerable:!0,get:function(){return n.default}});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(63))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(64)),a=u(r(65)),o=u(r(66)),i=u(r(84));function u(e){return e&&e.__esModule?e:{default:e}}var s={base64:n.default,dropbox:a.default,s3:o.default,url:i.default};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(7));var a=function(){return{title:"Base64",name:"base64",uploadFile:function(e,t){var r=this,a=new FileReader;return new n.default(function(n,o){a.onload=function(r){var a=r.target.result;n({storage:"base64",name:t,url:a,size:e.size,type:e.type,data:a.replace("data:".concat(e.type,";base64,"),"")})},a.onerror=function(){return o(r)},a.readAsDataURL(e)})},downloadFile:function(e){return n.default.resolve(e)}}};a.title="Base64";var o=a;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(7));var a=function(e){return{uploadFile:function(t,r,a,o){return new n.default(function(n,i){var u=new XMLHttpRequest;"function"==typeof o&&(u.upload.onprogress=o);var s=new FormData;s.append("name",r),s.append("dir",a),s.append("file",t),u.onerror=function(e){e.networkError=!0,i(e)},u.onload=function(){if(u.status>=200&&u.status<300){var e=JSON.parse(u.response);e.storage="dropbox",e.size=t.size,e.type=t.type,e.url=e.path_lower,n(e)}else i(u.response||"Unable to upload file")},u.onabort=i,u.open("POST","".concat(e.formUrl,"/storage/dropbox"));var c=e.getToken();c&&u.setRequestHeader("x-jwt-token",c),u.send(s)})},downloadFile:function(t){var r=e.getToken();return t.url="".concat(e.formUrl,"/storage/dropbox?path_lower=").concat(t.path_lower).concat(r?"&x-jwt-token=".concat(r):""),n.default.resolve(t)}}};a.title="Dropbox";var o=a;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(7)),a=o(r(67));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return(0,a.default)(e,"/")},u=function(e){return e.filter(function(e){return!!e}).map(i).join("/")},s=function(e){return{uploadFile:function(t,r,a,o){return new n.default(function(n,i){var s=new XMLHttpRequest;s.onerror=function(e){e.networkError=!0,i(e)},s.onabort=i,s.onload=function(){if(s.status>=200&&s.status<300){var e=JSON.parse(s.response),c=new XMLHttpRequest;if("function"==typeof o&&(c.upload.onprogress=o),e.data.fileName=r,e.data.key=u([e.data.key,a,r]),c.onerror=function(e){e.networkError=!0,i(e)},c.onload=function(){c.status>=200&&c.status<300?n({storage:"s3",name:r,bucket:e.bucket,key:e.data.key,url:u([e.url,e.data.key]),acl:e.data.acl,size:t.size,type:t.type}):i(c.response||"Unable to upload file")},c.onabort=i,e.signed)c.open("PUT",e.signed),c.setRequestHeader("Content-Type",t.type),c.send(t);else{var l=new FormData;for(var f in e.data)l.append(f,e.data[f]);l.append("file",t),c.open("POST",e.url),c.send(l)}}else i(s.response||"Unable to sign file")},s.open("POST","".concat(e.formUrl,"/storage/s3")),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json; charset=UTF-8");var c=e.getToken();c&&s.setRequestHeader("x-jwt-token",c),s.send(JSON.stringify({name:u([a,r]),size:t.size,type:t.type}))})},downloadFile:function(t){return"public-read"!==t.acl?e.makeRequest("file","".concat(e.formUrl,"/storage/s3?bucket=").concat(i(t.bucket),"&key=").concat(i(t.key)),"GET"):n.default.resolve(t)}}};s.title="S3";var c=s;t.default=c},function(e,t,r){var n=r(33),a=r(73),o=r(75),i=r(79),u=r(80),s=r(36),c=/^\s+|\s+$/g;e.exports=function(e,t,r){if((e=s(e))&&(r||void 0===t))return e.replace(c,"");if(!e||!(t=n(t)))return e;var l=u(e),f=u(t),d=i(l,f),p=o(l,f)+1;return a(l,d,p).join("")}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(6))},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},function(e,t,r){var n=r(19),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,u=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[u]=r:delete e[u]),a}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(74);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},function(e,t){e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}},function(e,t,r){var n=r(35);e.exports=function(e,t){for(var r=e.length;r--&&n(t,e[r],0)>-1;);return r}},function(e,t){e.exports=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(35);e.exports=function(e,t){for(var r=-1,a=e.length;++r<a&&n(t,e[r],0)>-1;);return r}},function(e,t,r){var n=r(81),a=r(82),o=r(83);e.exports=function(e){return a(e)?o(e):n(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?"+s+("(?:\\u200d(?:"+[o,i,u].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*"),l="(?:"+[o+n+"?",n,i,u,r].join("|")+")",f=RegExp(a+"(?="+a+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(7));var a=function(e){return{title:"Url",name:"url",uploadFile:function(t,r,a,o,i){return new n.default(function(n,u){var s={dir:a,file:t,name:r},c=new XMLHttpRequest;"function"==typeof o&&(c.upload.onprogress=o);var l=new FormData;for(var f in s)l.append(f,s[f]);c.onload=function(){if(c.status>=200&&c.status<300){var e={};try{e=(e="string"==typeof c.response?JSON.parse(c.response):{})&&e.data?e.data:e}catch(t){e={}}var a=e.hasOwnProperty("url")?e.url:"".concat(c.responseURL,"/").concat(r);n({storage:"url",name:r,url:a,size:t.size,type:t.type,data:e})}else u(c.response||"Unable to upload file")},c.onerror=function(){return u(c)},c.onabort=function(){return u(c)},c.open("POST",i);var d=e.getToken();d&&c.setRequestHeader("x-jwt-token",d),c.send(l)})},downloadFile:function(e){return n.default.resolve(e)}}};a.title="Url";var o=a;t.default=o},function(e,t,r){var n=r(86);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},function(e,t,r){var n=r(87),a=r(119);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[a(t[r++])];return r&&r==o?e:void 0}},function(e,t,r){var n=r(21),a=r(88),o=r(89),i=r(36);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:o(i(e))}},function(e,t,r){var n=r(21),a=r(22),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,r){var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(90)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,function(e,r,n,o){t.push(n?o.replace(a,"$1"):r||e)}),t});e.exports=o},function(e,t,r){var n=r(91),a=500;e.exports=function(e){var t=n(e,function(e){return r.size===a&&r.clear(),e}),r=t.cache;return t}},function(e,t,r){var n=r(92),a="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t,r){var n=r(93),a=r(114),o=r(116),i=r(117),u=r(118);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=u,e.exports=s},function(e,t,r){var n=r(94),a=r(106),o=r(113);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},function(e,t,r){var n=r(95),a=r(102),o=r(103),i=r(104),u=r(105);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=u,e.exports=s},function(e,t,r){var n=r(13);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t,r){var n=r(97),a=r(98),o=r(38),i=r(100),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(n(e)?d:u).test(i(e))}},function(e,t,r){var n=r(34),a=r(38),o="[object AsyncFunction]",i="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";e.exports=function(e){if(!a(e))return!1;var t=n(e);return t==i||t==u||t==o||t==s}},function(e,t,r){var n=r(99),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},function(e,t,r){var n=r(20)["__core-js_shared__"];e.exports=n},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(13),a="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===a?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(13),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},function(e,t,r){var n=r(13),a="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?a:t,this}},function(e,t,r){var n=r(107),a=r(108),o=r(110),i=r(111),u=r(112);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=u,e.exports=s},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(14),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():a.call(t,r,1),--this.size,0))}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(14);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(14);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(14);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},function(e,t,r){var n=r(37)(r(20),"Map");e.exports=n},function(e,t,r){var n=r(15);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(15);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(15);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(15);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},function(e,t,r){var n=r(22),a=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(10)),a=s(r(4)),o=s(r(2)),i=s(r(0)),u=s(r(1));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var l=function(){var e=function(){var e=c(regeneratorRuntime.mark(function e(t){var r,a,l,f,d=this,p=t.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.local().find();case 2:return r=e.sent,a=s(r),e.next=6,o.default.getLocal();case 6:if(l=e.sent,f=i.default.get(function(){return p.offlineFiles.Forms}),!(l.fastUpdated>=a)){e.next=14;break}if(!r){e.next=12;break}return e.next=12,n.default.local().clear();case 12:return f.forEach(function(){var e=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.local().insert({data:t,fastUpdated:(0,u.default)().unix()});case 2:case"end":return e.stop()}},e,d)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",f);case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=c(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.remote().find();case 2:t=e.sent,r=(0,u.default)().unix(),t.forEach(function(){var e=c(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.local().findOne({"data._id":t._id});case 2:if(a=e.sent,i.default.isEmpty(a)){e.next=9;break}return a.data=t,e.next=7,n.default.local().update(a);case 7:e.next=11;break;case 9:return e.next=11,n.default.local().insert({data:t,fastUpdated:r});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),a.default.emit({name:"FAST:FORMS:UPDATED",data:t.length,text:"Forms were updated"});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),r=function(){var r=c(regeneratorRuntime.mark(function r(n){var a=n.appConf,o=n.forceOnline;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("true"!==a.offlineStart||o){r.next=2;break}return r.abrupt("return",e({appConf:a}));case 2:return r.abrupt("return",t());case 3:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}();function s(e){return i.default.get(function(){return e[0].fastUpdated},0)}return Object.freeze({set:r})}();t.default=l},function(e){e.exports=[{code:"ab",direction:"ltr",label:"Abkhazian"},{code:"aa",direction:"ltr",label:"Afar"},{code:"af",direction:"ltr",label:"Afrikaans"},{code:"ak",direction:"ltr",label:"Akan"},{code:"sq",direction:"ltr",label:"Albanian"},{code:"am",direction:"ltr",label:"Amharic"},{code:"ar",direction:"rtl",label:"Arabic"},{code:"an",direction:"ltr",label:"Aragonese"},{code:"hy",direction:"ltr",label:"Armenian"},{code:"as",direction:"ltr",label:"Assamese"},{code:"av",direction:"ltr",label:"Avaric"},{code:"ae",direction:"ltr",label:"Avestan"},{code:"ay",direction:"ltr",label:"Aymara"},{code:"az",direction:"ltr",label:"Azerbaijani"},{code:"bm",direction:"ltr",label:"Bambara"},{code:"ba",direction:"ltr",label:"Bashkir"},{code:"eu",direction:"ltr",label:"Basque"},{code:"be",direction:"ltr",label:"Belarusian"},{code:"bn",direction:"ltr",label:"Bengali"},{code:"bh",direction:"ltr",label:"Bihari languages"},{code:"bi",direction:"ltr",label:"Bislama"},{code:"bs",direction:"ltr",label:"Bosnian"},{code:"br",direction:"ltr",label:"Breton"},{code:"bg",direction:"ltr",label:"Bulgarian"},{code:"my",direction:"ltr",label:"Burmese"},{code:"ca",direction:"ltr",label:"Catalan, Valencian"},{code:"km",direction:"ltr",label:"Central Khmer"},{code:"ch",direction:"ltr",label:"Chamorro"},{code:"ce",direction:"ltr",label:"Chechen"},{code:"ny",direction:"ltr",label:"Chichewa"},{code:"zh",direction:"ltr",label:"Chinese"},{code:"cu",direction:"ltr",label:"Church Slavonic, Old Bulgarian, Old Church Slavonic"},{code:"cv",direction:"ltr",label:"Chuvash"},{code:"kw",direction:"ltr",label:"Cornish"},{code:"co",direction:"ltr",label:"Corsican"},{code:"cr",direction:"ltr",label:"Cree"},{code:"hr",direction:"ltr",label:"Croatian"},{code:"cs",direction:"ltr",label:"Czech"},{code:"da",direction:"ltr",label:"Danish"},{code:"dv",direction:"ltr",label:"Divehi, Dhivehi, Maldivian"},{code:"nl",direction:"ltr",label:"Dutch, Flemish"},{code:"dz",direction:"ltr",label:"Dzongkha"},{code:"en",direction:"ltr",label:"English"},{code:"eo",direction:"ltr",label:"Esperanto"},{code:"et",direction:"ltr",label:"Estonian"},{code:"ee",direction:"ltr",label:"Ewe"},{code:"fo",direction:"ltr",label:"Faroese"},{code:"fj",direction:"ltr",label:"Fijian"},{code:"fi",direction:"ltr",label:"Finnish"},{code:"fr",direction:"ltr",label:"French"},{code:"ff",direction:"ltr",label:"Fulah"},{code:"gd",direction:"ltr",label:"Gaelic, Scottish Gaelic"},{code:"gl",direction:"ltr",label:"Galician"},{code:"lg",direction:"ltr",label:"Ganda"},{code:"ka",direction:"ltr",label:"Georgian"},{code:"de",direction:"ltr",label:"German"},{code:"ki",direction:"ltr",label:"Gikuyu, Kikuyu"},{code:"el",direction:"ltr",label:"Greek (Modern)"},{code:"kl",direction:"ltr",label:"Greenlandic, Kalaallisut"},{code:"gn",direction:"ltr",label:"Guarani"},{code:"gu",direction:"ltr",label:"Gujarati"},{code:"ht",direction:"ltr",label:"Haitian, Haitian Creole"},{code:"ha",direction:"ltr",label:"Hausa"},{code:"he",direction:"ltr",label:"Hebrew"},{code:"hz",direction:"ltr",label:"Herero"},{code:"hi",direction:"ltr",label:"Hindi"},{code:"ho",direction:"ltr",label:"Hiri Motu"},{code:"hu",direction:"ltr",label:"Hungarian"},{code:"is",direction:"ltr",label:"Icelandic"},{code:"io",direction:"ltr",label:"Ido"},{code:"ig",direction:"ltr",label:"Igbo"},{code:"id",direction:"ltr",label:"Indonesian"},{code:"ia",direction:"ltr",label:"Interlingua (International Auxiliary Language Association)"},{code:"ie",direction:"ltr",label:"Interlingue"},{code:"iu",direction:"ltr",label:"Inuktitut"},{code:"ik",direction:"ltr",label:"Inupiaq"},{code:"ga",direction:"ltr",label:"Irish"},{code:"it",direction:"ltr",label:"Italian"},{code:"ja",direction:"ltr",label:"Japanese"},{code:"jv",direction:"ltr",label:"Javanese"},{code:"kn",direction:"ltr",label:"Kannada"},{code:"kr",direction:"ltr",label:"Kanuri"},{code:"ks",direction:"ltr",label:"Kashmiri"},{code:"kk",direction:"ltr",label:"Kazakh"},{code:"rw",direction:"ltr",label:"Kinyarwanda"},{code:"kv",direction:"ltr",label:"Komi"},{code:"kg",direction:"ltr",label:"Kongo"},{code:"ko",direction:"ltr",label:"Korean"},{code:"kj",direction:"ltr",label:"Kwanyama, Kuanyama"},{code:"ku",direction:"ltr",label:"Kurdish"},{code:"ky",direction:"ltr",label:"Kyrgyz"},{code:"lo",direction:"ltr",label:"Lao"},{code:"la",direction:"ltr",label:"Latin"},{code:"lv",direction:"ltr",label:"Latvian"},{code:"lb",direction:"ltr",label:"Letzeburgesch, Luxembourgish"},{code:"li",direction:"ltr",label:"Limburgish, Limburgan, Limburger"},{code:"ln",direction:"ltr",label:"Lingala"},{code:"lt",direction:"ltr",label:"Lithuanian"},{code:"lu",direction:"ltr",label:"Luba-Katanga"},{code:"mk",direction:"ltr",label:"Macedonian"},{code:"mg",direction:"ltr",label:"Malagasy"},{code:"ms",direction:"ltr",label:"Malay"},{code:"ml",direction:"ltr",label:"Malayalam"},{code:"mt",direction:"ltr",label:"Maltese"},{code:"gv",direction:"ltr",label:"Manx"},{code:"mi",direction:"ltr",label:"Maori"},{code:"mr",direction:"ltr",label:"Marathi"},{code:"mh",direction:"ltr",label:"Marshallese"},{code:"ro",direction:"ltr",label:"Moldovan, Moldavian, Romanian"},{code:"mn",direction:"ltr",label:"Mongolian"},{code:"na",direction:"ltr",label:"Nauru"},{code:"nv",direction:"ltr",label:"Navajo, Navaho"},{code:"nd",direction:"ltr",label:"Northern Ndebele"},{code:"ng",direction:"ltr",label:"Ndonga"},{code:"ne",direction:"ltr",label:"Nepali"},{code:"se",direction:"ltr",label:"Northern Sami"},{code:"no",direction:"ltr",label:"Norwegian"},{code:"nb",direction:"ltr",label:"Norwegian Bokmål"},{code:"nn",direction:"ltr",label:"Norwegian Nynorsk"},{code:"ii",direction:"ltr",label:"Nuosu, Sichuan Yi"},{code:"oc",direction:"ltr",label:"Occitan (post 1500)"},{code:"oj",direction:"ltr",label:"Ojibwa"},{code:"or",direction:"ltr",label:"Oriya"},{code:"om",direction:"ltr",label:"Oromo"},{code:"os",direction:"ltr",label:"Ossetian, Ossetic"},{code:"pi",direction:"ltr",label:"Pali"},{code:"pa",direction:"ltr",label:"Panjabi, Punjabi"},{code:"ps",direction:"ltr",label:"Pashto, Pushto"},{code:"fa",direction:"ltr",label:"Persian"},{code:"pl",direction:"ltr",label:"Polish"},{code:"pt",direction:"ltr",label:"Portuguese"},{code:"qu",direction:"ltr",label:"Quechua"},{code:"rm",direction:"ltr",label:"Romansh"},{code:"rn",direction:"ltr",label:"Rundi"},{code:"ru",direction:"ltr",label:"Russian"},{code:"sm",direction:"ltr",label:"Samoan"},{code:"sg",direction:"ltr",label:"Sango"},{code:"sa",direction:"ltr",label:"Sanskrit"},{code:"sc",direction:"ltr",label:"Sardinian"},{code:"sr",direction:"ltr",label:"Serbian"},{code:"sn",direction:"ltr",label:"Shona"},{code:"sd",direction:"ltr",label:"Sindhi"},{code:"si",direction:"ltr",label:"Sinhala, Sinhalese"},{code:"sk",direction:"ltr",label:"Slovak"},{code:"sl",direction:"ltr",label:"Slovenian"},{code:"so",direction:"ltr",label:"Somali"},{code:"st",direction:"ltr",label:"Sotho, Southern"},{code:"nr",direction:"ltr",label:"South Ndebele"},{code:"es",direction:"ltr",label:"Spanish"},{code:"su",direction:"ltr",label:"Sundanese"},{code:"sw",direction:"ltr",label:"Swahili"},{code:"ss",direction:"ltr",label:"Swati"},{code:"sv",direction:"ltr",label:"Swedish"},{code:"tl",direction:"ltr",label:"Tagalog"},{code:"ty",direction:"ltr",label:"Tahitian"},{code:"tg",direction:"ltr",label:"Tajik"},{code:"ta",direction:"ltr",label:"Tamil"},{code:"tt",direction:"ltr",label:"Tatar"},{code:"te",direction:"ltr",label:"Telugu"},{code:"th",direction:"ltr",label:"Thai"},{code:"bo",direction:"ltr",label:"Tibetan"},{code:"ti",direction:"ltr",label:"Tigrinya"},{code:"to",direction:"ltr",label:"Tonga (Tonga Islands)"},{code:"ts",direction:"ltr",label:"Tsonga"},{code:"tn",direction:"ltr",label:"Tswana"},{code:"tr",direction:"ltr",label:"Turkish"},{code:"tk",direction:"ltr",label:"Turkmen"},{code:"tw",direction:"ltr",label:"Twi"},{code:"ug",direction:"ltr",label:"Uighur, Uyghur"},{code:"uk",direction:"ltr",label:"Ukrainian"},{code:"umb",direction:"ltr",label:"Umbundu"},{code:"ur",direction:"ltr",label:"Urdu"},{code:"uz",direction:"ltr",label:"Uzbek"},{code:"ve",direction:"ltr",label:"Venda"},{code:"vi",direction:"ltr",label:"Vietnamese"},{code:"vo",direction:"ltr",label:"Volap_k"},{code:"wa",direction:"ltr",label:"Walloon"},{code:"cy",direction:"ltr",label:"Welsh"},{code:"fy",direction:"ltr",label:"Western Frisian"},{code:"wo",direction:"ltr",label:"Wolof"},{code:"xh",direction:"ltr",label:"Xhosa"},{code:"yi",direction:"ltr",label:"Yiddish"},{code:"yo",direction:"ltr",label:"Yoruba"},{code:"za",direction:"ltr",label:"Zhuang, Chuang"},{code:"zu",direction:"ltr",label:"Zulu"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(41)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e,t){var r=Date.now,n=window.requestAnimationFrame,a=r(),o=void 0;return n(function i(){r()-a<t||(a+=t,e()),o||n(i)}),{clear:function(){o=1}}},o=a.default.debounce(n.default.now,2e3),r(o,t);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object.freeze({set:e})}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluate=h,t.getRandomComponentId=m,t.getPropertyValue=v,t.getElementRect=function(e){var t=window.getComputedStyle(e,null);return{x:v(t,"left"),y:v(t,"top"),width:v(t,"width"),height:v(t,"height")}},t.boolValue=function(e){return n.default.isBoolean(e)?e:n.default.isString(e)?"true"===e.toLowerCase():!!e},t.isMongoId=function(e){return e.toString().match(/^[0-9a-fA-F]{24}$/)},t.isLayoutComponent=function(e){return Boolean(e.columns&&Array.isArray(e.columns)||e.rows&&Array.isArray(e.rows)||e.components&&Array.isArray(e.components))},t.eachComponent=y,t.matchComponent=g,t.getComponent=function(e,t,r){var n;return y(e,function(e,r){if(r===t)return e.path=r,n=e,!0},r),n},t.findComponents=function(e,t){var r=[];return y(e,function(e,n){g(e,t)&&(e.path=n,r.push(e))},!0),r},t.flattenComponents=function(e,t){var r={};return y(e,function(e,t){r[t]=e},t),r},t.hasCondition=function(e){return Boolean(e.customConditional||e.conditional&&e.conditional.when||e.conditional&&e.conditional.json)},t.parseFloatExt=b,t.formatAsCurrency=function(e){var t=b(e);if(n.default.isNaN(t))return"";var r=n.default.round(t,2).toString().split(".");return r[0]=n.default.chunk(Array.from(r[0]).reverse(),3).reverse().map(function(e){return e.reverse().join("")}).join(","),r[1]=n.default.pad(r[1],2,"0"),r.join(".")},t.escapeRegExCharacters=function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")},t.checkCalculated=function(e,t,r){e.calculateValue&&n.default.set(r,e.key,h(e.calculateValue,{value:void 0,data:t?t.data:r,row:r,util:this,component:e},"value"))},t.checkSimpleConditional=w,t.checkCustomConditional=x,t.checkJsonConditional=k,t.checkCondition=function(e,t,r,n,a){if(e.customConditional)return x(e,e.customConditional,t,r,n,"show",!0,a);if(e.conditional&&e.conditional.when)return w(e,e.conditional,t,r);if(e.conditional&&e.conditional.json)return k(e,e.conditional.json,t,r,n,a);return!0},t.checkTrigger=function(e,t,r,n,a,o){switch(t.type){case"simple":return w(e,t.simple,r,n);case"javascript":return x(e,t.javascript,r,n,a,"result",!1,o);case"json":return k(e,t.json,r,n,a,!1)}return!1},t.setActionProperty=function(e,t,r,a,o,i){switch(t.property.type){case"boolean":n.default.get(e,t.property.value,!1).toString()!==t.state.toString()&&n.default.set(e,t.property.value,"true"===t.state.toString());break;case"string":var u={data:a,row:r,component:e,result:o},s=i&&i.interpolate?i.interpolate(t.text,u):A(t.text,u);s!==n.default.get(e,t.property.value,"")&&n.default.set(e,t.property.value,s)}return e},t.getValue=_,t.interpolate=A,t.uniqueName=function(e){var t=e.toLowerCase().replace(/[^0-9a-z.]/g,"").split("."),r=t[0],a=t.length>1?".".concat(n.default.last(t)):"";return"".concat(r.substr(0,10),"-").concat(O()).concat(a)},t.guid=O,t.getDateSetting=function(e){if(n.default.isNil(e)||n.default.isNaN(e)||""===e)return null;if(e instanceof Date)return e;if("function"==typeof e.toDate)return e.isValid()?e.toDate():null;var t="string"!=typeof e||-1===e.indexOf("moment(")?(0,o.default)(e):null;if(t&&t.isValid())return t.toDate();t=null;try{var r=new Function("moment","return ".concat(e,";"))(o.default);"string"==typeof r?t=(0,o.default)(r):"function"==typeof r.toDate?t=(0,o.default)(r.toDate().toUTCString()):r instanceof Date&&(t=(0,o.default)(r))}catch(e){return null}if(!t)return null;if(!t.isValid())return null;return t.toDate()},t.isValidDate=function(e){return n.default.isDate(e)&&!n.default.isNaN(e.getDate())},t.currentTimezone=S,t.offsetDate=R,t.loadZones=N,t.timezoneText=P,t.formatDate=function(e,t,r){var n=(0,o.default)(e);if(r===S())return t.match(/\s(z$|z\s)/)?P(function(){return n.tz(r).format(j(t))},function(){return n.format(j(t.replace(/\s(z$|z\s)/,"")))}):n.format(j(t));if("UTC"===r){var a=R(n.toDate(),"UTC");return"".concat((0,o.default)(a.date).format(j(t))," UTC")}return P(function(){return n.tz(r).format("".concat(j(t)," z"))},function(){return n.format(j(t))})},t.formatOffset=function(e,t,r,n){if(n===S())return e(t,r);if("UTC"===n)return"".concat(e(R(t,"UTC").date,r)," UTC");return P(function(){var a=R(t,n);return"".concat(e(a.date,r)," ").concat(a.abbr)},function(){return e(t,r)})},t.getLocaleDateFormatInfo=function(e){var t={},r=new Date(2017,11,21).toLocaleDateString(e);return t.dayFirst=r.slice(0,2)===21..toString(),t},t.convertFormatToFlatpickr=function(e){return e.replace(/Z/g,"").replace(/y/g,"Y").replace("YYYY","Y").replace("YY","y").replace("MMMM","F").replace(/M/g,"n").replace("nnn","M").replace("nn","m").replace(/d/g,"j").replace(/jj/g,"d").replace("EEEE","l").replace("EEE","D").replace("HH","H").replace("hh","h").replace("mm","i").replace("ss","S").replace(/a/g,"K")},t.convertFormatToMoment=j,t.convertFormatToMask=function(e){return e.replace(/(MMM|MMMM)/g,"MM").replace(/[ydhmsHM]/g,"9").replace(/a/g,"AA")},t.getInputMask=function(e){if(e instanceof Array)return e;var t=[];t.numeric=!0;for(var r=0;r<e.length;r++)switch(e[r]){case"9":t.push(/\d/);break;case"A":t.numeric=!1,t.push(/[a-zA-Z]/);break;case"a":t.numeric=!1,t.push(/[a-z]/);break;case"*":t.numeric=!1,t.push(/[a-zA-Z0-9]/);break;default:t.push(e[r])}return t},t.matchInputMask=function(e,t){if(!t)return!0;for(var r=0;r<t.length;r++){var a=e[r],o=t[r];if(!(n.default.isRegExp(o)&&o.test(a)||o===a))return!1}return!0},t.getNumberSeparators=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=12345.6789.toLocaleString(e).match(/..(.)...(.)../);if(!t)return{delimiter:",",decimalSeparator:"."};return{delimiter:t.length>1?t[1]:",",decimalSeparator:t.length>2?t[2]:"."}},t.getNumberDecimalLimit=function(e){var t=20,r=n.default.get(e,"validate.step","any");if("any"!==r){var a=r.toString().split(".");a.length>1&&(t=a[1].length)}return t},t.getCurrencyAffixes=function(e){var t=e.currency,r=void 0===t?"USD":t,n=e.decimalLimit,a=e.decimalSeparator,o=e.lang,i="(.*)?100";n&&(i+="".concat("."===a?"\\.":a,"0{").concat(n,"}"));i+="(.*)?";var u=100..toLocaleString(o,{style:"currency",currency:r,useGrouping:!0,maximumFractionDigits:n,minimumFractionDigits:n}).replace(".",a).match(new RegExp(i));return{prefix:u[1]||"",suffix:u[2]||""}},t.fieldData=function(e,t){if(!e)return"";if(!t||!t.key)return e;if(t.key.includes(".")){for(var r=e,n=t.key.split("."),a="",o=0;o<n.length;o++){if(a=n[o],r.hasOwnProperty("_id")&&(r=r.data),!r.hasOwnProperty(a))return;a===n[n.length-1]&&t.multiple&&!Array.isArray(r[a])&&(r[a]=[r[a]]),r=r[a]}return r}return t.multiple&&!Array.isArray(e[t.key])&&(e[t.key]=[e[t.key]]),e[t.key]},t.delay=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=setTimeout.apply(void 0,[e,t].concat(n));function i(){clearTimeout(o)}function u(){return i(),e.apply(void 0,n)}return u.timer=o,u.cancel=i,u},t.iterateKey=T,t.uniqueKey=function(e,t){var r=t;for(;e.hasOwnProperty(r);)r=T(r);return r},t.bootstrapVersion=function(){if("function"==typeof $&&"function"==typeof $().collapse)return parseInt($.fn.collapse.Constructor.VERSION.split(".")[0],10);return 0},Object.defineProperty(t,"jsonLogic",{enumerable:!0,get:function(){return a.default}});var n=c(r(124));r(32);var a=c(r(125)),o=c(r(126)),i=c(r(127)),u=r(130),s=c(r(7));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&d(a,r.prototype),a}).apply(null,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t,r,o){var i=null,u=t.component?t.component:{key:"unknown"};if(!t.form&&t.instance&&(t.form=n.default.get(t.instance,"root._form",{})),"string"==typeof e){r&&(e+=";return ".concat(r));var s=n.default.keys(t);o&&(e=e.replace(/({{\s+(.*)\s+}})/,function(e,r,a){return 0===a.indexOf("data.")?n.default.get(t.data,a.replace("data.","")):0===a.indexOf("row.")?n.default.get(t.row,a.replace("row.","")):n.default.get(t.data,a)}));try{e=f(Function,p(s).concat([e])),t=n.default.values(t)}catch(t){console.warn("An error occured within the custom function for ".concat(u.key),t),i=null,e=!1}}if("function"==typeof e)try{i=Array.isArray(t)?e.apply(void 0,p(t)):e(t)}catch(e){i=null,console.warn("An error occured within custom function for ".concat(u.key),e)}else if("object"===l(e))try{i=a.default.apply(e,t)}catch(e){i=null,console.warn("An error occured within custom function for ".concat(u.key),e)}else e&&console.warn("Unknown function type for ".concat(u.key));return i}function m(){return"e".concat(Math.random().toString(36).substring(7))}function v(e,t){var r=e.getPropertyValue(t);return r=r?r.replace(/[^0-9.]/g,""):"0",parseFloat(r)}function y(e,t,r,a,o){e&&(a=a||"",e.forEach(function(e){if(e){var i=e.columns&&Array.isArray(e.columns),u=e.rows&&Array.isArray(e.rows),s=e.components&&Array.isArray(e.components),c=!1,l=e.key?a?"".concat(a,".").concat(e.key):e.key:"";o&&(e.parent=n.default.clone(o),delete e.parent.components,delete e.parent.componentMap,delete e.parent.columns,delete e.parent.rows),(r||e.tree||!i&&!u&&!s)&&(c=t(e,l));var f=function(){return e.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(e.type)&&(["datagrid","container","editgrid"].includes(e.type)||e.tree)?l:e.key&&"form"===e.type?"".concat(l,".data"):a};c||(i?e.columns.forEach(function(n){return y(n.components,t,r,f(),o?e:null)}):u?e.rows.forEach(function(n){Array.isArray(n)&&n.forEach(function(n){return y(n.components,t,r,f(),o?e:null)})}):s&&y(e.components,t,r,f(),o?e:null))}}))}function g(e,t){if(n.default.isString(t))return e.key===t;var r=!1;return n.default.forOwn(t,function(t,a){if(!(r=n.default.get(e,a)===t))return!1}),r}function b(e){return parseFloat(n.default.isString(e)?e.replace(/[^\de.+-]/gi,""):e)}function w(e,t,r,a){var o=null;r&&(o=_({data:r},t.when)),a&&n.default.isNil(o)&&(o=_({data:a},t.when)),n.default.isNil(o)&&(o="");var i=String(t.eq),u=String(t.show);return n.default.isObject(o)&&n.default.has(o,t.eq)?String(o[t.eq])===u:Array.isArray(o)&&o.map(String).includes(i)?"true"===u:String(o)===i==("true"===u)}function x(e,t,r,n,a,o,i,u){"string"==typeof t&&(t="var ".concat(o," = true; ").concat(t,"; return ").concat(o,";"));var s=u&&u.evaluate?u.evaluate(t):h(t,{row:r,data:n,form:a});return null===s?i:s}function k(e,t,r,o,i,u){try{return a.default.apply(t,{data:o,row:r,form:i,_:n.default})}catch(t){return console.warn("An error occurred in jsonLogic advanced condition for ".concat(e.key),t),u}}function _(e,t){return function e(r){if(n.default.isPlainObject(r)){if(n.default.has(r,t))return r[t];var a=null;return n.default.forOwn(r,function(t){var r=e(t);if(!n.default.isNil(r))return a=r,!1}),a}return null}(e.data)}function A(e,t){try{return n.default.template(e,{evaluate:/\{%(.+?)%\}/g,interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{\{(.+?)\}\}\}/g})(t)}catch(r){console.warn("Error interpolating template",r,e,t)}}function O(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function S(){return o.default.currentTimezone?o.default.currentTimezone:(o.default.currentTimezone=i.default.determine().name(),o.default.currentTimezone)}function R(e,t){if("UTC"===t)return{date:new Date(e.getTime()+6e4*e.getTimezoneOffset()),abbr:"UTC"};var r=(0,o.default)(e).tz(t);return{date:new Date(e.getTime()+6e4*(r.utcOffset()+e.getTimezoneOffset())),abbr:r.format("z")}}function N(e){return e===S()?new s.default(n.default.noop):"UTC"===e?new s.default(n.default.noop):o.default.zonesPromise?o.default.zonesPromise:o.default.zonesPromise=fetch("https://cdn.rawgit.com/moment/moment-timezone/develop/data/packed/latest.json").then(function(e){return e.json().then(function(e){o.default.tz.load(e),o.default.zonesLoaded=!0})})}function P(e,t){if(N(),o.default.zonesLoaded)return e();var r=m(),n=0;return o.default.zonesPromise.then(function t(){var a=document.getElementById(r);a?a.innerHTML=e():n++<5&&setTimeout(t,100)}),"<span id='".concat(r,"'>").concat(t(),"</span>")}function j(e){return e.replace(/y/g,"Y").replace(/d/g,"D").replace(/E/g,"d").replace(/a/g,"A")}function T(e){return e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(e){return Number(e)+1}):"".concat(e,"2")}u.lodashOperators.forEach(function(e){return a.default.add_operation("_".concat(e),n.default[e])}),a.default.add_operation("getDate",function(e){return(0,o.default)(e).toISOString()}),a.default.add_operation("relativeMinDate",function(e){return(0,o.default)().subtract(e,"days").toISOString()}),a.default.add_operation("relativeMaxDate",function(e){return(0,o.default)().add(e,"days").toISOString()})},function(e,t){e.exports=o},function(e,t,r){var n,a;void 0===(a="function"==typeof(n=function(){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e={},t={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,r){return void 0===r?e<t:e<t&&t<r},"<=":function(e,t,r){return void 0===r?e<=t:e<=t&&t<=r},"!!":function(t){return e.truthy(t)},"!":function(t){return!e.truthy(t)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,r){if(r<0){var n=String(e).substr(t);return n.substr(0,n.length+r)}return String(e).substr(t,r)},"+":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)+parseFloat(t,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)*parseFloat(t,10)})},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[])},var:function(e,t){var r=void 0===t?null:t,n=this;if(void 0===e||""===e||null===e)return n;for(var a=String(e).split("."),o=0;o<a.length;o++){if(null===n)return r;if(void 0===(n=n[a[o]]))return r}return n},missing:function(){for(var t=[],r=Array.isArray(arguments[0])?arguments[0]:arguments,n=0;n<r.length;n++){var a=r[n],o=e.apply({var:a},this);null!==o&&""!==o||t.push(a)}return t},missing_some:function(t,r){var n=e.apply({missing:r},this);return r.length-n.length>=t?[]:n},method:function(e,t,r){return e[t].apply(e,r)}};return e.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},e.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},e.get_operator=function(e){return Object.keys(e)[0]},e.get_values=function(t){return t[e.get_operator(t)]},e.apply=function(r,n){if(Array.isArray(r))return r.map(function(t){return e.apply(t,n)});if(!e.is_logic(r))return r;n=n||{};var a,o,i,u,s,c=e.get_operator(r),l=r[c];if(Array.isArray(l)||(l=[l]),"if"===c||"?:"==c){for(a=0;a<l.length-1;a+=2)if(e.truthy(e.apply(l[a],n)))return e.apply(l[a+1],n);return l.length===a+1?e.apply(l[a],n):null}if("and"===c){for(a=0;a<l.length;a+=1)if(o=e.apply(l[a],n),!e.truthy(o))return o;return o}if("or"===c){for(a=0;a<l.length;a+=1)if(o=e.apply(l[a],n),e.truthy(o))return o;return o}if("filter"===c)return u=e.apply(l[0],n),i=l[1],Array.isArray(u)?u.filter(function(t){return e.truthy(e.apply(i,t))}):[];if("map"===c)return u=e.apply(l[0],n),i=l[1],Array.isArray(u)?u.map(function(t){return e.apply(i,t)}):[];if("reduce"===c)return u=e.apply(l[0],n),i=l[1],s=void 0!==l[2]?l[2]:null,Array.isArray(u)?u.reduce(function(t,r){return e.apply(i,{current:r,accumulator:t})},s):s;if("all"===c){if(u=e.apply(l[0],n),i=l[1],!u.length)return!1;for(a=0;a<u.length;a+=1)if(!e.truthy(e.apply(i,u[a])))return!1;return!0}if("none"===c)return 0===e.apply({filter:l},n).length;if("some"===c)return e.apply({filter:l},n).length>0;if(l=l.map(function(t){return e.apply(t,n)}),"function"==typeof t[c])return t[c].apply(n,l);if(c.indexOf(".")>0){var f=String(c).split("."),d=t;for(a=0;a<f.length;a++)if(void 0===(d=d[f[a]]))throw new Error("Unrecognized operation "+c+" (failed at "+f.slice(0,a+1).join(".")+")");return d.apply(n,l)}throw new Error("Unrecognized operation "+c)},e.uses_data=function(t){var r=[];if(e.is_logic(t)){var n=e.get_operator(t),a=t[n];Array.isArray(a)||(a=[a]),"var"===n?r.push(a[0]):a.map(function(t){r.push.apply(r,e.uses_data(t))})}return function(e){for(var t=[],r=0,n=e.length;r<n;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(r)},e.add_operation=function(e,r){t[e]=r},e.rm_operation=function(e){delete t[e]},e.rule_like=function(t,r){if(r===t)return!0;if("@"===r)return!0;if("number"===r)return"number"==typeof t;if("string"===r)return"string"==typeof t;if("array"===r)return Array.isArray(t)&&!e.is_logic(t);if(e.is_logic(r)){if(e.is_logic(t)){var n=e.get_operator(r),a=e.get_operator(t);if("@"===n||n===a)return e.rule_like(e.get_values(t,!1),e.get_values(r,!1))}return!1}if(Array.isArray(r)){if(Array.isArray(t)){if(r.length!==t.length)return!1;for(var o=0;o<r.length;o+=1)if(!e.rule_like(t[o],r[o]))return!1;return!0}return!1}return!1},e})?n.call(t,r,t,e):n)||(e.exports=a)},function(e,t,r){var n,a,o;//! moment-timezone.js
//! version : 0.5.21
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone
//! moment-timezone.js
//! version : 0.5.21
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone
!function(i,u){"use strict";"object"==typeof e&&e.exports?e.exports=u(r(1)):(a=[r(1)],void 0===(o="function"==typeof(n=u)?n.apply(t,a):n)||(e.exports=o))}(0,function(e){"use strict";var t,r={},n={},a={},o={};e&&"string"==typeof e.version||R("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var i=e.version.split("."),u=+i[0],s=+i[1];function c(e){return e>96?e-87:e>64?e-29:e-48}function l(e){var t=0,r=e.split("."),n=r[0],a=r[1]||"",o=1,i=0,u=1;for(45===e.charCodeAt(0)&&(t=1,u=-1);t<n.length;t++)i=60*i+c(n.charCodeAt(t));for(t=0;t<a.length;t++)o/=60,i+=c(a.charCodeAt(t))*o;return i*u}function f(e){for(var t=0;t<e.length;t++)e[t]=l(e[t])}function d(e,t){var r,n=[];for(r=0;r<t.length;r++)n[r]=e[t[r]];return n}function p(e){var t=e.split("|"),r=t[2].split(" "),n=t[3].split(""),a=t[4].split(" ");return f(r),f(n),f(a),function(e,t){for(var r=0;r<t;r++)e[r]=Math.round((e[r-1]||0)+6e4*e[r]);e[t-1]=1/0}(a,n.length),{name:t[0],abbrs:d(t[1].split(" "),n),offsets:d(r,n),untils:a,population:0|t[5]}}function h(e){e&&this._set(p(e))}function m(e){var t=e.toTimeString(),r=t.match(/\([a-z ]+\)/i);"GMT"===(r=r&&r[0]?(r=r[0].match(/[A-Z]/g))?r.join(""):void 0:(r=t.match(/[A-Z]{3,5}/g))?r[0]:void 0)&&(r=void 0),this.at=+e,this.abbr=r,this.offset=e.getTimezoneOffset()}function v(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function y(e,t){for(var r,n;n=6e4*((t.at-e.at)/12e4|0);)(r=new m(new Date(e.at+n))).offset===e.offset?e=r:t=r;return e}function g(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:t.zone.population-e.zone.population}function b(e,t){var r,n;for(f(t),r=0;r<t.length;r++)n=t[r],o[n]=o[n]||{},o[n][e]=!0}function w(e){var t,r,n,i=e.length,u={},s=[];for(t=0;t<i;t++)for(r in n=o[e[t].offset]||{})n.hasOwnProperty(r)&&(u[r]=!0);for(t in u)u.hasOwnProperty(t)&&s.push(a[t]);return s}function x(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=a[k(e)];if(t)return t;R("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var r,n,o,i=function(){var e,t,r,n=(new Date).getFullYear()-2,a=new m(new Date(n,0,1)),o=[a];for(r=1;r<48;r++)(t=new m(new Date(n,r,1))).offset!==a.offset&&(e=y(a,t),o.push(e),o.push(new m(new Date(e.at+6e4)))),a=t;for(r=0;r<4;r++)o.push(new m(new Date(n+r,0,1))),o.push(new m(new Date(n+r,6,1)));return o}(),u=i.length,s=w(i),c=[];for(n=0;n<s.length;n++){for(r=new v(A(s[n]),u),o=0;o<u;o++)r.scoreOffsetAt(i[o]);c.push(r)}return c.sort(g),c.length>0?c[0].zone.name:void 0}function k(e){return(e||"").toLowerCase().replace(/\//g,"_")}function _(e){var t,n,o,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)i=k(n=(o=e[t].split("|"))[0]),r[i]=e[t],a[i]=n,b(i,o[2].split(" "))}function A(e,t){e=k(e);var o,i=r[e];return i instanceof h?i:"string"==typeof i?(i=new h(i),r[e]=i,i):n[e]&&t!==A&&(o=A(n[e],A))?((i=r[e]=new h)._set(o),i.name=a[e],i):null}function O(e){var t,r,o,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)o=k((r=e[t].split("|"))[0]),i=k(r[1]),n[o]=i,a[o]=r[0],n[i]=o,a[i]=r[1]}function S(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function R(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function N(t){var r=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],a=A(n),o=e.utc.apply(null,r);return a&&!e.isMoment(t)&&S(o)&&o.add(a.parse(o),"minutes"),o.tz(n),o}(u<2||2===u&&s<6)&&R("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),h.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,r=+e,n=this.untils;for(t=0;t<n.length;t++)if(r<n[t])return t},parse:function(e){var t,r,n,a,o=+e,i=this.offsets,u=this.untils,s=u.length-1;for(a=0;a<s;a++)if(t=i[a],r=i[a+1],n=i[a?a-1:a],t<r&&N.moveAmbiguousForward?t=r:t>n&&N.moveInvalidForward&&(t=n),o<u[a]-6e4*t)return i[a];return i[s]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return R("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},v.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},N.version="0.5.21",N.dataVersion="",N._zones=r,N._links=n,N._names=a,N.add=_,N.link=O,N.load=function(e){_(e.zones),O(e.links),N.dataVersion=e.version},N.zone=A,N.zoneExists=function e(t){return e.didShowError||(e.didShowError=!0,R("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')")),!!A(t)},N.guess=function(e){return t&&!e||(t=x()),t},N.names=function(){var e,t=[];for(e in a)a.hasOwnProperty(e)&&(r[e]||r[n[e]])&&a[e]&&t.push(a[e]);return t.sort()},N.Zone=h,N.unpack=p,N.unpackBase60=l,N.needsOffset=S,N.moveInvalidForward=!0,N.moveAmbiguousForward=!1;var P=e.fn;function j(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}e.tz=N,e.defaultZone=null,e.updateOffset=function(t,r){var n,a=e.defaultZone;void 0===t._z&&(a&&S(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(a.parse(t),"minutes")),t._z=a),t._z&&(n=t._z.utcOffset(t),Math.abs(n)<16&&(n/=60),void 0!==t.utcOffset?t.utcOffset(-n,r):t.zone(n,r))},P.tz=function(t,r){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=A(t),this._z?e.updateOffset(this,r):R("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},P.zoneName=j(P.zoneName),P.zoneAbbr=j(P.zoneAbbr),P.utc=function(e){return function(){return this._z=null,e.apply(this,arguments)}}(P.utc),e.tz.setDefault=function(t){return(u<2||2===u&&s<9)&&R("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?A(t):null,e};var T=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(T)?(T.push("_z"),T.push("_a")):T&&(T._z=null),e})},function(e,t,r){var n;!function(a){
/**
 * This script gives you the zone info key representing your device's time zone setting.
 *
 * @name jsTimezoneDetect
 * @version 1.0.6
 * @author Jon Nylander
 * @license MIT License - https://bitbucket.org/pellepim/jstimezonedetect/src/default/LICENCE.txt
 *
 * For usage and examples, visit:
 * http://pellepim.bitbucket.org/jstz/
 *
 * Copyright (c) Jon Nylander
 */
var o=function(){"use strict";var e={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},t=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},r=function(e){for(var t=new Date(e,0,1,0,0,1,0).getTime(),r=new Date(e,12,31,23,59,59).getTime(),a=t,o=new Date(a).getTimezoneOffset(),i=null,u=null;a<r-864e5;){var s=new Date(a),c=s.getTimezoneOffset();c!==o&&(c<o&&(i=s),c>o&&(u=s),o=c),a+=864e5}return!(!i||!u)&&{s:n(i).getTime(),e:n(u).getTime()}},n=function t(r,n,a){void 0===n&&(n=e.DAY,a=e.HOUR);for(var o=new Date(r.getTime()-n).getTime(),i=r.getTime()+n,u=new Date(o).getTimezoneOffset(),s=o,c=null;s<i-a;){var l=new Date(s);if(l.getTimezoneOffset()!==u){c=l;break}s+=a}return n===e.DAY?t(c,e.HOUR,e.MINUTE):n===e.HOUR?t(c,e.MINUTE,e.SECOND):c},a=function(t){var n=function(){for(var e=[],t=0;t<o.olson.dst_rules.years.length;t++){var n=r(o.olson.dst_rules.years[t]);e.push(n)}return e}();return function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1}(n)?function(t,r){for(var n=function(n){for(var a=0,o=0;o<t.length;o++)if(n.rules[o]&&t[o]){if(!(t[o].s>=n.rules[o].s&&t[o].e<=n.rules[o].e)){a="N/A";break}if(a=0,a+=Math.abs(t[o].s-n.rules[o].s),(a+=Math.abs(n.rules[o].e-t[o].e))>e.MAX_SCORE){a="N/A";break}}return a=function(e,t,r,n){if("N/A"!==r)return r;if("Asia/Beirut"===t){if("Africa/Cairo"===n.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===n.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===n.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===n.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===n.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===n.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return r}(t,r,a,n)},a={},i=o.olson.dst_rules.zones,u=i.length,s=e.AMBIGUITIES[r],c=0;c<u;c++){var l=i[c],f=n(i[c]);"N/A"!==f&&(a[l.name]=f)}for(var d in a)if(a.hasOwnProperty(d))for(var p=0;p<s.length;p++)if(s[p]===d)return d;return r}(n,t):t};return{determine:function(){var r=function(){var e,t;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(e=Intl.DateTimeFormat())&&void 0!==e.resolvedOptions)return(t=e.resolvedOptions().timeZone)&&(t.indexOf("/")>-1||"UTC"===t)?t:void 0}();return r||(r=o.olson.timezones[function(){var r=t(new Date(e.BASELINE_YEAR,0,2)),n=t(new Date(e.BASELINE_YEAR,5,2)),a=r-n;return a<0?r+",1":a>0?n+",1,s":r+",0"}()],void 0!==e.AMBIGUITIES[r]&&(r=a(r))),{name:function(){return r}}}}}();o.olson=o.olson||{},o.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},o.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},void 0!==e&&void 0!==e.exports?e.exports=o:null!==r(128)&&null!=r(129)?void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n):window.jstz=o}()},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lodashOperators=void 0;t.lodashOperators=["chunk","compact","concat","difference","differenceBy","differenceWith","drop","dropRight","dropRightWhile","dropWhile","findIndex","findLastIndex","first","flatten","flattenDeep","flattenDepth","fromPairs","head","indexOf","initial","intersection","intersectionBy","intersectionWith","join","last","lastIndexOf","nth","slice","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sortedUniq","sortedUniqBy","tail","take","takeRight","takeRightWhile","takeWhile","union","unionBy","unionWith","uniq","uniqBy","uniqWith","unzip","unzipWith","without","xor","xorBy","xorWith","zip","zipObject","zipObjectDeep","zipWith","countBy","every","filter","find","findLast","flatMap","flatMapDeep","flatMapDepth","groupBy","includes","invokeMap","keyBy","map","orderBy","partition","reduce","reduceRight","reject","sample","sampleSize","shuffle","size","some","sortBy","now","flip","negate","overArgs","partial","partialRight","rearg","rest","spread","castArray","clone","cloneDeep","cloneDeepWith","cloneDeep","conformsTo","eq","gt","gte","isArguments","isArray","isArrayBuffer","isArrayLike","isArrayLikeObject","isBoolean","isBuffer","isDate","isElement","isEmpty","isEqual","isEqualWith","isError","isFinite","isFunction","isInteger","isLength","isMap","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isNumber","isObject","isObjectLike","isPlainObject","isRegExp","isSafeInteger","isSet","isString","isSymbol","isTypedArray","isUndefined","isWeakMap","isWeakSet","lt","lte","toArray","toFinite","toInteger","toLength","toNumber","toPlainObject","toSafeInteger","toString","add","ceil","divide","floor","max","maxBy","mean","meanBy","min","minBy","multiply","round","subtract","sum","sumBy","clamp","inRange","random","at","entries","entriesIn","findKey","findLastKey","functions","functionsIn","get","has","hasIn","invert","invertBy","invoke","keys","keysIn","mapKeys","mapValues","omit","omitBy","pick","pickBy","result","toPairs","toPairsIn","transform","values","valuesIn","camelCase","capitalize","deburr","endsWith","escape","escapeRegExp","kebabCase","lowerCase","lowerFirst","pad","padEnd","padStart","parseInt","repeat","replace","snakeCase","split","startCase","startsWith","toLower","toUpper","trim","trimEnd","trimStart","truncate","unescape","upperCase","upperFirst","words","cond","conforms","constant","defaultTo","flow","flowRight","identity","iteratee","matches","matchesProperty","method","methodOf","nthArg","over","overEvery","overSome","property","propertyOf","range","rangeRight","stubArray","stubFalse","stubObject","stubString","stubTrue","times","toPath","uniqueId"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(3)),a=c(r(12)),o=c(r(11)),i=c(r(9)),u=c(r(4)),s=c(r(47));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var f=function(){var e=function(){var e=l(regeneratorRuntime.mark(function e(t){var r,c,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,c=i.default.getPlugin("offline"),e.next=4,n.default.isOnline();case 4:if(f=e.sent,d=function(){var e=l(regeneratorRuntime.mark(function e(t,r){var n,a,o,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,a=!1,o=void 0,e.prev=3,i=t[Symbol.iterator]();case 5:if(n=(u=i.next()).done){e.next=12;break}return s=u.value,e.next=9,r(s);case 9:n=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),a=!0,o=e.t0;case 18:e.prev=18,e.prev=19,!n&&i.return&&i.return();case 21:if(e.prev=21,!a){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])}));return function(t,r){return e.apply(this,arguments)}}(),!f){e.next=10;break}return e.next=9,s.default.startSync();case 9:d(r,function(){var e=l(regeneratorRuntime.mark(function e(t){var r,n,u,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i.default(t.data.formio.formUrl),n={data:t.data.data},t.data.queuedForSync=!0,u=a.default.local(),"userregister"===t.data.formio.formId&&(u=o.default.local()),e.next=7,u.update(t);case 7:return t.data._id&&-1===t.data._id.indexOf("_local")&&(n._id=t.data._id),i.default.deregisterPlugin("offline"),e.prev=9,e.next=12,r.saveSubmission(n);case 12:if((s=e.sent)._id){e.next=15;break}throw Error("Submission cannot be synced");case 15:return s.formio=r,t.data=s,e.next=19,u.update(t);case 19:c&&i.default.registerPlugin(c,"offline"),e.next=37;break;case 22:if(e.prev=22,e.t0=e.catch(9),console.log("The submission cannot be synced ",e.t0),"TypeError: Could not connect to API server (Failed to fetch)"===e.t0&&console.log("Error connecting to the API server"),t.data.queuedForSync=!1,t.data.syncError=e.t0,"userregister"!==t.data.formio.formId){e.next=34;break}u.remove(t),l=new CustomEvent("FAST:USER:REGISTRATION:ERROR",{detail:{data:{submission:t.data.data,error:e.t0},text:"Validation Error"}}),document.dispatchEvent(l),e.next=36;break;case 34:return e.next=36,u.update(t);case 36:c&&i.default.registerPlugin(c,"offline");case 37:case"end":return e.stop()}},e,this,[[9,22]])}));return function(t){return e.apply(this,arguments)}}()).then(function(e){s.default.stopSync(),u.default.emit({name:"FAST:SUBMISSION:SYNCED",data:{},text:"The submissions have been synced"})}).catch(function(e){console.log(e),s.default.stopSync()});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object.freeze({send:e})}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(r(1));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"setLocales",value:function(){a.default.locale(e.getLenguage())}},{key:"changeLanguage",value:function(e){a.default.locale(e)}},{key:"getLenguage",value:function(){return localStorage.getItem("defaultLenguage")?localStorage.getItem("defaultLenguage"):"en"}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=l(r(29)),o=l(r(0)),i=l(r(9)),u=l(r(12)),s=l(r(28)),c=l(r(8));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new c.default(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return c.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var d=function(){var e=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n=t.submission,a=t.vm;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h(r=p(n))){e.next=3;break}return e.abrupt("return",Object.assign({},d(a),{groupId:r}));case 3:return e.abrupt("return",Object.assign({},l(a),{groupId:r}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=f(regeneratorRuntime.mark(function e(t){var r=t.submission,n=t.vm,a=t.info;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h(p(r))){e.next=3;break}return e.abrupt("return",v({submission:r,vm:n,info:a}));case 3:return e.abrupt("return",m({submission:r,vm:n,info:a}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,a,o=t.survey,u=t.vm;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i.default(u.$FAST_CONFIG.APP_URL+"/"+u.$route.params.idForm),i.default.deregisterPlugin("offline"),i.default.registerPlugin(s.default.getPlugin({formio:r,hashField:u.hashField}),"offline"),n={data:o,redirect:"Update",draft:!0,trigger:"createParalelSurvey"},e.next=6,r.saveSubmission(n);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function l(e){return{progressSteps:["1","2","3"],steps:[{title:e.$t("Group Name"),text:e.$t("Give the group a name"),inputValidator:function(t){return new c.default(function(r,n){""!==t?r():n(new Error(e.$t("The group name is already taken")))})}},{title:e.$t("Current Participant Name"),text:e.$t("Give the current participant a name")},{title:e.$t("Next participant Name"),text:e.$t("Give the next participant a name")}]}}function d(e){return{progressSteps:["1"],steps:[{title:e.$t("Participant Name"),text:e.$t("Give the next participant a name")}]}}function p(e){return o.default.get(function(){return u.default.local().getParallelSurvey(e).groupId})}function h(e){return e}function m(e){var t=e.submission,r=e.vm,o=e.info,i=o[0],s=o[1],c=o[2],l={groupId:(0,a.default)(),groupName:i,participantName:s,submissionId:t._id};return r.currentSubmission.data.parallelSurvey=u.default.local().setParallelSurvey(l),{parallelSurvey:u.default.local().setParallelSurvey(n({},l,{participantName:c}))}}function v(e){var t=e.submission,r=(e.vm,e.info[0]),n=u.default.local().getParallelSurvey(t);return n.participantName=r,{parallelSurvey:u.default.local().setParallelSurvey(n)}}return Object.freeze({createWizard:e,createNewSurvey:t,storeNewSurvey:r})}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(r(10));function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"handle",value:function(){var t=o(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(-1!==r.url.indexOf("form.io")){t.next=2;break}return t.abrupt("return",e.handleExternalAPI(r));case 2:if("form"!==r.type){t.next=4;break}return t.abrupt("return",e.handleLocalForm(r));case 4:if("select"!==r.type||-1===r.url.indexOf("form.io")){t.next=6;break}return t.abrupt("return",e.handleInternalResource(r));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"handleExternalAPI",value:function(){return null}},{key:"handleLocalForm",value:function(){var e=o(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.local().get(t.formio.formId);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleInternalResource",value:function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 4:if(e.sent.filter(function(e){return void 0===e.data._id})[0]){e.next=8;break}return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(r(136));function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"handle",value:function(){var t=o(regeneratorRuntime.mark(function t(r){var n=r.args,a=r.hashField,o=r.formio;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("submission"!==n.type){t.next=2;break}return t.abrupt("return",e.handleSubmission({args:n,hashField:a,formio:o}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"handleSubmission",value:function(){var e=o(regeneratorRuntime.mark(function e(t){var r,n,o,i=t.args,u=t.hashField,s=t.formio;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.data,!i.data||i.data.trigger){e.next=5;break}return n={data:i.data.data,redirect:!1,draft:!1,trigger:"resourceCreation"},r=n,e.abrupt("return",null);case 5:return e.next=7,a.default.handle({submission:r,formio:s,hashField:u});case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(25)),o=c(r(2)),i=c(r(42)),u=c(r(27)),s=c(r(4));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"handle",value:function(){var t=l(regeneratorRuntime.mark(function t(r){var n=r.submission,a=r.formio,o=r.hashField;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o){t.next=2;break}return t.abrupt("return",e.storeUser({submission:n,formio:a,hashField:o}));case 2:return t.abrupt("return",e.storeSubmission({submission:n,formio:a,hashField:o}));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"storeSubmission",value:function(){var e=l(regeneratorRuntime.mark(function e(t){var r,n=t.submission,a=t.formio;t.hashField;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.add({submission:n,formio:a});case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return n.trigger&&n.trigger,n.trigger&&"formioSubmit"===n.trigger?r.isSubmit=!0:r.isSubmit=!1,s.default.emit({name:"FAST:SUBMISSION:CHANGED",data:r,text:"Draft Saved"}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"storeUser",value:function(){var e=l(regeneratorRuntime.mark(function e(t){var r,n,u=t.submission,s=t.formio;t.hashField;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.getLocal();case 2:return r=e.sent,u.data.hashedPassword=(0,a.default)(u.data.password,r.MD5_KEY),e.next=6,i.default.storeLocally({data:u.data,sync:!1,formio:s});case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(9)),o=c(r(28)),i=c(r(27)),u=c(r(4)),s=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new s.default(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return s.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"fromJsonFile",value:function(t,r){var n=new FileReader;n.onload=function(t){var n=void 0;try{n=JSON.parse(t.target.result)}catch(e){throw new Error("The Json file could not be parsed")}e.parseJson(n,r)},n.readAsText(t)}},{key:"parseJson",value:function(){var t=l(regeneratorRuntime.mark(function t(r,n){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.getFormIOInstance(n),s.default.each(r,function(){var t=l(regeneratorRuntime.mark(function t(r,o){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.prepareSubmission(r),t.next=3,e.saveSubmission(i,a,n);case 3:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()).then(function(){u.default.emit({name:"FAST:DATA:IMPORTED",data:{imported:!0},text:"Data was imported"})}).catch(function(e){console.log(e),n.$swal(n.$t("Import Error!"),n.$t("Your submission could not be Imported. Please check the format of your Json file."),"error")});case 2:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"emitNotification",value:function(e){e.$eventHub.emit("FAST-DATA_IMPORTED")}},{key:"prepareSubmission",value:function(e){return(e.id||e._id)&&(delete e.id,delete e._id),e.modified&&delete e.modified,e.owner&&delete e.owner,{data:e.data?e.data:e,redirect:!1,syncError:!1,draft:!0,trigger:"importSubmission"}}},{key:"getFormIOInstance",value:function(e){a.default.deregisterPlugin("offline"),a.default.registerPlugin(o.default.getPlugin(e.form.data.path,void 0,!1),"offline");var t=e.$FAST_CONFIG.APP_URL+"/"+e.form.data.path;return new a.default(t)}},{key:"saveSubmission",value:function(){var e=l(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.add({submission:t,formio:r});case 2:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.default=f},function(e){e.exports=[{shortName:"Afghanistan",iso3:"AFG",iso2:"AF",faostat:2},{shortName:"Albania",iso3:"ALB",iso2:"AL",faostat:3},{shortName:"Algeria",iso3:"DZA",iso2:"DZ",faostat:4},{shortName:"Andorra",iso3:"AND",iso2:"AD",faostat:6},{shortName:"Angola",iso3:"AGO",iso2:"AO",faostat:7},{shortName:"Antigua and Barbuda",iso3:"ATG",iso2:"AG",faostat:8},{shortName:"Argentina",iso3:"ARG",iso2:"AR",faostat:9},{shortName:"Armenia",iso3:"ARM",iso2:"AM",faostat:1},{shortName:"Australia",iso3:"AUS",iso2:"AU",faostat:10},{shortName:"Austria",iso3:"AUT",iso2:"AT",faostat:11},{shortName:"Azerbaijan",iso3:"AZE",iso2:"AZ",faostat:52},{shortName:"Bahamas",iso3:"BHS",iso2:"BS",faostat:12},{shortName:"Bahrain",iso3:"BHR",iso2:"BH",faostat:13},{shortName:"Bangladesh",iso3:"BGD",iso2:"BD",faostat:16},{shortName:"Barbados",iso3:"BRB",iso2:"BB",faostat:14},{shortName:"Belarus",iso3:"BLR",iso2:"BY",faostat:57},{shortName:"Belgium",iso3:"BEL",iso2:"BE",faostat:255},{shortName:"Belize",iso3:"BLZ",iso2:"BZ",faostat:23},{shortName:"Benin",iso3:"BEN",iso2:"BJ",faostat:53},{shortName:"Bhutan",iso3:"BTN",iso2:"BT",faostat:18},{shortName:"Bolivia (Plurinational State of)",iso3:"BOL",iso2:"BO",faostat:19},{shortName:"Bosnia and Herzegovina",iso3:"BIH",iso2:"BA",faostat:80},{shortName:"Botswana",iso3:"BWA",iso2:"BW",faostat:20},{shortName:"Brazil",iso3:"BRA",iso2:"BR",faostat:21},{shortName:"Brunei Darussalam",iso3:"BRN",iso2:"BN",faostat:26},{shortName:"Bulgaria",iso3:"BGR",iso2:"BG",faostat:27},{shortName:"Burkina Faso",iso3:"BFA",iso2:"BF",faostat:233},{shortName:"Burundi",iso3:"BDI",iso2:"BI",faostat:29},{shortName:"Cabo Verde",iso3:"CPV",iso2:"CV",faostat:35},{shortName:"Cambodia",iso3:"KHM",iso2:"KH",faostat:115},{shortName:"Cameroon",iso3:"CMR",iso2:"CM",faostat:32},{shortName:"Canada",iso3:"CAN",iso2:"CA",faostat:33},{shortName:"Central African Republic",iso3:"CAF",iso2:"CF",faostat:37},{shortName:"Chad",iso3:"TCD",iso2:"TD",faostat:39},{shortName:"Chile",iso3:"CHL",iso2:"CL",faostat:40},{shortName:"China",iso3:"CHN",iso2:"CN",faostat:41},{shortName:"Colombia",iso3:"COL",iso2:"CO",faostat:44},{shortName:"Comoros",iso3:"COM",iso2:"KM",faostat:45},{shortName:"Congo",iso3:"COG",iso2:"CG",faostat:46},{shortName:"Cook Islands",iso3:"COK",iso2:"CK",faostat:47},{shortName:"Costa Rica",iso3:"CRI",iso2:"CR",faostat:48},{shortName:"Croatia",iso3:"HRV",iso2:"HR",faostat:98},{shortName:"Cuba",iso3:"CUB",iso2:"CU",faostat:49},{shortName:"Cyprus",iso3:"CYP",iso2:"CY",faostat:50},{shortName:"Czechia",iso3:"CZE",iso2:"CZ",faostat:167},{shortName:"Côte d'Ivoire",iso3:"CIV",iso2:"CI",faostat:107},{shortName:"Democratic People's Republic of Korea",iso3:"PRK",iso2:"KP",faostat:116},{shortName:"Democratic Republic of the Congo",iso3:"COD",iso2:"CD",faostat:250},{shortName:"Denmark",iso3:"DNK",iso2:"DK",faostat:54},{shortName:"Djibouti",iso3:"DJI",iso2:"DJ",faostat:72},{shortName:"Dominica",iso3:"DMA",iso2:"DM",faostat:55},{shortName:"Dominican Republic",iso3:"DOM",iso2:"DO",faostat:56},{shortName:"Ecuador",iso3:"ECU",iso2:"EC",faostat:58},{shortName:"Egypt",iso3:"EGY",iso2:"EG",faostat:59},{shortName:"El Salvador",iso3:"SLV",iso2:"SV",faostat:60},{shortName:"Equatorial Guinea",iso3:"GNQ",iso2:"GQ",faostat:61},{shortName:"Eritrea",iso3:"ERI",iso2:"ER",faostat:178},{shortName:"Estonia",iso3:"EST",iso2:"EE",faostat:63},{shortName:"Ethiopia",iso3:"ETH",iso2:"ET",faostat:238},{shortName:"Faroe Islands (Associate Member)",iso3:"FRO",iso2:"FO",faostat:64},{shortName:"Fiji",iso3:"FJI",iso2:"FJ",faostat:66},{shortName:"Finland",iso3:"FIN",iso2:"FI",faostat:67},{shortName:"France",iso3:"FRA",iso2:"FR",faostat:68},{shortName:"Gabon",iso3:"GAB",iso2:"GA",faostat:74},{shortName:"Gambia",iso3:"GMB",iso2:"GM",faostat:75},{shortName:"Georgia",iso3:"GEO",iso2:"GE",faostat:73},{shortName:"Germany",iso3:"DEU",iso2:"DE",faostat:79},{shortName:"Ghana",iso3:"GHA",iso2:"GH",faostat:81},{shortName:"Greece",iso3:"GRC",iso2:"GR",faostat:84},{shortName:"Grenada",iso3:"GRD",iso2:"GD",faostat:86},{shortName:"Guatemala",iso3:"GTM",iso2:"GT",faostat:89},{shortName:"Guinea",iso3:"GIN",iso2:"GN",faostat:90},{shortName:"Guinea-Bissau",iso3:"GNB",iso2:"GW",faostat:175},{shortName:"Guyana",iso3:"GUY",iso2:"GY",faostat:91},{shortName:"Haiti",iso3:"HTI",iso2:"HT",faostat:93},{shortName:"Honduras",iso3:"HND",iso2:"HN",faostat:95},{shortName:"Hungary",iso3:"HUN",iso2:"HU",faostat:97},{shortName:"Iceland",iso3:"ISL",iso2:"IS",faostat:99},{shortName:"India",iso3:"IND",iso2:"IN",faostat:100},{shortName:"Indonesia",iso3:"IDN",iso2:"ID",faostat:101},{shortName:"Iran (Islamic Republic of)",iso3:"IRN",iso2:"IR",faostat:102},{shortName:"Iraq",iso3:"IRQ",iso2:"IQ",faostat:103},{shortName:"Ireland",iso3:"IRL",iso2:"IE",faostat:104},{shortName:"Israel",iso3:"ISR",iso2:"IL",faostat:105},{shortName:"Italy",iso3:"ITA",iso2:"IT",faostat:106},{shortName:"Jamaica",iso3:"JAM",iso2:"JM",faostat:109},{shortName:"Japan",iso3:"JPN",iso2:"JP",faostat:110},{shortName:"Jordan",iso3:"JOR",iso2:"JO",faostat:112},{shortName:"Kazakhstan",iso3:"KAZ",iso2:"KZ",faostat:108},{shortName:"Kenya",iso3:"KEN",iso2:"KE",faostat:114},{shortName:"Kiribati",iso3:"KIR",iso2:"KI",faostat:83},{shortName:"Kuwait",iso3:"KWT",iso2:"KW",faostat:118},{shortName:"Kyrgyzstan",iso3:"KGZ",iso2:"KG",faostat:113},{shortName:"Lao People's Democratic Republic",iso3:"LAO",iso2:"LA",faostat:120},{shortName:"Latvia",iso3:"LVA",iso2:"LV",faostat:119},{shortName:"Lebanon",iso3:"LBN",iso2:"LB",faostat:121},{shortName:"Lesotho",iso3:"LSO",iso2:"LS",faostat:122},{shortName:"Liberia",iso3:"LBR",iso2:"LR",faostat:123},{shortName:"Libya",iso3:"LBY",iso2:"LY",faostat:124},{shortName:"Lithuania",iso3:"LTU",iso2:"LT",faostat:126},{shortName:"Luxembourg",iso3:"LUX",iso2:"LU",faostat:256},{shortName:"Madagascar",iso3:"MDG",iso2:"MG",faostat:129},{shortName:"Malawi",iso3:"MWI",iso2:"MW",faostat:130},{shortName:"Malaysia",iso3:"MYS",iso2:"MY",faostat:131},{shortName:"Maldives",iso3:"MDV",iso2:"MV",faostat:132},{shortName:"Mali",iso3:"MLI",iso2:"ML",faostat:133},{shortName:"Malta",iso3:"MLT",iso2:"MT",faostat:134},{shortName:"Marshall Islands",iso3:"MHL",iso2:"MH",faostat:127},{shortName:"Mauritania",iso3:"MRT",iso2:"MR",faostat:136},{shortName:"Mauritius",iso3:"MUS",iso2:"MU",faostat:137},{shortName:"Mexico",iso3:"MEX",iso2:"MX",faostat:138},{shortName:"Micronesia (Federated States of)",iso3:"FSM",iso2:"FM",faostat:145},{shortName:"Monaco",iso3:"MCO",iso2:"MC",faostat:140},{shortName:"Mongolia",iso3:"MNG",iso2:"MN",faostat:141},{shortName:"Montenegro",iso3:"MNE",iso2:"ME",faostat:273},{shortName:"Morocco",iso3:"MAR",iso2:"MA",faostat:143},{shortName:"Mozambique",iso3:"MOZ",iso2:"MZ",faostat:144},{shortName:"Myanmar",iso3:"MMR",iso2:"MM",faostat:28},{shortName:"Namibia",iso3:"NAM",iso2:"NA",faostat:147},{shortName:"Nauru",iso3:"NRU",iso2:"NR",faostat:148},{shortName:"Nepal",iso3:"NPL",iso2:"NP",faostat:149},{shortName:"Netherlands",iso3:"NLD",iso2:"NL",faostat:150},{shortName:"New Zealand",iso3:"NZL",iso2:"NZ",faostat:156},{shortName:"Nicaragua",iso3:"NIC",iso2:"NI",faostat:157},{shortName:"Niger",iso3:"NER",iso2:"NE",faostat:158},{shortName:"Nigeria",iso3:"NGA",iso2:"NG",faostat:159},{shortName:"Niue",iso3:"NIU",iso2:"NU",faostat:160},{shortName:"Norway",iso3:"NOR",iso2:"NO",faostat:162},{shortName:"Oman",iso3:"OMN",iso2:"OM",faostat:221},{shortName:"Pakistan",iso3:"PAK",iso2:"PK",faostat:165},{shortName:"Palau",iso3:"PLW",iso2:"PW",faostat:180},{shortName:"Panama",iso3:"PAN",iso2:"PA",faostat:166},{shortName:"Papua New Guinea",iso3:"PNG",iso2:"PG",faostat:168},{shortName:"Paraguay",iso3:"PRY",iso2:"PY",faostat:169},{shortName:"Peru",iso3:"PER",iso2:"PE",faostat:170},{shortName:"Philippines",iso3:"PHL",iso2:"PH",faostat:171},{shortName:"Poland",iso3:"POL",iso2:"PL",faostat:173},{shortName:"Portugal",iso3:"PRT",iso2:"PT",faostat:174},{shortName:"Qatar",iso3:"QAT",iso2:"QA",faostat:179},{shortName:"Republic of Korea",iso3:"KOR",iso2:"KR",faostat:117},{shortName:"Republic of Moldova",iso3:"MDA",iso2:"MD",faostat:146},{shortName:"Romania",iso3:"ROU",iso2:"RO",faostat:183},{shortName:"Russian Federation",iso3:"RUS",iso2:"RU",faostat:185},{shortName:"Rwanda",iso3:"RWA",iso2:"RW",faostat:184},{shortName:"Saint Kitts and Nevis",iso3:"KNA",iso2:"KN",faostat:188},{shortName:"Saint Lucia",iso3:"LCA",iso2:"LC",faostat:189},{shortName:"Saint Vincent and the Grenadines",iso3:"VCT",iso2:"VC",faostat:191},{shortName:"Samoa",iso3:"WSM",iso2:"WS",faostat:244},{shortName:"San Marino",iso3:"SMR",iso2:"SM",faostat:192},{shortName:"Sao Tome and Principe",iso3:"STP",iso2:"ST",faostat:193},{shortName:"Saudi Arabia",iso3:"SAU",iso2:"SA",faostat:194},{shortName:"Senegal",iso3:"SEN",iso2:"SN",faostat:195},{shortName:"Serbia",iso3:"SRB",iso2:"RS",faostat:272},{shortName:"Seychelles",iso3:"SYC",iso2:"SC",faostat:196},{shortName:"Sierra Leone",iso3:"SLE",iso2:"SL",faostat:197},{shortName:"Singapore",iso3:"SGP",iso2:"SG",faostat:200},{shortName:"Slovakia",iso3:"SVK",iso2:"SK",faostat:199},{shortName:"Slovenia",iso3:"SVN",iso2:"SI",faostat:198},{shortName:"Solomon Islands",iso3:"SLB",iso2:"SB",faostat:25},{shortName:"Somalia",iso3:"SOM",iso2:"SO",faostat:201},{shortName:"South Africa",iso3:"ZAF",iso2:"ZA",faostat:202},{shortName:"South Sudan",iso3:"SSD",iso2:"SS",faostat:277},{shortName:"Spain",iso3:"ESP",iso2:"ES",faostat:203},{shortName:"Sri Lanka",iso3:"LKA",iso2:"LK",faostat:38},{shortName:"Sudan",iso3:"SDN",iso2:"SD",faostat:276},{shortName:"SurishortName",iso3:"SUR",iso2:"SR",faostat:207},{shortName:"Swaziland",iso3:"SWZ",iso2:"SZ",faostat:209},{shortName:"Sweden",iso3:"SWE",iso2:"SE",faostat:210},{shortName:"Switzerland",iso3:"CHE",iso2:"CH",faostat:211},{shortName:"Syrian Arab Republic",iso3:"SYR",iso2:"SY",faostat:212},{shortName:"Tajikistan",iso3:"TJK",iso2:"TJ",faostat:208},{shortName:"Thailand",iso3:"THA",iso2:"TH",faostat:216},{shortName:"The former Yugoslav Republic of Macedonia",iso3:"MKD",iso2:"MK",faostat:154},{shortName:"Timor-Leste",iso3:"TLS",iso2:"TL",faostat:176},{shortName:"Togo",iso3:"TGO",iso2:"TG",faostat:217},{shortName:"Tokelau (Associate Member)",iso3:"TKL",iso2:"TK",faostat:218},{shortName:"Tonga",iso3:"TON",iso2:"TO",faostat:219},{shortName:"Trinidad and Tobago",iso3:"TTO",iso2:"TT",faostat:220},{shortName:"Tunisia",iso3:"TUN",iso2:"TN",faostat:222},{shortName:"Turkey",iso3:"TUR",iso2:"TR",faostat:223},{shortName:"Turkmenistan",iso3:"TKM",iso2:"TM",faostat:213},{shortName:"Tuvalu",iso3:"TUV",iso2:"TV",faostat:227},{shortName:"Uganda",iso3:"UGA",iso2:"UG",faostat:226},{shortName:"Ukraine",iso3:"UKR",iso2:"UA",faostat:230},{shortName:"United Arab Emirates",iso3:"ARE",iso2:"AE",faostat:225},{shortName:"United Kingdom",iso3:"GBR",iso2:"GB",faostat:229},{shortName:"United Republic of Tanzania",iso3:"TZA",iso2:"TZ",faostat:215},{shortName:"United States of America",iso3:"USA",iso2:"US",faostat:231},{shortName:"Uruguay",iso3:"URY",iso2:"UY",faostat:234},{shortName:"Uzbekistan",iso3:"UZB",iso2:"UZ",faostat:235},{shortName:"Vanuatu",iso3:"VUT",iso2:"VU",faostat:155},{shortName:"Venezuela (Bolivarian Republic of)",iso3:"VEN",iso2:"VE",faostat:236},{shortName:"Viet Nam",iso3:"VNM",iso2:"VN",faostat:237},{shortName:"Yemen",iso3:"YEM",iso2:"YE",faostat:249},{shortName:"Zambia",iso3:"ZMB",iso2:"ZM",faostat:251},{shortName:"Zimbabwe",iso3:"ZWE",iso2:"ZW",faostat:181}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=l(r(46)),i=l(r(17)),u=l(r(16)),s=l(r(10)),c=l(r(24));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"get",value:function(){var e=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.handle());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=f(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLabels();case 2:return t=e.sent,e.next=5,i.default.local().find();case 5:return r=e.sent[0].data,Object.keys(r).forEach(function(e){var n=r[e];Object.keys(n).forEach(function(r){t[r]&&n[r]&&""!==n[r]&&(t[r].translations[e]=n[r])})}),e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchAllLabels",value:function(){var e=f(regeneratorRuntime.mark(function e(){var t,r,n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,s.default.local().find();case 3:return e.t0=function(e){return e.data},r=e.sent.map(e.t0),n=this.getFormLabels(r),e.next=8,this.getAppLabels(u.default.get().translations);case 8:return a=e.sent,t=this.mergeLabels(n,a),e.t1=this,e.next=13,c.default.getLocal();case 13:return e.t2=e.sent,e.next=16,e.t1.getPagesLabels.call(e.t1,e.t2);case 16:return o=e.sent,t=this.mergeLabels(t,o),e.abrupt("return",t);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrAdd",value:function(e){var t=e.labels,r=e.label,a=n({},t);return a[r.text]?r.location&&Array.isArray(r.location)?r.location.forEach(function(e){a[r.text].location.push({text:r.text,template:r.template,type:e.type,picture:e.picture})}):a[r.text].location.push(r):r.location&&Array.isArray(r.location)?(a[r.text]={location:[],template:r.template,translations:{}},r.location.forEach(function(e){a[r.text].location.push({text:r.text,template:r.template,type:e.type,picture:e.picture})})):a[r.text]={location:[r],translations:{}},a}},{key:"mergeLabels",value:function(e,t){var r=this,a=n({},e);return Object.keys(t).forEach(function(e){a=r.createOrAdd({labels:a,label:n({},t[e],{text:e})})}),a}},{key:"getFormLabels",value:function(e){var t=this,r={},n=["suffix","prefix","addAnother","removeRow","saveRow","legend","title","label","placeholder","tooltip"];return e.forEach(function(e){r=t.createOrAdd({labels:r,label:{text:e.title,type:"formTitle",component:e.path,form:e.path,picture:null}}),o.default.eachComponent(e.components,function(a){n.forEach(function(n){a[n]&&""!==a[n]&&(r=t.createOrAdd({labels:r,label:{text:a[n],type:n,component:a.key,form:e.path,picture:null}}))}),a.values&&a.values.forEach(function(n){n.label&&""!==n.label&&(r=t.createOrAdd({labels:r,label:{text:n.label,type:"value",component:a.key,form:e.path,picture:null}}))}),"htmlelement"===a.type&&""!==a.content&&(r=t.createOrAdd({labels:r,label:{text:a.content,type:"htmlElement",component:a.key,form:e.path,picture:null}})),"select"===a.type&&a.data&&a.data.values&&a.data.values.forEach(function(n){n.label&&""!==n.label&&(r=t.createOrAdd({labels:r,label:{text:n.label,type:"selectValue",component:a.key,form:e.path,picture:null}}))}),a.type&&"survey"===a.type&&a.questions&&(a.questions.forEach(function(n){r=t.createOrAdd({labels:r,label:{text:n.label,type:"surveyLabel",component:a.key,form:e.path,picture:null}})}),a.values.forEach(function(n){r=t.createOrAdd({labels:r,label:{text:n.label,type:"surveyValues",component:a.key,form:e.path,picture:null}})}))},!0)}),r}},{key:"getAppLabels",value:function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.forEach(function(e){r=n.createOrAdd({labels:r,label:e})}),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPagesLabels",value:function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.pages.forEach(function(e){e.cards.forEach(function(t){t.title&&""!==t.title&&n.createOrAdd({labels:r,label:{text:t.title,type:"pageCardTitle",picture:null,card:t,page:e}}),t.subtitle&&""!==t.subtitle&&n.createOrAdd({labels:r,label:{text:t.subtitle,type:"pageCardSubtitle",picture:null,card:t,page:e}}),t.actions.forEach(function(a){a.text&&""!==a.text&&n.createOrAdd({labels:r,label:{text:a.text,type:"pageActionButtonText",picture:null,card:t,page:e}})})}),e.title&&""!==e.title&&n.createOrAdd({labels:r,label:{text:e.title,type:"pageTitle",picture:null,page:e}})}),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=i(r(25)),o=i(r(2));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"string",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.getLocal();case 2:return r=e.sent,n="",n=(0,a.default)(t,r.MD5_KEY),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=u}])});
//# sourceMappingURL=fast-fastjs.min.js.map