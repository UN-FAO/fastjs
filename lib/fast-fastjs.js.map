{"version":3,"sources":["webpack://fast-fastjs/webpack/universalModuleDefinition","webpack://fast-fastjs/webpack/bootstrap","webpack://fast-fastjs/./src/utilities.js","webpack://fast-fastjs/external \"moment\"","webpack://fast-fastjs/./src/database/models/Configuration.js","webpack://fast-fastjs/./src/database/Fluent/Fluent.js","webpack://fast-fastjs/./src/database/Fluent/Model.js","webpack://fast-fastjs/./src/Wrappers/Connection.js","webpack://fast-fastjs/./src/Wrappers/Event.js","webpack://fast-fastjs/(webpack)/buildin/global.js","webpack://fast-fastjs/./node_modules/native-promise-only/lib/npo.src.js","webpack://fast-fastjs/./node_modules/@stamp/compose/index.js","webpack://fast-fastjs/external \"bluebird\"","webpack://fast-fastjs/./node_modules/formiojs/Formio.js","webpack://fast-fastjs/./src/database/models/Form.js","webpack://fast-fastjs/./src/database/models/User.js","webpack://fast-fastjs/./src/database/models/Submission.js","webpack://fast-fastjs/./node_modules/@stamp/is/object.js","webpack://fast-fastjs/./node_modules/lodash/_nativeCreate.js","webpack://fast-fastjs/./node_modules/lodash/_assocIndexOf.js","webpack://fast-fastjs/./node_modules/lodash/_getMapData.js","webpack://fast-fastjs/./src/config.js","webpack://fast-fastjs/./src/database/models/Translation.js","webpack://fast-fastjs/./src/repositories/Auth/Auth.js","webpack://fast-fastjs/./node_modules/process/browser.js","webpack://fast-fastjs/./node_modules/@stamp/is/function.js","webpack://fast-fastjs/./node_modules/lodash/_Symbol.js","webpack://fast-fastjs/./node_modules/lodash/_root.js","webpack://fast-fastjs/./node_modules/lodash/isArray.js","webpack://fast-fastjs/./node_modules/lodash/isSymbol.js","webpack://fast-fastjs/./node_modules/await-to-js/dist/await-to-js.es5.js","webpack://fast-fastjs/./src/repositories/Configuration/Pages.js","webpack://fast-fastjs/external \"md5\"","webpack://fast-fastjs/./src/repositories/Auth/Role.js","webpack://fast-fastjs/./src/repositories/Submission/SubmissionRepository.js","webpack://fast-fastjs/./src/offlinePlugin/offlinePlugin.js","webpack://fast-fastjs/./node_modules/@stamp/it/index.js","webpack://fast-fastjs/./node_modules/@stamp/is/array.js","webpack://fast-fastjs/./node_modules/@stamp/is/stamp.js","webpack://fast-fastjs/./node_modules/@stamp/core/assign.js","webpack://fast-fastjs/./node_modules/@stamp/core/merge.js","webpack://fast-fastjs/./node_modules/uuid/v4.js","webpack://fast-fastjs/./node_modules/whatwg-fetch/fetch.js","webpack://fast-fastjs/./node_modules/lodash/_baseToString.js","webpack://fast-fastjs/./node_modules/lodash/_baseGetTag.js","webpack://fast-fastjs/./node_modules/lodash/_baseIndexOf.js","webpack://fast-fastjs/./node_modules/lodash/toString.js","webpack://fast-fastjs/./node_modules/lodash/_getNative.js","webpack://fast-fastjs/./node_modules/lodash/isObject.js","webpack://fast-fastjs/./src/repositories/Localization/Localization.js","webpack://fast-fastjs/./src/database/models/Pages.js","webpack://fast-fastjs/./src/repositories/Database/Sync.js","webpack://fast-fastjs/./src/repositories/User/User.js","webpack://fast-fastjs/./src/database/helpers/SyncHelper.js","webpack://fast-fastjs/external \"axios\"","webpack://fast-fastjs/./src/database/models/Role.js","webpack://fast-fastjs/./node_modules/formiojs/utils/index.js","webpack://fast-fastjs/./src/repositories/Database/Scheduler.js","webpack://fast-fastjs/./src/index.js","webpack://fast-fastjs/./src/start.js","webpack://fast-fastjs/./node_modules/@stamp/is/composable.js","webpack://fast-fastjs/./node_modules/@stamp/is/plain-object.js","webpack://fast-fastjs/./node_modules/@stamp/shortcut/index.js","webpack://fast-fastjs/./node_modules/@stamp/is/string.js","webpack://fast-fastjs/./node_modules/@stamp/privatize/index.js","webpack://fast-fastjs/./src/database/Fluent/Connectors/local/Loki/FluentConnector.js","webpack://fast-fastjs/./src/database/Fluent/Connectors/local/Loki/Database.js","webpack://fast-fastjs/external \"lokijs\"","webpack://fast-fastjs/./node_modules/lokijs/src/loki-indexed-adapter.js","webpack://fast-fastjs/./node_modules/uuid/lib/rng-browser.js","webpack://fast-fastjs/./node_modules/uuid/lib/bytesToUuid.js","webpack://fast-fastjs/./src/database/Fluent/Interface.js","webpack://fast-fastjs/./src/database/Fluent/Connectors/remote/Formio/FluentConnector.js","webpack://fast-fastjs/./node_modules/timers-browserify/main.js","webpack://fast-fastjs/./node_modules/setimmediate/setImmediate.js","webpack://fast-fastjs/./node_modules/eventemitter2/lib/eventemitter2.js","webpack://fast-fastjs/./node_modules/browser-cookies/src/browser-cookies.js","webpack://fast-fastjs/./node_modules/shallow-copy/index.js","webpack://fast-fastjs/./node_modules/formiojs/providers/index.js","webpack://fast-fastjs/./node_modules/formiojs/providers/storage/index.js","webpack://fast-fastjs/./node_modules/formiojs/providers/storage/base64.js","webpack://fast-fastjs/./node_modules/formiojs/providers/storage/dropbox.js","webpack://fast-fastjs/./node_modules/formiojs/providers/storage/s3.js","webpack://fast-fastjs/./node_modules/lodash/trim.js","webpack://fast-fastjs/./node_modules/lodash/_freeGlobal.js","webpack://fast-fastjs/./node_modules/lodash/_arrayMap.js","webpack://fast-fastjs/./node_modules/lodash/_getRawTag.js","webpack://fast-fastjs/./node_modules/lodash/_objectToString.js","webpack://fast-fastjs/./node_modules/lodash/isObjectLike.js","webpack://fast-fastjs/./node_modules/lodash/_castSlice.js","webpack://fast-fastjs/./node_modules/lodash/_baseSlice.js","webpack://fast-fastjs/./node_modules/lodash/_charsEndIndex.js","webpack://fast-fastjs/./node_modules/lodash/_baseFindIndex.js","webpack://fast-fastjs/./node_modules/lodash/_baseIsNaN.js","webpack://fast-fastjs/./node_modules/lodash/_strictIndexOf.js","webpack://fast-fastjs/./node_modules/lodash/_charsStartIndex.js","webpack://fast-fastjs/./node_modules/lodash/_stringToArray.js","webpack://fast-fastjs/./node_modules/lodash/_asciiToArray.js","webpack://fast-fastjs/./node_modules/lodash/_hasUnicode.js","webpack://fast-fastjs/./node_modules/lodash/_unicodeToArray.js","webpack://fast-fastjs/./node_modules/formiojs/providers/storage/url.js","webpack://fast-fastjs/./node_modules/lodash/get.js","webpack://fast-fastjs/./node_modules/lodash/_baseGet.js","webpack://fast-fastjs/./node_modules/lodash/_castPath.js","webpack://fast-fastjs/./node_modules/lodash/_isKey.js","webpack://fast-fastjs/./node_modules/lodash/_stringToPath.js","webpack://fast-fastjs/./node_modules/lodash/_memoizeCapped.js","webpack://fast-fastjs/./node_modules/lodash/memoize.js","webpack://fast-fastjs/./node_modules/lodash/_MapCache.js","webpack://fast-fastjs/./node_modules/lodash/_mapCacheClear.js","webpack://fast-fastjs/./node_modules/lodash/_Hash.js","webpack://fast-fastjs/./node_modules/lodash/_hashClear.js","webpack://fast-fastjs/./node_modules/lodash/_baseIsNative.js","webpack://fast-fastjs/./node_modules/lodash/isFunction.js","webpack://fast-fastjs/./node_modules/lodash/_isMasked.js","webpack://fast-fastjs/./node_modules/lodash/_coreJsData.js","webpack://fast-fastjs/./node_modules/lodash/_toSource.js","webpack://fast-fastjs/./node_modules/lodash/_getValue.js","webpack://fast-fastjs/./node_modules/lodash/_hashDelete.js","webpack://fast-fastjs/./node_modules/lodash/_hashGet.js","webpack://fast-fastjs/./node_modules/lodash/_hashHas.js","webpack://fast-fastjs/./node_modules/lodash/_hashSet.js","webpack://fast-fastjs/./node_modules/lodash/_ListCache.js","webpack://fast-fastjs/./node_modules/lodash/_listCacheClear.js","webpack://fast-fastjs/./node_modules/lodash/_listCacheDelete.js","webpack://fast-fastjs/./node_modules/lodash/eq.js","webpack://fast-fastjs/./node_modules/lodash/_listCacheGet.js","webpack://fast-fastjs/./node_modules/lodash/_listCacheHas.js","webpack://fast-fastjs/./node_modules/lodash/_listCacheSet.js","webpack://fast-fastjs/./node_modules/lodash/_Map.js","webpack://fast-fastjs/./node_modules/lodash/_mapCacheDelete.js","webpack://fast-fastjs/./node_modules/lodash/_isKeyable.js","webpack://fast-fastjs/./node_modules/lodash/_mapCacheGet.js","webpack://fast-fastjs/./node_modules/lodash/_mapCacheHas.js","webpack://fast-fastjs/./node_modules/lodash/_mapCacheSet.js","webpack://fast-fastjs/./node_modules/lodash/_toKey.js","webpack://fast-fastjs/./src/repositories/Form/RemoteForms.js","webpack://fast-fastjs/./src/repositories/Database/SyncInterval.js","webpack://fast-fastjs/./node_modules/formiojs/utils/utils.js","webpack://fast-fastjs/external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"_\",\"root\":\"_\"}","webpack://fast-fastjs/./node_modules/json-logic-js/logic.js","webpack://fast-fastjs/./node_modules/moment-timezone/moment-timezone.js","webpack://fast-fastjs/./node_modules/jstimezonedetect/dist/jstz.js","webpack://fast-fastjs/(webpack)/buildin/amd-define.js","webpack://fast-fastjs/(webpack)/buildin/amd-options.js","webpack://fast-fastjs/./node_modules/formiojs/utils/jsonlogic/operators.js","webpack://fast-fastjs/./src/repositories/Submission/OfflineData.js","webpack://fast-fastjs/./src/repositories/Date/moment.js","webpack://fast-fastjs/./src/repositories/Submission/ParallelSurvey.js","webpack://fast-fastjs/./src/offlinePlugin/repositories/getRequest.js","webpack://fast-fastjs/./src/offlinePlugin/repositories/postRequest.js","webpack://fast-fastjs/./src/offlinePlugin/repositories/storeForm.js","webpack://fast-fastjs/./src/repositories/Submission/Import.js","webpack://fast-fastjs/./src/repositories/Form/Labels.js","webpack://fast-fastjs/./src/repositories/Submission/Hash.js"],"names":["Utilities","cloneDeep","object","JSON","parse","stringify","get","fn","def","e","getFromPath","obj","path","_path","includes","split","assignedName","Array","isArray","trim","undefined","fullPath","replace","filter","Boolean","map","everyFunc","step","result","every","label","value","uniqBy","arr","predicate","cb","o","reduce","item","key","has","set","Map","values","orderBy","isEmpty","length","hasOwnProperty","call","debounce","time","timeout","functionCall","apply","arguments","clearTimeout","setTimeout","Object","freeze","Fluent","extend","Model","properties","name","methods","getLocal","local","find","configuration","getRemote","appConf","remoteConfig","Connection","isOnline","remote","element","query","appConfigId","limit","console","log","data","assingGlobalVariable","VUE","prototype","$FAST_CONFIG","getConfigDate","localConfig","fastUpdated","setOfflineConfig","Vue","localConfigDate","offlineConfigDate","offlineFiles","lastUpdated","date","offlineConfig","this","unix","clear","insert","insertedConfig","setOnlineConfig","Error","forceOnline","String","offlineStart","compose","privatize","privatizeMethods","Privatize","defaulLocal","defaultRemote","defaultMerged","connectors","loki","formio","model","stampit","getLocalConnector","modelName","con","process","env","FLUENT_LOCAL_CONNECTOR","getRemoteConnector","pathName","FLUENT_REMOTE_CONNECTOR","getMergedConnector","nameAndPath","getFrom","getModelName","merged","online","window","navigator","onLine","setOnline","Event","emit","text","setOffline","initEventListeners","listen","callback","Promise","resolve","reject","xhr","XMLHttpRequest","ActiveXObject","onload","onerror","open","send","CustomEvent","event","params","evt","document","createEvent","bubbles","cancelable","detail","initCustomEvent","customEvent","dispatchEvent","addEventListener","remove","removeEventListener","filterToString","filterQuery","forEach","condition","valueString","index","array","rFind","select","pagination","form","getFormioInstance","queryParams","loadForms","remoteForms","id","findOne","formRequest","formRequestID","formRequestPath","cardFormattedForms","action","tags","indexOf","sort","a","b","title","f","customIcon","icon","subtitle","modified","fromNow","actions","target","view","cards","_id","offline","formId","Auth","email","sync","draft","Date","created","stored","user","getUnsync","unsynced","user_email","queuedForSync","syncError","showView","populate","dataExport","vm","page","pageLimit","paginationInfo","submissions","_lid","owner","ownerEmail","$loki","d","assign","totalRecords","pages","Math","ceil","total","currentPage","Form","fullForm","templates","FormioUtils","eachComponent","components","c","FAST_TABLE_TEMPLATE","push","template","s","sub","status","HumanUpdated","updated","moment","t","newFx","Function","error","dataCollected","scouting","traps","$t","format","paginated","results","getParallelParticipants","idForm","idSubmission","currentSubmission","groupId","parallelSurvey","submission","parallelSurveyID","survey","getParallelSurvey","parallelsurveyInfo","paraparallelSurvey","setParallelSurvey","getGroups","groups","groupName","group","getGroup","removeFromGroup","assingToGroup","submissionId","parallelData","update","config","jwt","url","baseURL","translations","jwtToken","i18n","setBaseUrl","baseUrl","getFormTranslations","localTranslations","keys","languageCode","supportedLanguages","isoLanguages","getIsoLanguages","languages","iso","l","code","require","localAuthenticate","credentials","username","password","Configuration","hashedPassword","MD5_KEY","User","dbUser","userFound","isValidUser","remoteAuthenticate","role","UserRepository","login","then","response","updateUser","authenticate","attempt","headers","x_jwt_token","localStorage","setItem","Role","roles","rolesNames","catch","getItem","removeItem","hasRole","roleName","r","hasRoleIn","some","hasRoleIdIn","rolesIds","RoleRepo","appRoles","reducer","roleId","check","logOut","PAGES","Pages","localPages","localDate","getLocalPagesDate","offlinePages","newPages","setOfflinePages","remotePages","setOnlinePages","Roles","remoteRoles","localRoles","axios","insertedRoles","setOnlineRoles","rolesDate","getRolesDate","offlineRolesDate","setOfflineRoles","Submission","SubmissionModel","newSubmission","create","type","localSubmission","shouldUpdate","isSubmit","saved","formatSubmission","alreadyStored","trigger","add","SyncHelper","deleteNulls","sendingSubmission","fromDraftToSubmission","autoSave","isSynced","access","hasError","OFFLINE_PLUGIN","hashField","plugin","priority","request","args","Formio","clearCache","method","GetRequest","handle","PostRequest","lockiJSData","transformedArray","Translation","Localization","getLocalizationDate","offlineTranslations","Translations","processTranslations","trans","storeTranslations","getOnlineTranslations","appTranslations","setOfflineLocales","setOnlineLocales","onlineTranslations","translationsArray","translationArray","lenguages","processedTranslations","language","translation","en","Sync","syncUsers","syncSubmission","unsyncSubmissions","areUsersSynced","usersAreSync","Scheduler","isSyncing","OfflineData","getUsersToSync","users","formIoUser","USER","isUserAlreadyStored","storeLocally","post","k","splice","FastIsSyncing","Moment","FAST","PagesRepo","SubmissionRepo","ParallelSurvey","Import","countryList","FormLabels","OfflinePlugin","Hash","fastConfig","APP_URL","defaultLenguage","err","appConfigUrl","SyncInterval","defaultLanguage","start","Interface","filterObject","prepareFilter","getModel","offsetNumber","limitNumber","chain","offset","applySelect","applyOrderBy","pluck","attributePath","orderByArray","_data","field","selectArray","order","A","B","where","arg","whereArray","andWhere","orWhere","orWhereArray","andObject","$and","orObject","$or","globalFilter","conditionToObject","lokiOperator","getLokiOperator","operator","operators","lokiOperators","like","regexp","startsWith","endsWith","contains","converted","Database","DB","getCollection","newElement","attribute","extract","all","columns","prepareInput","concat","elem","pos","first","updateOrCreate","findAndRemove","removeIndices","_create","idbAdapter","pa","db","dbConfig","autosave","autosaveInterval","autoload","autoloadCallback","databaseInitialize","LokiIndexedAdapter","Loki","LokiPartitioningAdapter","paging","adapter","baseModels","dbModel","addCollection","init","chunk","pullSize","input","cols","softDelete","remoteModel","submissionID","formUrl","AuthUser","setToken","remoteSubmissions","selectQuery","selectToString","join","loadSubmissions","deleteSubmission","loadSubmission","original","enabled","saveSubmission","softDeleted","deregisterPlugin","selectString","column","remoteData","RemoteForms","localForms","getLocalFormsDate","offlineForms","Forms","setOfflineForms","unixDate","setOnlineForms","milliseconds","rInterval","delay","dateNow","now","requestAnimation","requestAnimationFrame","stop","intervalFunc","_debouncedSync","offlineSubmissions","offlinePlugin","FormioJS","getPlugin","PromiseEach","startSync","offlineSubmission","postData","FormIOinsertedData","registerPlugin","errorEvent","stopSync","locale","getLenguage","getGroupId","submissionHasGroup","getNewUserWizard","getNewGroupWizard","createWizard","info","prepareNewUserObject","prepareNewGroupObject","createNewSurvey","$route","formSubmission","redirect","storeNewSurvey","progressSteps","steps","inputValidator","participantName","nextParticipant","surveyData","handleExternalAPI","handleLocalForm","handleInternalResource","formID","handleSubmission","StoreForm","storeUser","storeSubmission","CONFIGURATION","file","reader","FileReader","theFile","json","ex","parseJson","readAsText","getFormIOInstance","each","row","prepareSubmission","imported","$swal","$eventHub","fetchAllLabels","labels","translationsLabels","translationLabel","allLabels","forms","formLabels","getFormLabels","getAppLabels","appLabels","mergeLabels","getPagesLabels","pagesLabels","newObject","location","picture","labelsObject1","labelsObject2","createOrAdd","componentLabels","formioLabelsPositions","component","position","content","questions","q","v","card","string","hashed"],"mappings":"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A;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,QAAQ;;AAE/B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sCAAsC,EAAE;AACpE,2BAA2B,qCAAqC;AAChE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,QAAQ;;AAE/B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC;AACtC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;;AAEF;AACA,CAAC;;;;;;;;ACpXD,cAAc,mBAAO,CAAC,EAAiB;AACvC,iBAAiB,mBAAO,CAAC,EAAoB;AAC7C,eAAe,mBAAO,CAAC,EAAkB;AACzC,cAAc,mBAAO,CAAC,EAAiB;AACvC,mBAAmB,mBAAO,CAAC,EAAsB;;AAEjD,aAAa,mBAAO,CAAC,EAAoB;AACzC,YAAY,mBAAO,CAAC,EAAmB;;AAEvC;;AAEA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;;AAE9C;AACA;AACA,qEAAqE;;AAErE;;AAEA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,WAAW,0DAA0D;AACrE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,WAAW,eAAe;AACrC,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,WAAW;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA,oCAAoC,uCAAuC;AAC3E;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,MAAM;AACnB,cAAc,OAAO;AACrB,cAAc,gBAAgB;AAC9B,cAAc,gBAAgB;AAC9B,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,cAAc,WAAW;AACzB;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;;;;;;;;AC5LA,iD;;;;;;;ACAA,8CAAa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gDAAgD,mBAAO,CAAC,CAAqB;;AAE7E,mBAAO,CAAC,EAAc;;AAEtB,oBAAoB,mBAAO,CAAC,EAAe;;AAE3C,6CAA6C,mBAAO,CAAC,EAAiB;;AAEtE,0CAA0C,mBAAO,CAAC,EAAc;;AAEhE,wCAAwC,mBAAO,CAAC,EAAa;;AAE7D,mCAAmC,mBAAO,CAAC,EAAY;;AAEvD,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,sDAAsD,sHAAsH,4BAA4B,0CAA0C,EAAE,OAAO,wBAAwB,EAAE,EAAE,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAEtd,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAwD;AACxD;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,yEAAyE,aAAa;AACtF;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,2DAA2D;;AAE3D,iCAAiC;AACjC,SAAS;AACT;AACA,iCAAiC;AACjC,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uDAAuD,GAAG;AAC1D;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;;AAEL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAyC;;AAEzC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;;AAGnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,+CAA+C;AAC/C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;;AAGP,+BAA+B;;AAE/B;AACA;AACA,OAAO;;;AAGP;AACA;AACA,0CAA0C;AAC1C,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;;AAGP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;;;AAGX;AACA;AACA,WAAW;AACX,SAAS;;;AAGT,wDAAwD;AACxD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;;AAEb;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO,EAAE;;AAET;AACA;AACA;;AAEA;AACA,KAAK;;AAEL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,mCAAmC;;AAEnC;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,OAAO;;;AAGP;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;;AAEA,mDAAmD;AACnD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,OAAO;;;AAGP;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,sEAAsE,gEAAgE;AACtI;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,gGAAgG,eAAe;AAC/G;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,gGAAgG,eAAe;AAC/G;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,gGAAgG,eAAe;AAC/G;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;A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GAAY;AACxB,QAAI1I,OAAOvN,KAAKC,KAAL,CAAW6U,aAAaM,OAAb,CAAqB,UAArB,CAAX,CAAX;;AAEA,WAAO,CAAC,CAAC7H,IAAF,IAAU,CAAC,CAACA,KAAKsH,WAAxB;AACD,GAJD;AAKA;;;;;AAKA,MAAMqB;AAAA,wEAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACPpB,aAAaO,UAAb,CAAwB,UAAxB,CADO;;AAAA;AAAA;AAAA,qBAEPP,aAAaO,UAAb,CAAwB,aAAxB,CAFO;;AAAA;AAAA;AAAA,qBAGPP,aAAaO,UAAb,CAAwB,YAAxB,CAHO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAT;;AAAA;AAAA;AAAA;AAAA,KAAN;;AAMA,SAAO/R,OAAOC,MAAP,CAAc;AACnBgK,cADmB;AAEnBN,gBAFmB;AAGnBwI,wBAHmB;AAInBE,4BAJmB;AAKnBL,oBALmB;AAMnBW,gBANmB;AAOnBC,kBAPmB;AAQnBvB;AARmB,GAAd,CAAP;AAUD,CAjPU,EAAX;;kBAmPe3H,I;;;;;;AC7Pf;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC;AACA;AACA;;;;;;;ACFA,WAAW,mBAAO,CAAC,EAAS;;AAE5B;AACA;;AAEA;;;;;;;ACLA,iBAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,EAAe;AACxC,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA;AAAA;AAAA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA,+BAA+B,qBAAqB,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEc;AACC,iEAAE,EAAC;AAClB;;;;;;;;;;;;;;;;;;AClBA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAImJ,QAAS,YAAM;AAAA;AAAA,wEAIjB;AAAA,UAAkChS,OAAlC,QAAkCA,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACyBi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CA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe;AACf;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA,kDAAkD;AAClD;;AAEA;AACA;AACA,yBAAyB,oCAAoC,EAAE;AAC/D;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;;;;;;ACnGA;;;;;;;ACAA,iBAAiB,mBAAO,CAAC,EAAY;;AAErC;AACA;AACA;;;;;;;ACJA;;;;;;;ACAA,oBAAoB,mBAAO,CAAC,EAAwB;AACpD,eAAe,mBAAO,CAAC,EAAkB;AACzC,cAAc,mBAAO,CAAC,EAAiB;;AAEvC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,iBAAiB;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;;;;;;;AClDA,UAAU,mBAAO,CAAC,EAAW;AAC7B,kBAAkB,mBAAO,CAAC,EAAmB;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;;AAEA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;;AAEA;AACA;AACA,wCAAwC,4BAA4B;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA,SAAS;AACT,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,uBAAuB;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,CAAC;;;;;;;ACjdD,aAAa,mBAAO,CAAC,EAAW;AAChC,eAAe,mBAAO,CAAC,EAAa;AACpC,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,aAAa,mBAAO,CAAC,EAAW;AAChC,gBAAgB,mBAAO,CAAC,EAAc;AACtC,qBAAqB,mBAAO,CAAC,EAAmB;;AAEhD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;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BAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sBAAsB;AACxD;AACA;AACA,QAAQ;AACR;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA,kCAAkC,sBAAsB;AACxD;AACA,oBAAoB,YAAY;AAChC,yBAAyB;AACzB;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,oBAAoB,gBAAgB;AACpC;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wBAAwB,sBAAsB;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,+CAA+C;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAiE,oCAAoC;AACrG,iDAAiD,aAAa;AAC9D,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA,uDAAuD,YAAY;AACnE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,0BAA0B,wBAAwB;AAClD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iEAAiE,gBAAgB;AACjF;AACA,OAAO;;AAEP;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA,GAAG;AACH,CAAC;;;;;;;ACxmBD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;ACtBA;;;;;;;;kBAEe,kBAAQ;AACrBkC,MADqB,sBACC;AAAA,QAAdne,IAAc,QAAdA,IAAc;AAAA,QAARnD,IAAQ,QAARA,IAAQ;;AACpB,QAAI,CAACmD,IAAD,IAAS,CAACnD,IAAd,EAAoB;AAClB,YAAM,IAAI2F,KAAJ,CAAU,gCAAV,CAAN;AACD;AACD,SAAKxC,IAAL,GAAYA,QAAQ,KAAKA,IAAzB;AACA,SAAKnD,IAAL,GAAYA,QAAQ,KAAKA,IAAzB;AACD,GA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mB;AAEnBuH,oBAFmB;AAGnBlB,kBAHmB;AAInBpE,kBAJmB;AAKnBiM,kBALmB;AAMnBwO,kCANmB;AAOnBC,gCAPmB;AAQnBzV,wCARmB;AASnBkX,0BATmB;AAUnBjC;AAVmB,GAAd,CAAP;AAYD,CApPmB,EAApB;;kBAsPekC,W;;;;;;AC1Pf;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,mBAAO,CAAC,EAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9DA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;ACzLD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,oDAAoD,YAAY;AAChE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,kDAAkD,uBAAuB;AACzE;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;;AAEA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,2BAA2B;AAC3B,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,wCAAwC,iCAAiC;AACzE;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,4CAA4C;AAC5C,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;;AAEA;;AAEA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,kCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,MAAM,IAA0C;AAChD;AACA,IAAI,mCAAO;AACX;AACA,KAAK;AAAA,oGAAC;AACN,GAAG,MAAM,EAON;AACH,CAAC;;;;;;;;AC7wBD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,yCAAyC;AACzC,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB,4BAA4B;AAC5C;;AAEA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC5FA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,aAAa;AACb;;;;;;;;AClCa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,uCAAuC,mBAAO,CAAC,EAAW;;AAE1D,sCAAsC,uCAAuC,gBAAgB,E;;;;;;;ACdhF;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,mCAAmC,mBAAO,CAAC,EAAU;;AAErD,sCAAsC,mBAAO,CAAC,EAAW;;AAEzD,gCAAgC,mBAAO,CAAC,EAAM;;AAE9C,kCAAkC,mBAAO,CAAC,EAAO;;AAEjD,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;ACvBa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gDAAgD,mBAAO,CAAC,CAAqB;;AAE7E,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2B;;;;;;;AChDa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gDAAgD,mBAAO,CAAC,CAAqB;;AAE7E,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2B;;;;;;;AClEa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gDAAgD,mBAAO,CAAC,CAAqB;;AAE7E,oCAAoC,mBAAO,CAAC,EAAa;;AAEzD,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,oDAAoD;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA,yEAAyE;;AAEzE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,+DAA+D;AAC/D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2B;;;;;;AC1HA,mBAAmB,mBAAO,CAAC,EAAiB;AAC5C,gBAAgB,mBAAO,CAAC,EAAc;AACtC,oBAAoB,mBAAO,CAAC,EAAkB;AAC9C,sBAAsB,mBAAO,CAAC,EAAoB;AAClD,oBAAoB,mBAAO,CAAC,EAAkB;AAC9C,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AChDA;AACA;;AAEA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA,aAAa,mBAAO,CAAC,EAAW;;AAEhC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,gBAAgB,mBAAO,CAAC,EAAc;;AAEtC;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA,kBAAkB,mBAAO,CAAC,EAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,kBAAkB,mBAAO,CAAC,EAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACnBA,mBAAmB,mBAAO,CAAC,EAAiB;AAC5C,iBAAiB,mBAAO,CAAC,EAAe;AACxC,qBAAqB,mBAAO,CAAC,EAAmB;;AAEhD;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,EAAE;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;;ACvCa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gDAAgD,mBAAO,CAAC,CAAqB;;AAE7E,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA,UAAU;;;AAGV;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2B;;;;;;AC1FA,cAAc,mBAAO,CAAC,GAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA,eAAe,mBAAO,CAAC,GAAa;AACpC,YAAY,mBAAO,CAAC,GAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,EAAE;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA,cAAc,mBAAO,CAAC,EAAW;AACjC,YAAY,mBAAO,CAAC,GAAU;AAC9B,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,oBAAoB,mBAAO,CAAC,GAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;AC1BA,cAAc,mBAAO,CAAC,GAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;ACzBA,eAAe,mBAAO,CAAC,GAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxEA,oBAAoB,mBAAO,CAAC,GAAkB;AAC9C,qBAAqB,mBAAO,CAAC,GAAmB;AAChD,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,kBAAkB,mBAAO,CAAC,GAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA,WAAW,mBAAO,CAAC,GAAS;AAC5B,gBAAgB,mBAAO,CAAC,GAAc;AACtC,UAAU,mBAAO,CAAC,GAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA,gBAAgB,mBAAO,CAAC,GAAc;AACtC,iBAAiB,mBAAO,CAAC,GAAe;AACxC,cAAc,mBAAO,CAAC,GAAY;AAClC,cAAc,mBAAO,CAAC,GAAY;AAClC,cAAc,mBAAO,CAAC,GAAY;;AAElC;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,GAAc;AACvC,eAAe,mBAAO,CAAC,GAAa;AACpC,eAAe,mBAAO,CAAC,EAAY;AACnC,eAAe,mBAAO,CAAC,GAAa;;AAEpC;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA,iBAAiB,mBAAO,CAAC,EAAe;AACxC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,iBAAiB,mBAAO,CAAC,GAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA,WAAW,mBAAO,CAAC,EAAS;;AAE5B;AACA;;AAEA;;;;;;;ACLA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,qBAAqB,mBAAO,CAAC,GAAmB;AAChD,sBAAsB,mBAAO,CAAC,GAAoB;AAClD,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,mBAAmB,mBAAO,CAAC,GAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AClBA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,WAAW,mBAAO,CAAC,EAAS;;AAE5B;AACA;;AAEA;;;;;;;ACNA,iBAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA,iBAAiB,mBAAO,CA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CP;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO,6BAA6B;AAChD;;;AAGA;AACA,6CAA6C,GAAG;AAChD;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,SAAS;AACpB;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yGAAyG;;AAEzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,cAAc;AACzB;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,QAAQ;AACnB;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;;;AAGA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA,oCAAoC;;AAEpC;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA,8CAA8C,qBAAqB,8BAA8B;AACjG;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA,iBAAiB,SAAS;AAC1B,oBAAoB,EAAE,OAAO,EAAE;AAC/B,eAAe,EAAE,EAAE,OAAO,EAAE,EAAE;AAC9B;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,gEAAgE;;AAEhE;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG,EAAE;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E,0BAA0B;AACzG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC,qBAAqB;;AAErB;AACA;AACA,OAAO;;;AAGP;AACA;AACA,OAAO;;;AAGP;AACA;AACA,OAAO;;;AAGP;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;;AAEA,wFAAwF,aAAa;AACrG;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;ACpwCA,kD;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,MAAM,IAA0C;AAChD,IAAI,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,oGAAC;AACnB,GAAG,MAAM,EAIN;AACH,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,MAAM;AACpB,cAAc,MAAM;AACpB;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB;AACrB,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,yCAAyC,mBAAmB;;AAE5D;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,YAAY,oBAAoB;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,IAAI,KAAK;AACvB,cAAc,IAAI,aAAa,IAAI,KAAK;AACxC,cAAc,IAAI,aAAa,IAAI,aAAa,IAAI,KAAK;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,uBAAuB;AAC5B,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,KAAK,sBAAsB;AAC3B,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA;AACA,qBAAqB;;;;;AAKrB,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,WAAW;AACX;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,uBAAuB;AACrC;AACA,uBAAuB;AACvB;AACA;AACA,kBAAkB;AAClB,KAAK;AACL,kCAAkC,kBAAkB;AACpD;;AAEA,KAAK;AACL,kCAAkC,kBAAkB;AACpD;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,KAAK,8BAA8B;AACnC;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,OAAO;AACP,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;AC/cD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2BAA2B,mBAAO,CAAC,CAAQ,GAAG;AAC9C,EAAE,UAAU,IAA0C;AACtD,EAAE,iCAAO,CAAC,sBAAQ,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC,CAAC;AAC9B,EAAE,MAAM,EAEN;AACF,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ,YAAY;AACZ,YAAY;AACZ,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,kBAAkB;AAC3B;AACA;AACA;;AAEA;AACA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B,mEAAmE;AACnE;;AAEA;AACA;;AAEA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,SAAS;AACvB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kCAAkC,IAAI;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;;AAEA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;;;;;;;ACpmBD,kFAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,mBAAmB,KAAK;AACxB,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO,KAAK;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA,+BAA+B,sBAAsB;;AAErD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,sBAAsB;AACjD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,wBAAwB;AAC3D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,+BAA+B,uCAAuC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,WAAW,UAAa,oBAAoB,wBAAM,eAAe,wBAAU;AAC5E,IAAI,iCAAO,EAAE,mCAAE;AACf;AACA,KAAK;AAAA,oGAAC;AACN,CAAC;AACD;AACA;AACA,KAAK;AACL;AACA;AACA;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","file":"fast-fastjs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"moment\"), require(\"bluebird\"), require(\"md5\"), require(\"axios\"), require(\"lokijs\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fast-fastjs\", [\"moment\", \"bluebird\", \"md5\", \"axios\", \"lokijs\", \"_\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fast-fastjs\"] = factory(require(\"moment\"), require(\"bluebird\"), require(\"md5\"), require(\"axios\"), require(\"lokijs\"), require(\"lodash\"));\n\telse\n\t\troot[\"fast-fastjs\"] = factory(root[\"moment\"], root[\"bluebird\"], root[\"md5\"], root[\"axios\"], root[\"lokijs\"], root[\"_\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__30__, __WEBPACK_EXTERNAL_MODULE__52__, __WEBPACK_EXTERNAL_MODULE__65__, __WEBPACK_EXTERNAL_MODULE__138__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 56);\n","/* eslint-disable no-unused-vars */\nlet Utilities = (() => {\n  /**\n   * Deep clones a JS object using JSON.parse\n   * This function will not clone object\n   * functions\n   * @param {Object} object\n   */\n  const cloneDeep = (object) => {\n    return JSON.parse(JSON.stringify(object));\n  };\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  const get = (fn, def) => {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  const getFromPath = (obj, path, def) => {\n    let _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    let assignedName = get(() => {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    let fullPath = _path\n      .replace(/\\[/g, '.')\n      .replace(/]/g, '')\n      .split('.')\n      .filter(Boolean)\n      .map((e) => e.trim());\n\n    function everyFunc (step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    let result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n  /**\n   *\n   * @param {*} arr\n   * @param {*} predicate\n   */\n  const uniqBy = (arr, predicate) => {\n    const cb = typeof predicate === 'function' ? predicate : (o) => o[predicate];\n\n    return [\n      ...arr\n        .reduce((map, item) => {\n          const key = cb(item);\n\n          map.has(key) || map.set(key, item);\n\n          return map;\n        }, new Map())\n        .values()\n    ];\n  };\n  /**\n   *\n   */\n  const orderBy = () => {};\n  /**\n   *\n   * @param {*} value\n   */\n  const isEmpty = (value) => {\n    if (!value) {\n      return true;\n    }\n    if (Array.isArray(value) || typeof value === 'string') {\n      return !value.length;\n    }\n    for (let key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   *\n   * @param {*} fn\n   * @param {*} time\n   */\n  const debounce = (fn, time) => {\n    let timeout;\n\n    return function () {\n      const functionCall = () => fn.apply(this, arguments);\n\n      clearTimeout(timeout);\n      timeout = setTimeout(functionCall, time);\n    };\n  };\n\n  return Object.freeze({\n    cloneDeep,\n    get,\n    orderBy,\n    isEmpty,\n    debounce,\n    getFromPath\n  });\n})();\n\nexport default Utilities;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import Model from '../Fluent/Model';\nimport Fluent from '../Fluent/Fluent';\nimport Utilities from 'utilities';\nimport Connection from 'Wrappers/Connection';\nimport moment from 'moment';\n\nexport default Fluent.extend(Model, {\n  properties: {\n    name: 'Configuration',\n    path: undefined\n  },\n  methods: {\n    /**\n     *\n     */\n    async getLocal () {\n      let configuration = await this.local().find();\n\n      return Utilities.get(() => configuration[0]);\n    },\n    /**\n     *\n     * @param {*} appConf\n     */\n    async getRemote (appConf) {\n      let remoteConfig;\n      let isOnline = await Connection.isOnline();\n\n      if (isOnline) {\n        try {\n          remoteConfig = await this.remote().find({\n            filter: [{ element: '_id', query: '=', value: appConf.appConfigId }],\n            limit: 1\n          });\n        } catch (error) {\n          console.log('error', error);\n        }\n      }\n      return Utilities.get(() => remoteConfig[0].data);\n    },\n    /**\n     *\n     * @param {*} VUE\n     * @param {*} configuration\n     */\n    assingGlobalVariable (VUE, configuration) {\n      if (VUE && VUE.prototype) {\n        VUE.prototype.$FAST_CONFIG = configuration;\n      } else if (VUE) {\n        VUE.$FAST_CONFIG = configuration;\n      }\n    },\n    /**\n     *\n     * @param {*} localConfig\n     */\n    getConfigDate (localConfig) {\n      return Utilities.get(() => localConfig.fastUpdated, 0);\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOfflineConfig ({ Vue, appConf }) {\n      let localConfig = await this.getLocal();\n\n      let localConfigDate = this.getConfigDate(localConfig);\n      let offlineConfigDate = appConf.offlineFiles.lastUpdated.date;\n\n      if (offlineConfigDate > localConfigDate) {\n        let offlineConfig = {\n          ...appConf.offlineFiles.this.data,\n          fastUpdated: moment().unix()\n        };\n\n        if (localConfig) {\n          await this.local().clear();\n        }\n\n        let insertedConfig = await this.local().insert(offlineConfig);\n\n        this.assingGlobalVariable(Vue, insertedConfig);\n        return insertedConfig;\n      }\n      this.assingGlobalVariable(Vue, localConfig);\n      return localConfig;\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOnlineConfig ({ Vue, appConf }) {\n      let localConfig = await this.getLocal();\n\n      let remoteConfig = await this.getRemote(appConf);\n\n      if (!localConfig && !remoteConfig) {\n        throw new Error('Application is not connected to internet, or the configuration file cannot be pulled');\n      }\n\n      if (!remoteConfig) {\n        this.assingGlobalVariable(Vue, localConfig);\n        return localConfig;\n      }\n\n      remoteConfig.fastUpdated = moment().unix();\n\n      if (localConfig) {\n        await this.local().clear();\n      }\n\n      let insertedConfig = await this.local().insert(remoteConfig);\n\n      this.assingGlobalVariable(Vue, insertedConfig);\n      return insertedConfig;\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async set ({ Vue, appConf, forceOnline }) {\n      if (String(appConf.offlineStart) === 'true' && !forceOnline) {\n        return this.setOfflineConfig({ Vue, appConf });\n      }\n      return this.setOnlineConfig({ Vue, appConf });\n    }\n  }\n})\n  .compose(Fluent.privatize)\n  .privatizeMethods('setOnlineConfig', 'setOfflineConfig', 'getConfigDate', 'assingGlobalVariable', 'getRemote')();\n","import stampit from '@stamp/it';\nimport Privatize from '@stamp/privatize';\nimport compose from '@stamp/compose';\nimport loki from './Connectors/local/Loki/FluentConnector';\nimport formio from './Connectors/remote/Formio/FluentConnector';\n// import formioLoki from './Connectors/merged/Formio-Loki/FluentConnector';\n\nconst Fluent = stampit({\n  properties: {\n    privatize: Privatize,\n    defaulLocal: 'loki',\n    defaultRemote: 'formio',\n    defaultMerged: 'formio-loki',\n    connectors: {\n      local: { loki: loki },\n      remote: { formio: formio }\n      // merged: { 'formio-loki': formioLoki }\n    }\n  },\n  methods: {\n    model (...args) {\n      return stampit(...args);\n    },\n    extend (...args) {\n      return compose(...args);\n    },\n    compose (...args) {\n      return compose(...args);\n    },\n    getLocalConnector (modelName) {\n      let con = process.env.FLUENT_LOCAL_CONNECTOR || this.defaulLocal;\n\n      return this.connectors.local[con](modelName);\n    },\n    getRemoteConnector (pathName) {\n      let con = process.env.FLUENT_REMOTE_CONNECTOR || this.defaultRemote;\n\n      return this.connectors.remote[con](pathName);\n    },\n    getMergedConnector (nameAndPath) {\n      // let con = process.env.FLUENT_MERGED_CONNECTOR || this.defaultMerged;\n      // return this.connectors.merged[con](nameAndPath);\n    }\n  }\n})();\n\nexport default Fluent;\n","import Fluent from './Fluent';\n\nexport default Fluent.compose({\n  properties: {\n    getFrom: 'remote-local',\n    name: 'baseModel',\n    path: undefined\n  },\n  methods: {\n    getModelName () {\n      return this.name;\n    },\n    /**\n     * [remote description]\n     * @return {[type]} [description]\n     */\n    remote () {\n      return Fluent.getRemoteConnector({ path: this.path });\n    },\n    /**\n     * [local description]\n     * @return {[type]} [description]\n     */\n    local () {\n      return Fluent.getLocalConnector({ name: this.name });\n    },\n    /**\n     *\n     */\n    merged () {\n      return Fluent.getMergedConnector({ name: this.name, path: this.path });\n    }\n  }\n}).compose(Fluent.privatize);\n","import Event from './Event';\nimport Promise from 'bluebird';\n/* eslint-disable no-unused-vars */\nlet Connection = (() => {\n  let online = window.navigator.onLine;\n\n  function setOnline () {\n    if (!online) {\n      online = true;\n      Event.emit({\n        name: 'FAST:CONNECTION:ONLINE',\n        data: online,\n        text: 'Application is now online'\n      });\n    }\n  }\n\n  function setOffline () {\n    if (online) {\n      online = false;\n      Event.emit({\n        name: 'FAST:CONNECTION:OFFLINE',\n        data: online,\n        text: 'Application is now offline'\n      });\n    }\n  }\n\n  /**\n   * [status description]\n   * @return {Promise} [description]\n   */\n  function initEventListeners () {\n    Event.listen({\n      name: 'online',\n      callback: function () {\n        console.log('App is now online');\n        setOnline();\n      }\n    });\n    Event.listen({\n      name: 'offline',\n      callback: function () {\n        console.log('App is now offline');\n        setOffline();\n      }\n    });\n  }\n\n  function isOnline () {\n    return new Promise((resolve, reject) => {\n      var xhr = XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHttp');\n\n      xhr.onload = function () {\n        resolve(true);\n      };\n      xhr.onerror = function (e) {\n        resolve(false);\n      };\n      xhr.open('GET', 'https://yesno.wtf/api', true);\n      xhr.send();\n    });\n  }\n\n  return Object.freeze({\n    isOnline,\n    initEventListeners\n  });\n})();\n\nexport default Connection;\n","let Event = (() => {\n  let CustomEvent = function (event, params) {\n    var evt = document.createEvent('CustomEvent');\n\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  function emit ({ name, data, text }) {\n    if (!name) throw new Error('Event must have a name.');\n    if (!data) throw new Error('Event must have data.');\n    if (!text) throw new Error('Event must have a text.');\n    let customEvent = CustomEvent(name, {\n      detail: {\n        data: data,\n        text: text\n      }\n    });\n\n    window.dispatchEvent(customEvent);\n  }\n  function listen ({ name, callback }) {\n    if (!name) throw new Error('Listener must have a name.');\n    if (!callback) throw new Error('Listener must have a callback.');\n    window.addEventListener(name, callback);\n  }\n\n  function remove ({ name, callback }) {\n    if (!name) throw new Error('Listener must have a name to detach');\n    if (!callback) throw new Error('Listener must have a callback to detach');\n    window.removeEventListener(name, callback);\n  }\n  return Object.freeze({\n    emit,\n    listen,\n    remove\n  });\n})();\n\nexport default Event;\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n\n(function UMD(name,context,definition){\n\t// special form of UMD for polyfilling across evironments\n\tcontext[name] = context[name] || definition();\n\tif (typeof module != \"undefined\" && module.exports) { module.exports = context[name]; }\n\telse if (typeof define == \"function\" && define.amd) { define(function $AMD$(){ return context[name]; }); }\n})(\"Promise\",typeof global != \"undefined\" ? global : this,function DEF(){\n\t/*jshint validthis:true */\n\t\"use strict\";\n\n\tvar builtInProp, cycle, scheduling_queue,\n\t\tToString = Object.prototype.toString,\n\t\ttimer = (typeof setImmediate != \"undefined\") ?\n\t\t\tfunction timer(fn) { return setImmediate(fn); } :\n\t\t\tsetTimeout\n\t;\n\n\t// dammit, IE8.\n\ttry {\n\t\tObject.defineProperty({},\"x\",{});\n\t\tbuiltInProp = function builtInProp(obj,name,val,config) {\n\t\t\treturn Object.defineProperty(obj,name,{\n\t\t\t\tvalue: val,\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: config !== false\n\t\t\t});\n\t\t};\n\t}\n\tcatch (err) {\n\t\tbuiltInProp = function builtInProp(obj,name,val) {\n\t\t\tobj[name] = val;\n\t\t\treturn obj;\n\t\t};\n\t}\n\n\t// Note: using a queue instead of array for efficiency\n\tscheduling_queue = (function Queue() {\n\t\tvar first, last, item;\n\n\t\tfunction Item(fn,self) {\n\t\t\tthis.fn = fn;\n\t\t\tthis.self = self;\n\t\t\tthis.next = void 0;\n\t\t}\n\n\t\treturn {\n\t\t\tadd: function add(fn,self) {\n\t\t\t\titem = new Item(fn,self);\n\t\t\t\tif (last) {\n\t\t\t\t\tlast.next = item;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfirst = item;\n\t\t\t\t}\n\t\t\t\tlast = item;\n\t\t\t\titem = void 0;\n\t\t\t},\n\t\t\tdrain: function drain() {\n\t\t\t\tvar f = first;\n\t\t\t\tfirst = last = cycle = void 0;\n\n\t\t\t\twhile (f) {\n\t\t\t\t\tf.fn.call(f.self);\n\t\t\t\t\tf = f.next;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\n\tfunction schedule(fn,self) {\n\t\tscheduling_queue.add(fn,self);\n\t\tif (!cycle) {\n\t\t\tcycle = timer(scheduling_queue.drain);\n\t\t}\n\t}\n\n\t// promise duck typing\n\tfunction isThenable(o) {\n\t\tvar _then, o_type = typeof o;\n\n\t\tif (o != null &&\n\t\t\t(\n\t\t\t\to_type == \"object\" || o_type == \"function\"\n\t\t\t)\n\t\t) {\n\t\t\t_then = o.then;\n\t\t}\n\t\treturn typeof _then == \"function\" ? _then : false;\n\t}\n\n\tfunction notify() {\n\t\tfor (var i=0; i<this.chain.length; i++) {\n\t\t\tnotifyIsolated(\n\t\t\t\tthis,\n\t\t\t\t(this.state === 1) ? this.chain[i].success : this.chain[i].failure,\n\t\t\t\tthis.chain[i]\n\t\t\t);\n\t\t}\n\t\tthis.chain.length = 0;\n\t}\n\n\t// NOTE: This is a separate function to isolate\n\t// the `try..catch` so that other code can be\n\t// optimized better\n\tfunction notifyIsolated(self,cb,chain) {\n\t\tvar ret, _then;\n\t\ttry {\n\t\t\tif (cb === false) {\n\t\t\t\tchain.reject(self.msg);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (cb === true) {\n\t\t\t\t\tret = self.msg;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tret = cb.call(void 0,self.msg);\n\t\t\t\t}\n\n\t\t\t\tif (ret === chain.promise) {\n\t\t\t\t\tchain.reject(TypeError(\"Promise-chain cycle\"));\n\t\t\t\t}\n\t\t\t\telse if (_then = isThenable(ret)) {\n\t\t\t\t\t_then.call(ret,chain.resolve,chain.reject);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchain.resolve(ret);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (err) {\n\t\t\tchain.reject(err);\n\t\t}\n\t}\n\n\tfunction resolve(msg) {\n\t\tvar _then, self = this;\n\n\t\t// already triggered?\n\t\tif (self.triggered) { return; }\n\n\t\tself.triggered = true;\n\n\t\t// unwrap\n\t\tif (self.def) {\n\t\t\tself = self.def;\n\t\t}\n\n\t\ttry {\n\t\t\tif (_then = isThenable(msg)) {\n\t\t\t\tschedule(function(){\n\t\t\t\t\tvar def_wrapper = new MakeDefWrapper(self);\n\t\t\t\t\ttry {\n\t\t\t\t\t\t_then.call(msg,\n\t\t\t\t\t\t\tfunction $resolve$(){ resolve.apply(def_wrapper,arguments); },\n\t\t\t\t\t\t\tfunction $reject$(){ reject.apply(def_wrapper,arguments); }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\treject.call(def_wrapper,err);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tself.msg = msg;\n\t\t\t\tself.state = 1;\n\t\t\t\tif (self.chain.length > 0) {\n\t\t\t\t\tschedule(notify,self);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (err) {\n\t\t\treject.call(new MakeDefWrapper(self),err);\n\t\t}\n\t}\n\n\tfunction reject(msg) {\n\t\tvar self = this;\n\n\t\t// already triggered?\n\t\tif (self.triggered) { return; }\n\n\t\tself.triggered = true;\n\n\t\t// unwrap\n\t\tif (self.def) {\n\t\t\tself = self.def;\n\t\t}\n\n\t\tself.msg = msg;\n\t\tself.state = 2;\n\t\tif (self.chain.length > 0) {\n\t\t\tschedule(notify,self);\n\t\t}\n\t}\n\n\tfunction iteratePromises(Constructor,arr,resolver,rejecter) {\n\t\tfor (var idx=0; idx<arr.length; idx++) {\n\t\t\t(function IIFE(idx){\n\t\t\t\tConstructor.resolve(arr[idx])\n\t\t\t\t.then(\n\t\t\t\t\tfunction $resolver$(msg){\n\t\t\t\t\t\tresolver(idx,msg);\n\t\t\t\t\t},\n\t\t\t\t\trejecter\n\t\t\t\t);\n\t\t\t})(idx);\n\t\t}\n\t}\n\n\tfunction MakeDefWrapper(self) {\n\t\tthis.def = self;\n\t\tthis.triggered = false;\n\t}\n\n\tfunction MakeDef(self) {\n\t\tthis.promise = self;\n\t\tthis.state = 0;\n\t\tthis.triggered = false;\n\t\tthis.chain = [];\n\t\tthis.msg = void 0;\n\t}\n\n\tfunction Promise(executor) {\n\t\tif (typeof executor != \"function\") {\n\t\t\tthrow TypeError(\"Not a function\");\n\t\t}\n\n\t\tif (this.__NPO__ !== 0) {\n\t\t\tthrow TypeError(\"Not a promise\");\n\t\t}\n\n\t\t// instance shadowing the inherited \"brand\"\n\t\t// to signal an already \"initialized\" promise\n\t\tthis.__NPO__ = 1;\n\n\t\tvar def = new MakeDef(this);\n\n\t\tthis[\"then\"] = function then(success,failure) {\n\t\t\tvar o = {\n\t\t\t\tsuccess: typeof success == \"function\" ? success : true,\n\t\t\t\tfailure: typeof failure == \"function\" ? failure : false\n\t\t\t};\n\t\t\t// Note: `then(..)` itself can be borrowed to be used against\n\t\t\t// a different promise constructor for making the chained promise,\n\t\t\t// by substituting a different `this` binding.\n\t\t\to.promise = new this.constructor(function extractChain(resolve,reject) {\n\t\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t\t}\n\n\t\t\t\to.resolve = resolve;\n\t\t\t\to.reject = reject;\n\t\t\t});\n\t\t\tdef.chain.push(o);\n\n\t\t\tif (def.state !== 0) {\n\t\t\t\tschedule(notify,def);\n\t\t\t}\n\n\t\t\treturn o.promise;\n\t\t};\n\t\tthis[\"catch\"] = function $catch$(failure) {\n\t\t\treturn this.then(void 0,failure);\n\t\t};\n\n\t\ttry {\n\t\t\texecutor.call(\n\t\t\t\tvoid 0,\n\t\t\t\tfunction publicResolve(msg){\n\t\t\t\t\tresolve.call(def,msg);\n\t\t\t\t},\n\t\t\t\tfunction publicReject(msg) {\n\t\t\t\t\treject.call(def,msg);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tcatch (err) {\n\t\t\treject.call(def,err);\n\t\t}\n\t}\n\n\tvar PromisePrototype = builtInProp({},\"constructor\",Promise,\n\t\t/*configurable=*/false\n\t);\n\n\t// Note: Android 4 cannot use `Object.defineProperty(..)` here\n\tPromise.prototype = PromisePrototype;\n\n\t// built-in \"brand\" to signal an \"uninitialized\" promise\n\tbuiltInProp(PromisePrototype,\"__NPO__\",0,\n\t\t/*configurable=*/false\n\t);\n\n\tbuiltInProp(Promise,\"resolve\",function Promise$resolve(msg) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\t// note: best \"isPromise\" check that's practical for now\n\t\tif (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n\t\t\treturn msg;\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\tresolve(msg);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"reject\",function Promise$reject(msg) {\n\t\treturn new this(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\treject(msg);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"all\",function Promise$all(arr) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\tif (ToString.call(arr) != \"[object Array]\") {\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\n\t\t}\n\t\tif (arr.length === 0) {\n\t\t\treturn Constructor.resolve([]);\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\tvar len = arr.length, msgs = Array(len), count = 0;\n\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg) {\n\t\t\t\tmsgs[idx] = msg;\n\t\t\t\tif (++count === len) {\n\t\t\t\t\tresolve(msgs);\n\t\t\t\t}\n\t\t\t},reject);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"race\",function Promise$race(arr) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\tif (ToString.call(arr) != \"[object Array]\") {\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg){\n\t\t\t\tresolve(msg);\n\t\t\t},reject);\n\t\t});\n\t});\n\n\treturn Promise;\n});\n","var isArray = require('@stamp/is/array');\nvar isFunction = require('@stamp/is/function');\nvar isObject = require('@stamp/is/object');\nvar isStamp = require('@stamp/is/stamp');\nvar isComposable = require('@stamp/is/composable');\n\nvar assign = require('@stamp/core/assign');\nvar merge = require('@stamp/core/merge');\n\nvar slice = Array.prototype.slice;\n\n/**\n * Creates new factory instance.\n * @returns {Function} The new factory function.\n */\nfunction createFactory() {\n  return function Stamp(options) {\n    var descriptor = Stamp.compose || {};\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = {__proto__: descriptor.methods}; // jshint ignore:line\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n    if (options === undefined) options = {};\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: slice.apply(arguments)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory();\n\n  if (descriptor.staticDeepProperties) {\n    merge(Stamp, descriptor.staticDeepProperties);\n  }\n  if (descriptor.staticProperties) {\n    assign(Stamp, descriptor.staticProperties);\n  }\n  if (descriptor.staticPropertyDescriptors) {\n    Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n  }\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    'use strict'; // to make sure `this` is not pointing to `global` or `window`\n    return composeImplementation.apply(this, arguments);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) return;\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) return;\n  if (!isObject(dstObject[propName])) dstObject[propName] = {};\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [arguments] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nmodule.exports = function compose() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var descriptor = {};\n  var composables = [];\n  if (isComposable(this)) {\n    mergeComposable(descriptor, this);\n    composables.push(this);\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (isComposable(arg)) {\n      mergeComposable(descriptor, arg);\n      composables.push(arg);\n    }\n  }\n\n  var stamp = createStamp(descriptor, compose);\n\n  var composers = descriptor.composers;\n  if (isArray(composers) && composers.length > 0) {\n    for (var j = 0; j < composers.length; j += 1) {\n      var composer = composers[j];\n      var returnedValue = composer({stamp: stamp, composables: composables});\n      stamp = isStamp(returnedValue) ? returnedValue : stamp;\n    }\n  }\n\n  return stamp;\n};\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nrequire(\"whatwg-fetch\");\n\nvar _eventemitter = require(\"eventemitter2\");\n\nvar _browserCookies = _interopRequireDefault(require(\"browser-cookies\"));\n\nvar _shallowCopy = _interopRequireDefault(require(\"shallow-copy\"));\n\nvar providers = _interopRequireWildcard(require(\"./providers\"));\n\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar isBoolean = function isBoolean(val) {\n  return _typeof(val) === _typeof(true);\n};\n\nvar isNil = function isNil(val) {\n  return val === null || val === undefined;\n};\n\nvar isObject = function isObject(val) {\n  return val && _typeof(val) === 'object';\n};\n/**\n * The Formio interface class.\n *\n *   let formio = new Formio('https://examples.form.io/example');\n */\n\n\nvar Formio =\n/*#__PURE__*/\nfunction () {\n  /* eslint-disable max-statements */\n  function Formio(path) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Formio);\n\n    // Ensure we have an instance of Formio.\n    if (!(this instanceof Formio)) {\n      return new Formio(path);\n    } // Initialize our variables.\n\n\n    this.base = '';\n    this.projectsUrl = '';\n    this.projectUrl = '';\n    this.projectId = '';\n    this.formUrl = '';\n    this.formsUrl = '';\n    this.formId = '';\n    this.submissionsUrl = '';\n    this.submissionUrl = '';\n    this.submissionId = '';\n    this.actionsUrl = '';\n    this.actionId = '';\n    this.actionUrl = '';\n    this.vsUrl = '';\n    this.vId = '';\n    this.vUrl = '';\n    this.query = ''; // Store the original path and options.\n\n    this.path = path;\n    this.options = options;\n\n    if (options.hasOwnProperty('base')) {\n      this.base = options.base;\n    } else if (Formio.baseUrl) {\n      this.base = Formio.baseUrl;\n    } else {\n      this.base = window.location.href.match(/http[s]?:\\/\\/api./)[0];\n    }\n\n    if (!path) {\n      // Allow user to create new projects if this was instantiated without\n      // a url\n      this.projectUrl = \"\".concat(this.base, \"/project\");\n      this.projectsUrl = \"\".concat(this.base, \"/project\");\n      this.projectId = false;\n      this.query = '';\n      return;\n    }\n\n    if (options.hasOwnProperty('project')) {\n      this.projectUrl = options.project;\n    }\n\n    var project = this.projectUrl || Formio.projectUrl;\n    var projectRegEx = /(^|\\/)(project)($|\\/[^/]+)/;\n    var isProjectUrl = path.search(projectRegEx) !== -1; // The baseURL is the same as the projectUrl, and does not contain \"/project/MONGO_ID\" in\n    // its domain. This is almost certainly against the Open Source server.\n\n    if (project && this.base === project && !isProjectUrl) {\n      this.noProject = true;\n      this.projectUrl = this.base;\n    } // Normalize to an absolute path.\n\n\n    if (path.indexOf('http') !== 0 && path.indexOf('//') !== 0) {\n      path = this.base + path;\n    }\n\n    var hostparts = this.getUrlParts(path);\n    var parts = [];\n    var hostName = hostparts[1] + hostparts[2];\n    path = hostparts.length > 3 ? hostparts[3] : '';\n    var queryparts = path.split('?');\n\n    if (queryparts.length > 1) {\n      path = queryparts[0];\n      this.query = \"?\".concat(queryparts[1]);\n    } // Register a specific path.\n\n\n    var registerPath = function registerPath(name, base) {\n      _this[\"\".concat(name, \"sUrl\")] = \"\".concat(base, \"/\").concat(name);\n      var regex = new RegExp(\"/\".concat(name, \"/([^/]+)\"));\n\n      if (path.search(regex) !== -1) {\n        parts = path.match(regex);\n        _this[\"\".concat(name, \"Url\")] = parts ? base + parts[0] : '';\n        _this[\"\".concat(name, \"Id\")] = parts.length > 1 ? parts[1] : '';\n        base += parts[0];\n      }\n\n      return base;\n    }; // Register an array of items.\n\n\n    var registerItems = function registerItems(items, base, staticBase) {\n      for (var i in items) {\n        if (items.hasOwnProperty(i)) {\n          var item = items[i];\n\n          if (Array.isArray(item)) {\n            registerItems(item, base, true);\n          } else {\n            var newBase = registerPath(item, base);\n            base = staticBase ? base : newBase;\n          }\n        }\n      }\n    };\n\n    if (!this.projectUrl || this.projectUrl === this.base) {\n      this.projectUrl = hostName;\n    }\n\n    if (!this.noProject) {\n      // Determine the projectUrl and projectId\n      if (isProjectUrl) {\n        // Get project id as project/:projectId.\n        registerItems(['project'], hostName);\n        path = path.replace(projectRegEx, '');\n      } else if (hostName === this.base) {\n        // Get project id as first part of path (subdirectory).\n        if (hostparts.length > 3 && path.split('/').length > 1) {\n          var pathParts = path.split('/');\n          pathParts.shift(); // Throw away the first /.\n\n          this.projectId = pathParts.shift();\n          path = \"/\".concat(pathParts.join('/'));\n          this.projectUrl = \"\".concat(hostName, \"/\").concat(this.projectId);\n        }\n      } else {\n        // Get project id from subdomain.\n        if (hostparts.length > 2 && (hostparts[2].split('.').length > 2 || hostName.includes('localhost'))) {\n          this.projectUrl = hostName;\n          this.projectId = hostparts[2].split('.')[0];\n        }\n      }\n\n      this.projectsUrl = this.projectsUrl || \"\".concat(this.base, \"/project\");\n    } // Configure Form urls and form ids.\n\n\n    if (path.search(/(^|\\/)(form)($|\\/)/) !== -1) {\n      registerItems(['form', ['submission', 'action', 'v']], this.projectUrl);\n    } else {\n      var subRegEx = new RegExp('/(submission|action|v)($|/.*)');\n      var subs = path.match(subRegEx);\n      this.pathType = subs && subs.length > 1 ? subs[1] : '';\n      path = path.replace(subRegEx, '');\n      path = path.replace(/\\/$/, '');\n      this.formsUrl = \"\".concat(this.projectUrl, \"/form\");\n      this.formUrl = path ? this.projectUrl + path : '';\n      this.formId = path.replace(/^\\/+|\\/+$/g, '');\n      var items = ['submission', 'action', 'v'];\n\n      for (var i in items) {\n        if (items.hasOwnProperty(i)) {\n          var item = items[i];\n          this[\"\".concat(item, \"sUrl\")] = \"\".concat(this.projectUrl + path, \"/\").concat(item);\n\n          if (this.pathType === item && subs.length > 2 && subs[2]) {\n            this[\"\".concat(item, \"Id\")] = subs[2].replace(/^\\/+|\\/+$/g, '');\n            this[\"\".concat(item, \"Url\")] = this.projectUrl + path + subs[0];\n          }\n        }\n      }\n    } // Set the app url if it is not set.\n\n\n    if (!Formio.projectUrlSet) {\n      Formio.projectUrl = this.projectUrl;\n    }\n  }\n  /* eslint-enable max-statements */\n\n\n  _createClass(Formio, [{\n    key: \"delete\",\n    value: function _delete(type, opts) {\n      var _id = \"\".concat(type, \"Id\");\n\n      var _url = \"\".concat(type, \"Url\");\n\n      if (!this[_id]) {\n        _nativePromiseOnly.default.reject('Nothing to delete');\n      }\n\n      Formio.cache = {};\n      return this.makeRequest(type, this[_url], 'delete', null, opts);\n    }\n  }, {\n    key: \"index\",\n    value: function index(type, query, opts) {\n      var _url = \"\".concat(type, \"Url\");\n\n      query = query || '';\n\n      if (query && isObject(query)) {\n        query = \"?\".concat(Formio.serialize(query.params));\n      }\n\n      return this.makeRequest(type, this[_url] + query, 'get', null, opts);\n    }\n  }, {\n    key: \"save\",\n    value: function save(type, data, opts) {\n      var _id = \"\".concat(type, \"Id\");\n\n      var _url = \"\".concat(type, \"Url\");\n\n      var method = this[_id] || data._id ? 'put' : 'post';\n      var reqUrl = this[_id] ? this[_url] : this[\"\".concat(type, \"sUrl\")];\n\n      if (!this[_id] && data._id && method === 'put' && !reqUrl.includes(data._id)) {\n        reqUrl += \"/\".concat(data._id);\n      }\n\n      Formio.cache = {};\n      return this.makeRequest(type, reqUrl + this.query, method, data, opts);\n    }\n  }, {\n    key: \"load\",\n    value: function load(type, query, opts) {\n      var _id = \"\".concat(type, \"Id\");\n\n      var _url = \"\".concat(type, \"Url\");\n\n      if (query && isObject(query)) {\n        query = Formio.serialize(query.params);\n      }\n\n      if (query) {\n        query = this.query ? \"\".concat(this.query, \"&\").concat(query) : \"?\".concat(query);\n      } else {\n        query = this.query;\n      }\n\n      if (!this[_id]) {\n        return _nativePromiseOnly.default.reject(\"Missing \".concat(_id));\n      }\n\n      return this.makeRequest(type, this[_url] + query, 'get', null, opts);\n    }\n  }, {\n    key: \"makeRequest\",\n    value: function makeRequest() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return Formio.makeRequest.apply(Formio, [this].concat(args));\n    }\n  }, {\n    key: \"loadProject\",\n    value: function loadProject(query, opts) {\n      return this.load('project', query, opts);\n    }\n  }, {\n    key: \"saveProject\",\n    value: function saveProject(data, opts) {\n      return this.save('project', data, opts);\n    }\n  }, {\n    key: \"deleteProject\",\n    value: function deleteProject(opts) {\n      return this.delete('project', opts);\n    }\n  }, {\n    key: \"loadForm\",\n    value: function loadForm(query, opts) {\n      var _this2 = this;\n\n      return this.load('form', query, opts).then(function (currentForm) {\n        // Check to see if there isn't a number in vId.\n        if (!currentForm.revisions || isNaN(parseInt(_this2.vId))) {\n          return currentForm;\n        } // If a submission already exists but form is marked to load current version of form.\n\n\n        if (currentForm.revisions === 'current' && _this2.submissionId) {\n          return currentForm;\n        } // If they specified a revision form, load the revised form components.\n\n\n        if (query && isObject(query)) {\n          query = Formio.serialize(query.params);\n        }\n\n        if (query) {\n          query = _this2.query ? \"\".concat(_this2.query, \"&\").concat(query) : \"?\".concat(query);\n        } else {\n          query = _this2.query;\n        }\n\n        return _this2.makeRequest('form', _this2.vUrl + query, 'get', null, opts).then(function (revisionForm) {\n          currentForm.components = revisionForm.components; // Using object.assign so we don't cross polinate multiple form loads.\n\n          return Object.assign({}, currentForm);\n        }) // If we couldn't load the revision, just return the original form.\n        .catch(function () {\n          return Object.assign({}, currentForm);\n        });\n      });\n    }\n  }, {\n    key: \"saveForm\",\n    value: function saveForm(data, opts) {\n      return this.save('form', data, opts);\n    }\n  }, {\n    key: \"deleteForm\",\n    value: function deleteForm(opts) {\n      return this.delete('form', opts);\n    }\n  }, {\n    key: \"loadForms\",\n    value: function loadForms(query, opts) {\n      return this.index('forms', query, opts);\n    }\n  }, {\n    key: \"loadSubmission\",\n    value: function loadSubmission(query, opts) {\n      var _this3 = this;\n\n      return this.load('submission', query, opts).then(function (submission) {\n        _this3.vId = submission._fvid;\n        _this3.vUrl = \"\".concat(_this3.formUrl, \"/v/\").concat(_this3.vId);\n        return submission;\n      });\n    }\n  }, {\n    key: \"saveSubmission\",\n    value: function saveSubmission(data, opts) {\n      if (!isNaN(parseInt(this.vId))) {\n        data._fvid = this.vId;\n      }\n\n      return this.save('submission', data, opts);\n    }\n  }, {\n    key: \"deleteSubmission\",\n    value: function deleteSubmission(opts) {\n      return this.delete('submission', opts);\n    }\n  }, {\n    key: \"loadSubmissions\",\n    value: function loadSubmissions(query, opts) {\n      return this.index('submissions', query, opts);\n    }\n  }, {\n    key: \"loadAction\",\n    value: function loadAction(query, opts) {\n      return this.load('action', query, opts);\n    }\n  }, {\n    key: \"saveAction\",\n    value: function saveAction(data, opts) {\n      return this.save('action', data, opts);\n    }\n  }, {\n    key: \"deleteAction\",\n    value: function deleteAction(opts) {\n      return this.delete('action', opts);\n    }\n  }, {\n    key: \"loadActions\",\n    value: function loadActions(query, opts) {\n      return this.index('actions', query, opts);\n    }\n  }, {\n    key: \"availableActions\",\n    value: function availableActions() {\n      return this.makeRequest('availableActions', \"\".concat(this.formUrl, \"/actions\"));\n    }\n  }, {\n    key: \"actionInfo\",\n    value: function actionInfo(name) {\n      return this.makeRequest('actionInfo', \"\".concat(this.formUrl, \"/actions/\").concat(name));\n    }\n  }, {\n    key: \"isObjectId\",\n    value: function isObjectId(id) {\n      var checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\n      return checkForHexRegExp.test(id);\n    }\n  }, {\n    key: \"getProjectId\",\n    value: function getProjectId() {\n      if (!this.projectId) {\n        return _nativePromiseOnly.default.resolve('');\n      }\n\n      if (this.isObjectId(this.projectId)) {\n        return _nativePromiseOnly.default.resolve(this.projectId);\n      } else {\n        return this.loadProject().then(function (project) {\n          return project._id;\n        });\n      }\n    }\n  }, {\n    key: \"getFormId\",\n    value: function getFormId() {\n      if (!this.formId) {\n        return _nativePromiseOnly.default.resolve('');\n      }\n\n      if (this.isObjectId(this.formId)) {\n        return _nativePromiseOnly.default.resolve(this.formId);\n      } else {\n        return this.loadForm().then(function (form) {\n          return form._id;\n        });\n      }\n    }\n  }, {\n    key: \"currentUser\",\n    value: function currentUser(options) {\n      return Formio.currentUser(this, options);\n    }\n  }, {\n    key: \"accessInfo\",\n    value: function accessInfo() {\n      return Formio.accessInfo(this);\n    }\n    /**\n     * Returns the JWT token for this instance.\n     *\n     * @return {*}\n     */\n\n  }, {\n    key: \"getToken\",\n    value: function getToken(options) {\n      return Formio.getToken(Object.assign({\n        formio: this\n      }, this.options, options));\n    }\n    /**\n     * Sets the JWT token for this instance.\n     *\n     * @return {*}\n     */\n\n  }, {\n    key: \"setToken\",\n    value: function setToken(token, options) {\n      return Formio.setToken(token, Object.assign({\n        formio: this\n      }, this.options, options));\n    }\n    /**\n     * Returns a temporary authentication token for single purpose token generation.\n     */\n\n  }, {\n    key: \"getTempToken\",\n    value: function getTempToken(expire, allowed, options) {\n      var token = Formio.getToken(options);\n\n      if (!token) {\n        return _nativePromiseOnly.default.reject('You must be authenticated to generate a temporary auth token.');\n      }\n\n      return this.makeRequest('tempToken', \"\".concat(this.projectUrl, \"/token\"), 'GET', null, {\n        ignoreCache: true,\n        header: new Headers({\n          'x-expire': expire,\n          'x-allow': allowed\n        })\n      });\n    }\n    /**\n     * Get a download url for a submission PDF of this submission.\n     *\n     * @return {*}\n     */\n\n  }, {\n    key: \"getDownloadUrl\",\n    value: function getDownloadUrl(form) {\n      var _this4 = this;\n\n      if (!this.submissionId) {\n        return _nativePromiseOnly.default.resolve('');\n      }\n\n      if (!form) {\n        // Make sure to load the form first.\n        return this.loadForm().then(function (_form) {\n          if (!_form) {\n            return '';\n          }\n\n          return _this4.getDownloadUrl(_form);\n        });\n      }\n\n      var apiUrl = \"/project/\".concat(form.project);\n      apiUrl += \"/form/\".concat(form._id);\n      apiUrl += \"/submission/\".concat(this.submissionId);\n      apiUrl += '/download';\n      var download = this.base + apiUrl;\n      return new _nativePromiseOnly.default(function (resolve, reject) {\n        _this4.getTempToken(3600, \"GET:\".concat(apiUrl)).then(function (tempToken) {\n          download += \"?token=\".concat(tempToken.key);\n          resolve(download);\n        }, function () {\n          resolve(download);\n        }).catch(reject);\n      });\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(storage, file, fileName, dir, progressCallback, url) {\n      var _this5 = this;\n\n      var requestArgs = {\n        provider: storage,\n        method: 'upload',\n        file: file,\n        fileName: fileName,\n        dir: dir\n      };\n      var request = Formio.pluginWait('preRequest', requestArgs).then(function () {\n        return Formio.pluginGet('fileRequest', requestArgs).then(function (result) {\n          if (storage && isNil(result)) {\n            if (Formio.providers.storage.hasOwnProperty(storage)) {\n              var provider = new Formio.providers.storage[storage](_this5);\n              return provider.uploadFile(file, fileName, dir, progressCallback, url);\n            } else {\n              throw 'Storage provider not found';\n            }\n          }\n\n          return result || {\n            url: ''\n          };\n        });\n      });\n      return Formio.pluginAlter('wrapFileRequestPromise', request, requestArgs);\n    }\n  }, {\n    key: \"downloadFile\",\n    value: function downloadFile(file) {\n      var _this6 = this;\n\n      var requestArgs = {\n        method: 'download',\n        file: file\n      };\n      var request = Formio.pluginWait('preRequest', requestArgs).then(function () {\n        return Formio.pluginGet('fileRequest', requestArgs).then(function (result) {\n          if (file.storage && isNil(result)) {\n            if (Formio.providers.storage.hasOwnProperty(file.storage)) {\n              var provider = new Formio.providers.storage[file.storage](_this6);\n              return provider.downloadFile(file);\n            } else {\n              throw 'Storage provider not found';\n            }\n          }\n\n          return result || {\n            url: ''\n          };\n        });\n      });\n      return Formio.pluginAlter('wrapFileRequestPromise', request, requestArgs);\n    } // Determine if the user can submit the form.\n\n  }, {\n    key: \"canSubmit\",\n    value: function canSubmit() {\n      /* eslint-disable max-statements, max-depth */\n      return _nativePromiseOnly.default.all([this.loadForm(), this.currentUser(), this.accessInfo()]).then(function (results) {\n        var form = results.shift();\n        var user = results.shift();\n        var access = results.shift(); // Get the anonymous and admin roles.\n\n        var anonRole = {};\n        var adminRole = {};\n\n        for (var roleName in access.roles) {\n          if (access.roles.hasOwnProperty(roleName)) {\n            var role = access.roles[roleName];\n\n            if (role.default) {\n              anonRole = role;\n            }\n\n            if (role.admin) {\n              adminRole = role;\n            }\n          }\n        }\n\n        var canSubmit = false;\n        var canSubmitAnonymously = false; // If the user is an admin, then they can submit this form.\n\n        if (user && user.roles.includes(adminRole._id)) {\n          return true;\n        }\n\n        for (var i in form.submissionAccess) {\n          if (form.submissionAccess.hasOwnProperty(i)) {\n            var subRole = form.submissionAccess[i];\n\n            if (subRole.type === 'create_all' || subRole.type === 'create_own') {\n              for (var j in subRole.roles) {\n                if (subRole.roles.hasOwnProperty(j)) {\n                  // Check if anonymous is allowed.\n                  if (anonRole._id === subRole.roles[j]) {\n                    canSubmitAnonymously = true;\n                  } // Check if the logged in user has the appropriate role.\n\n\n                  if (user && user.roles.includes(subRole.roles[j])) {\n                    canSubmit = true;\n                    break;\n                  }\n                }\n              }\n\n              if (canSubmit) {\n                break;\n              }\n            }\n          }\n        } // If their user cannot submit, but anonymous can, then delete token and allow submission.\n\n\n        if (!canSubmit && canSubmitAnonymously) {\n          canSubmit = true;\n          Formio.setUser(null);\n        }\n\n        return canSubmit;\n      });\n      /* eslint-enable max-statements, max-depth */\n    }\n  }, {\n    key: \"getUrlParts\",\n    value: function getUrlParts(url) {\n      return Formio.getUrlParts(url, this);\n    }\n  }], [{\n    key: \"loadProjects\",\n    value: function loadProjects(query, opts) {\n      query = query || '';\n\n      if (isObject(query)) {\n        query = \"?\".concat(Formio.serialize(query.params));\n      }\n\n      return Formio.makeStaticRequest(\"\".concat(Formio.baseUrl, \"/project\").concat(query), 'GET', null, opts);\n    }\n  }, {\n    key: \"getUrlParts\",\n    value: function getUrlParts(url, formio) {\n      var base = formio && formio.base ? formio.base : Formio.baseUrl;\n      var regex = '^(http[s]?:\\\\/\\\\/)';\n\n      if (base && url.indexOf(base) === 0) {\n        regex += \"(\".concat(base.replace(/^http[s]?:\\/\\//, ''), \")\");\n      } else {\n        regex += '([^/]+)';\n      }\n\n      regex += '($|\\\\/.*)';\n      return url.match(new RegExp(regex));\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(obj) {\n      var str = [];\n\n      for (var p in obj) {\n        if (obj.hasOwnProperty(p)) {\n          str.push(\"\".concat(encodeURIComponent(p), \"=\").concat(encodeURIComponent(obj[p])));\n        }\n      }\n\n      return str.join('&');\n    }\n  }, {\n    key: \"getRequestArgs\",\n    value: function getRequestArgs(formio, type, url, method, data, opts) {\n      method = (method || 'GET').toUpperCase();\n\n      if (!opts || !isObject(opts)) {\n        opts = {};\n      }\n\n      var requestArgs = {\n        url: url,\n        method: method,\n        data: data || null,\n        opts: opts\n      };\n\n      if (type) {\n        requestArgs.type = type;\n      }\n\n      if (formio) {\n        requestArgs.formio = formio;\n      }\n\n      return requestArgs;\n    }\n  }, {\n    key: \"makeStaticRequest\",\n    value: function makeStaticRequest(url, method, data, opts) {\n      var requestArgs = Formio.getRequestArgs(null, '', url, method, data, opts);\n      var request = Formio.pluginWait('preRequest', requestArgs).then(function () {\n        return Formio.pluginGet('staticRequest', requestArgs).then(function (result) {\n          if (isNil(result)) {\n            return Formio.request(url, method, requestArgs.data, requestArgs.opts.header, requestArgs.opts);\n          }\n\n          return result;\n        });\n      });\n      return Formio.pluginAlter('wrapStaticRequestPromise', request, requestArgs);\n    }\n  }, {\n    key: \"makeRequest\",\n    value: function makeRequest(formio, type, url, method, data, opts) {\n      if (!formio) {\n        return Formio.makeStaticRequest(url, method, data, opts);\n      }\n\n      var requestArgs = Formio.getRequestArgs(formio, type, url, method, data, opts);\n      requestArgs.opts = requestArgs.opts || {};\n      requestArgs.opts.formio = formio;\n      var request = Formio.pluginWait('preRequest', requestArgs).then(function () {\n        return Formio.pluginGet('request', requestArgs).then(function (result) {\n          if (isNil(result)) {\n            return Formio.request(url, method, requestArgs.data, requestArgs.opts.header, requestArgs.opts);\n          }\n\n          return result;\n        });\n      });\n      return Formio.pluginAlter('wrapRequestPromise', request, requestArgs);\n    }\n  }, {\n    key: \"request\",\n    value: function request(url, method, data, header, opts) {\n      if (!url) {\n        return _nativePromiseOnly.default.reject('No url provided');\n      }\n\n      method = (method || 'GET').toUpperCase(); // For reverse compatibility, if they provided the ignoreCache parameter,\n      // then change it back to the options format where that is a parameter.\n\n      if (isBoolean(opts)) {\n        opts = {\n          ignoreCache: opts\n        };\n      }\n\n      if (!opts || !isObject(opts)) {\n        opts = {};\n      } // Generate a cachekey.\n\n\n      var cacheKey = btoa(url); // Get the cached promise to save multiple loads.\n\n      if (!opts.ignoreCache && method === 'GET' && Formio.cache.hasOwnProperty(cacheKey)) {\n        return Formio.cache[cacheKey];\n      } // Set up and fetch request\n\n\n      var headers = header || new Headers(opts.headers || {\n        'Accept': 'application/json',\n        'Content-type': 'application/json; charset=UTF-8'\n      });\n      var token = Formio.getToken(opts);\n\n      if (token && !opts.noToken) {\n        headers.append('x-jwt-token', token);\n      }\n\n      var options = {\n        method: method,\n        headers: headers,\n        mode: 'cors'\n      };\n\n      if (data) {\n        options.body = JSON.stringify(data);\n      } // Allow plugins to alter the options.\n\n\n      options = Formio.pluginAlter('requestOptions', options, url);\n\n      if (options.namespace) {\n        opts.namespace = options.namespace;\n      }\n\n      var requestToken = options.headers.get('x-jwt-token');\n      var result = fetch(url, options).then(function (response) {\n        // Allow plugins to respond.\n        response = Formio.pluginAlter('requestResponse', response, Formio);\n\n        if (!response.ok) {\n          if (response.status === 440) {\n            Formio.setToken(null, opts);\n            Formio.events.emit('formio.sessionExpired', response.body);\n          } else if (response.status === 401) {\n            Formio.events.emit('formio.unauthorized', response.body);\n          } // Parse and return the error as a rejected promise to reject this promise\n\n\n          return (response.headers.get('content-type').includes('application/json') ? response.json() : response.text()).then(function (error) {\n            return _nativePromiseOnly.default.reject(error);\n          });\n        } // Handle fetch results\n\n\n        var token = response.headers.get('x-jwt-token'); // In some strange cases, the fetch library will return an x-jwt-token without sending\n        // one to the server. This has even been debugged on the server to verify that no token\n        // was introduced with the request, but the response contains a token. This is an Invalid\n        // case where we do not send an x-jwt-token and get one in return for any GET request.\n\n        var tokenIntroduced = false;\n\n        if (method === 'GET' && !requestToken && token && !opts.external && !url.includes('token=') && !url.includes('x-jwt-token=')) {\n          console.warn('Token was introduced in request.');\n          tokenIntroduced = true;\n        }\n\n        if (response.status >= 200 && response.status < 300 && token && token !== '' && !tokenIntroduced) {\n          Formio.setToken(token, opts);\n        } // 204 is no content. Don't try to .json() it.\n\n\n        if (response.status === 204) {\n          return {};\n        }\n\n        var getResult = response.headers.get('content-type').includes('application/json') ? response.json() : response.text();\n        return getResult.then(function (result) {\n          // Add some content-range metadata to the result here\n          var range = response.headers.get('content-range');\n\n          if (range && isObject(result)) {\n            range = range.split('/');\n\n            if (range[0] !== '*') {\n              var skipLimit = range[0].split('-');\n              result.skip = Number(skipLimit[0]);\n              result.limit = skipLimit[1] - skipLimit[0] + 1;\n            }\n\n            result.serverCount = range[1] === '*' ? range[1] : Number(range[1]);\n          }\n\n          if (!opts.getHeaders) {\n            return result;\n          }\n\n          var headers = {};\n          response.headers.forEach(function (item, key) {\n            headers[key] = item;\n          }); // Return the result with the headers.\n\n          return {\n            result: result,\n            headers: headers\n          };\n        });\n      }).then(function (result) {\n        if (opts.getHeaders) {\n          return result;\n        }\n\n        var resultCopy = {}; // Shallow copy result so modifications don't end up in cache\n\n        if (Array.isArray(result)) {\n          resultCopy = result.map(_shallowCopy.default);\n          resultCopy.skip = result.skip;\n          resultCopy.limit = result.limit;\n          resultCopy.serverCount = result.serverCount;\n        } else {\n          resultCopy = (0, _shallowCopy.default)(result);\n        }\n\n        return resultCopy;\n      }).catch(function (err) {\n        if (err === 'Bad Token') {\n          Formio.setToken(null, opts);\n          Formio.events.emit('formio.badToken', err);\n        }\n\n        if (err.message) {\n          err.message = \"Could not connect to API server (\".concat(err.message, \")\");\n          err.networkError = true;\n        }\n\n        if (method === 'GET') {\n          delete Formio.cache[cacheKey];\n        }\n\n        return _nativePromiseOnly.default.reject(err);\n      }); // Cache the response.\n\n      if (method === 'GET') {\n        Formio.cache[cacheKey] = result;\n      }\n\n      return result;\n    } // Needed to maintain reverse compatability...\n\n  }, {\n    key: \"setToken\",\n    value: function setToken(token, opts) {\n      token = token || '';\n      opts = typeof opts === 'string' ? {\n        namespace: opts\n      } : opts || {};\n      var tokenName = \"\".concat(opts.namespace || 'formio', \"Token\");\n\n      if (!Formio.tokens) {\n        Formio.tokens = {};\n      }\n\n      if (Formio.tokens[tokenName] === token) {\n        return;\n      }\n\n      Formio.tokens[tokenName] = token;\n\n      if (!token) {\n        Formio.setUser(null, opts); // iOS in private browse mode will throw an error but we can't detect ahead of time that we are in private mode.\n\n        try {\n          return localStorage.removeItem(tokenName);\n        } catch (err) {\n          return _browserCookies.default.erase(tokenName, {\n            path: '/'\n          });\n        }\n      } // iOS in private browse mode will throw an error but we can't detect ahead of time that we are in private mode.\n\n\n      try {\n        localStorage.setItem(tokenName, token);\n      } catch (err) {\n        _browserCookies.default.set(tokenName, token, {\n          path: '/'\n        });\n      }\n\n      return Formio.currentUser(opts.formio, opts); // Run this so user is updated if null\n    }\n  }, {\n    key: \"getToken\",\n    value: function getToken(options) {\n      options = typeof options === 'string' ? {\n        namespace: options\n      } : options || {};\n      var tokenName = \"\".concat(options.namespace || 'formio', \"Token\");\n\n      if (!Formio.tokens) {\n        Formio.tokens = {};\n      }\n\n      if (Formio.tokens[tokenName]) {\n        return Formio.tokens[tokenName];\n      }\n\n      try {\n        Formio.tokens[tokenName] = localStorage.getItem(tokenName) || '';\n        return Formio.tokens[tokenName];\n      } catch (e) {\n        Formio.tokens[tokenName] = _browserCookies.default.get(tokenName);\n        return Formio.tokens[tokenName];\n      }\n    }\n  }, {\n    key: \"setUser\",\n    value: function setUser(user, opts) {\n      opts = opts || {};\n      var userName = \"\".concat(opts.namespace || 'formio', \"User\");\n\n      if (!user) {\n        this.setToken(null, opts); // iOS in private browse mode will throw an error but we can't detect ahead of time that we are in private mode.\n\n        try {\n          return localStorage.removeItem(userName);\n        } catch (err) {\n          return _browserCookies.default.erase(userName, {\n            path: '/'\n          });\n        }\n      } // iOS in private browse mode will throw an error but we can't detect ahead of time that we are in private mode.\n\n\n      try {\n        localStorage.setItem(userName, JSON.stringify(user));\n      } catch (err) {\n        _browserCookies.default.set(userName, JSON.stringify(user), {\n          path: '/'\n        });\n      }\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser(options) {\n      options = options || {};\n      var userName = \"\".concat(options.namespace || 'formio', \"User\");\n\n      try {\n        return JSON.parse(localStorage.getItem(userName) || null);\n      } catch (e) {\n        return JSON.parse(_browserCookies.default.get(userName));\n      }\n    }\n  }, {\n    key: \"setBaseUrl\",\n    value: function setBaseUrl(url) {\n      Formio.baseUrl = url;\n\n      if (!Formio.projectUrlSet) {\n        Formio.projectUrl = url;\n      }\n    }\n  }, {\n    key: \"getBaseUrl\",\n    value: function getBaseUrl() {\n      return Formio.baseUrl;\n    }\n  }, {\n    key: \"setApiUrl\",\n    value: function setApiUrl(url) {\n      return Formio.setBaseUrl(url);\n    }\n  }, {\n    key: \"getApiUrl\",\n    value: function getApiUrl() {\n      return Formio.getBaseUrl();\n    }\n  }, {\n    key: \"setAppUrl\",\n    value: function setAppUrl(url) {\n      console.warn('Formio.setAppUrl() is deprecated. Use Formio.setProjectUrl instead.');\n      Formio.projectUrl = url;\n      Formio.projectUrlSet = true;\n    }\n  }, {\n    key: \"setProjectUrl\",\n    value: function setProjectUrl(url) {\n      Formio.projectUrl = url;\n      Formio.projectUrlSet = true;\n    }\n  }, {\n    key: \"getAppUrl\",\n    value: function getAppUrl() {\n      console.warn('Formio.getAppUrl() is deprecated. Use Formio.getProjectUrl instead.');\n      return Formio.projectUrl;\n    }\n  }, {\n    key: \"getProjectUrl\",\n    value: function getProjectUrl() {\n      return Formio.projectUrl;\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      Formio.cache = {};\n    }\n  }, {\n    key: \"noop\",\n    value: function noop() {}\n  }, {\n    key: \"identity\",\n    value: function identity(value) {\n      return value;\n    }\n  }, {\n    key: \"deregisterPlugin\",\n    value: function deregisterPlugin(plugin) {\n      var beforeLength = Formio.plugins.length;\n      Formio.plugins = Formio.plugins.filter(function (p) {\n        if (p !== plugin && p.__name !== plugin) {\n          return true;\n        }\n\n        (p.deregister || Formio.noop).call(plugin, Formio);\n        return false;\n      });\n      return beforeLength !== Formio.plugins.length;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, name) {\n      Formio.plugins.push(plugin);\n      Formio.plugins.sort(function (a, b) {\n        return (b.priority || 0) - (a.priority || 0);\n      });\n      plugin.__name = name;\n      (plugin.init || Formio.noop).call(plugin, Formio);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Formio.plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var plugin = _step.value;\n\n          if (plugin.__name === name) {\n            return plugin;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"pluginWait\",\n    value: function pluginWait(pluginFn) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      return _nativePromiseOnly.default.all(Formio.plugins.map(function (plugin) {\n        var _ref;\n\n        return (_ref = plugin[pluginFn] || Formio.noop).call.apply(_ref, [plugin].concat(args));\n      }));\n    }\n  }, {\n    key: \"pluginGet\",\n    value: function pluginGet(pluginFn) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        args[_key3 - 1] = arguments[_key3];\n      }\n\n      var callPlugin = function callPlugin(index) {\n        var _ref2;\n\n        var plugin = Formio.plugins[index];\n\n        if (!plugin) {\n          return _nativePromiseOnly.default.resolve(null);\n        }\n\n        return _nativePromiseOnly.default.resolve((_ref2 = plugin[pluginFn] || Formio.noop).call.apply(_ref2, [plugin].concat(args))).then(function (result) {\n          if (!isNil(result)) {\n            return result;\n          }\n\n          return callPlugin(index + 1);\n        });\n      };\n\n      return callPlugin(0);\n    }\n  }, {\n    key: \"pluginAlter\",\n    value: function pluginAlter(pluginFn, value) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n\n      return Formio.plugins.reduce(function (value, plugin) {\n        return (plugin[pluginFn] || Formio.identity).apply(void 0, [value].concat(args));\n      }, value);\n    }\n  }, {\n    key: \"accessInfo\",\n    value: function accessInfo(formio) {\n      var projectUrl = formio ? formio.projectUrl : Formio.projectUrl;\n      return Formio.makeRequest(formio, 'accessInfo', \"\".concat(projectUrl, \"/access\"));\n    }\n  }, {\n    key: \"currentUser\",\n    value: function currentUser(formio, options) {\n      var projectUrl = formio ? formio.projectUrl : Formio.projectUrl || Formio.baseUrl;\n      projectUrl += '/current';\n      var user = this.getUser(options);\n\n      if (user) {\n        return Formio.pluginAlter('wrapStaticRequestPromise', _nativePromiseOnly.default.resolve(user), {\n          url: projectUrl,\n          method: 'GET',\n          options: options\n        });\n      }\n\n      var token = Formio.getToken(options);\n\n      if ((!options || !options.external) && !token) {\n        return Formio.pluginAlter('wrapStaticRequestPromise', _nativePromiseOnly.default.resolve(null), {\n          url: projectUrl,\n          method: 'GET',\n          options: options\n        });\n      }\n\n      return Formio.makeRequest(formio, 'currentUser', projectUrl, 'GET', null, options).then(function (response) {\n        Formio.setUser(response, options);\n        return response;\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout(formio, options) {\n      options = options || {};\n      options.formio = formio;\n      Formio.setToken(null, options);\n      Formio.setUser(null, options);\n      Formio.clearCache();\n      var projectUrl = formio ? formio.projectUrl : Formio.baseUrl;\n      return Formio.makeRequest(formio, 'logout', \"\".concat(projectUrl, \"/logout\"));\n    }\n  }, {\n    key: \"oAuthCurrentUser\",\n    value: function oAuthCurrentUser(formio, token) {\n      return Formio.currentUser(formio, {\n        external: true,\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      });\n    }\n  }, {\n    key: \"oktaInit\",\n    value: function oktaInit(options) {\n      options = options || {};\n\n      if ((typeof OktaAuth === \"undefined\" ? \"undefined\" : _typeof(OktaAuth)) !== undefined) {\n        options.OktaAuth = OktaAuth;\n      }\n\n      if (_typeof(options.OktaAuth) === undefined) {\n        var errorMessage = 'Cannot find OktaAuth. Please include the Okta JavaScript SDK within your application. See https://developer.okta.com/code/javascript/okta_auth_sdk for an example.';\n        console.warn(errorMessage);\n        return _nativePromiseOnly.default.reject(errorMessage);\n      }\n\n      return new _nativePromiseOnly.default(function (resolve, reject) {\n        var Okta = options.OktaAuth;\n        delete options.OktaAuth;\n        var authClient = new Okta(options);\n        var accessToken = authClient.tokenManager.get('accessToken');\n\n        if (accessToken) {\n          resolve(Formio.oAuthCurrentUser(options.formio, accessToken.accessToken));\n        } else if (location.hash) {\n          authClient.token.parseFromUrl().then(function (token) {\n            authClient.tokenManager.add('accessToken', token);\n            resolve(Formio.oAuthCurrentUser(options.formio, token.accessToken));\n          }).catch(function (err) {\n            console.warn(err);\n            reject(err);\n          });\n        } else {\n          authClient.token.getWithRedirect({\n            responseType: 'token',\n            scopes: options.scopes\n          });\n          resolve(false);\n        }\n      });\n    }\n  }, {\n    key: \"ssoInit\",\n    value: function ssoInit(type, options) {\n      switch (type) {\n        case 'okta':\n          return Formio.oktaInit(options);\n\n        default:\n          console.warn('Unknown SSO type');\n          return _nativePromiseOnly.default.reject('Unknown SSO type');\n      }\n    }\n  }, {\n    key: \"requireLibrary\",\n    value: function requireLibrary(name, property, src, polling) {\n      if (!Formio.libraries.hasOwnProperty(name)) {\n        Formio.libraries[name] = {};\n        Formio.libraries[name].ready = new _nativePromiseOnly.default(function (resolve, reject) {\n          Formio.libraries[name].resolve = resolve;\n          Formio.libraries[name].reject = reject;\n        });\n        var callbackName = \"\".concat(name, \"Callback\");\n\n        if (!polling && !window[callbackName]) {\n          window[callbackName] = function () {\n            return Formio.libraries[name].resolve();\n          };\n        } // See if the plugin already exists.\n\n\n        var plugin = (0, _get2.default)(window, property);\n\n        if (plugin) {\n          Formio.libraries[name].resolve(plugin);\n        } else {\n          src = Array.isArray(src) ? src : [src];\n          src.forEach(function (lib) {\n            var attrs = {};\n            var elementType = '';\n\n            if (typeof lib === 'string') {\n              lib = {\n                type: 'script',\n                src: lib\n              };\n            }\n\n            switch (lib.type) {\n              case 'script':\n                elementType = 'script';\n                attrs = {\n                  src: lib.src,\n                  type: 'text/javascript',\n                  defer: true,\n                  async: true\n                };\n                break;\n\n              case 'styles':\n                elementType = 'link';\n                attrs = {\n                  href: lib.src,\n                  rel: 'stylesheet'\n                };\n                break;\n            } // Add the script to the top page.\n\n\n            var script = document.createElement(elementType);\n\n            for (var attr in attrs) {\n              script.setAttribute(attr, attrs[attr]);\n            }\n\n            document.getElementsByTagName('head')[0].appendChild(script);\n          }); // if no callback is provided, then check periodically for the script.\n\n          if (polling) {\n            var interval = setInterval(function () {\n              var plugin = (0, _get2.default)(window, property);\n\n              if (plugin) {\n                clearInterval(interval);\n                Formio.libraries[name].resolve(plugin);\n              }\n            }, 200);\n          }\n        }\n      }\n\n      return Formio.libraries[name].ready;\n    }\n  }, {\n    key: \"libraryReady\",\n    value: function libraryReady(name) {\n      if (Formio.libraries.hasOwnProperty(name) && Formio.libraries[name].ready) {\n        return Formio.libraries[name].ready;\n      }\n\n      return _nativePromiseOnly.default.reject(\"\".concat(name, \" library was not required.\"));\n    }\n  }, {\n    key: \"token\",\n    get: function get() {\n      if (!Formio.tokens) {\n        Formio.tokens = {};\n      }\n\n      return Formio.tokens.formioToken ? Formio.tokens.formioToken : '';\n    } // Needed to maintain reverse compatability...\n    ,\n    set: function set(token) {\n      if (!Formio.tokens) {\n        Formio.tokens = {};\n      }\n\n      return Formio.tokens.formioToken = token || '';\n    }\n  }]);\n\n  return Formio;\n}(); // Define all the static properties.\n\n\nexports.default = Formio;\nFormio.libraries = {};\nFormio.Promise = _nativePromiseOnly.default;\nFormio.Headers = Headers;\nFormio.baseUrl = 'https://api.form.io';\nFormio.projectUrl = Formio.baseUrl;\nFormio.projectUrlSet = false;\nFormio.plugins = [];\nFormio.cache = {};\nFormio.providers = providers;\nFormio.events = new _eventemitter.EventEmitter2({\n  wildcard: false,\n  maxListeners: 0\n});\n\nif ((typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === 'object' && !global.Formio) {\n  global.Formio = Formio;\n}","import moment from 'moment';\nimport Connection from 'Wrappers/Connection';\nimport Model from '../Fluent/Model';\nimport Fluent from '../Fluent/Fluent';\n\nexport default Fluent.extend(Model, {\n  properties: {\n    name: 'Form',\n    path: 'custom'\n  },\n  methods: {\n    filterToString (filter) {\n      if (!filter) {\n        return;\n      }\n      // Condition {element: '_id', query: 'in', value: ''}\n      let filterQuery = {};\n\n      filter.forEach((condition) => {\n        let valueString = '';\n\n        switch (condition.query) {\n          case '=':\n            filterQuery[condition.element] = condition.value;\n            break;\n          case '!=':\n            filterQuery[condition.element + '__ne'] = condition.value;\n            break;\n          case '>':\n            filterQuery[condition.element + '__gt'] = condition.value;\n            break;\n          case '>=':\n            filterQuery[condition.element + '__gte'] = condition.value;\n            break;\n          case '<':\n            filterQuery[condition.element + '__lt'] = condition.value;\n            break;\n          case '<=':\n            filterQuery[condition.element + '__lte'] = condition.value;\n            break;\n          case 'in':\n            valueString = '';\n            condition.value.forEach((value, index, array) => {\n              valueString = index === array.length - 1 ? valueString + value : valueString + value + ',';\n            });\n            filterQuery[condition.element + '__in'] = valueString;\n            break;\n          case 'nin':\n            valueString = '';\n            condition.value.forEach((value, index, array) => {\n              valueString = index === array.length - 1 ? valueString + value : valueString + value + ',';\n            });\n            filterQuery[condition.element + '__nin'] = valueString;\n            break;\n          case 'exists':\n            filterQuery[condition.element + '__exists'] = true;\n            break;\n          case '!exists':\n            filterQuery[condition.element + '__exists'] = false;\n            break;\n          case 'regex':\n            filterQuery[condition.element + '__regex'] = condition.value;\n            break;\n        }\n      });\n      return filterQuery;\n    },\n    async rFind ({ filter = undefined, limit = 200, select, pagination, form } = {}) {\n      let formio = await Fluent.getRemoteConnector({ path: 'custom' }).getFormioInstance({ path: 'custom' });\n      let queryParams = {};\n\n      if (limit) {\n        queryParams.limit = limit;\n      }\n\n      if (filter) {\n        let filterQuery = this.filterToString(filter);\n\n        queryParams = { ...queryParams, ...filterQuery };\n      }\n      let isOnline = await Connection.isOnline();\n      let remoteForms = isOnline ?\n        await formio.loadForms({\n          params: queryParams\n        }) :\n        [];\n\n      return remoteForms;\n    },\n    async get (id) {\n      id = id.replace(/\\s/g, '');\n\n      let formRequest = await this.findOne({\n        'data.name': id\n      });\n      let formRequestID = await this.findOne({\n        'data._id': id\n      });\n      let formRequestPath = await this.findOne({\n        'data.path': id\n      });\n\n      if (formRequest) {\n        return formRequest.data;\n      }\n      if (formRequestID) {\n        return formRequestID.data;\n      }\n      if (formRequestPath) {\n        return formRequestPath.data;\n      }\n    },\n    async cardFormattedForms (action) {\n      let result = await this.local().find();\n\n      result = result.filter((o) => {\n        return o.data.tags.indexOf('visible') > -1;\n      });\n      result = result.sort((a, b) => {\n        a = a.data.title;\n        b = b.data.title;\n        return a > b ? 1 : a < b ? -1 : 0;\n      });\n\n      result = result.map((f) => {\n        return {\n          title: f.data.title,\n          tags: f.data.tags,\n          customIcon: true,\n          icon: action === 'create' ? 'statics/customSVG/startSurvey.svg' : 'statics/customSVG/collectedData.svg',\n          subtitle: 'Last updated: ' + moment(f.data.modified).fromNow(),\n          actions: [\n            {\n              text: action === 'create' ? 'Start' : 'View data',\n              target: 'form',\n              view: action,\n              path: f.data.path\n            }\n          ]\n        };\n      });\n\n      result = { cards: result };\n      return result;\n    }\n  }\n})();\n","import Model from '../Fluent/Model';\nimport Fluent from '../Fluent/Fluent';\n\nexport default Fluent.extend(Model, {\n  properties: {\n    name: 'User',\n    path: 'user'\n  }\n})();\n","import Auth from 'repositories/Auth/Auth';\nimport moment from 'moment';\nimport Utilities from 'utilities';\nimport Form from 'database/models/Form';\nimport FormioUtils from 'formiojs/utils';\nimport Model from '../Fluent/Model';\nimport Fluent from '../Fluent/Fluent';\n\nexport default Fluent.extend(Model, {\n  properties: {\n    name: 'Submission',\n    path: undefined\n  },\n  methods: {\n    async get (id) {\n      id = id.replace(/\\s/g, '');\n      let offline = await this.local().find({\n        filter: {\n          _id: id\n        }\n      });\n\n      if (offline.length > 0) {\n        return offline[0];\n      }\n      return {\n        data: false\n      };\n    },\n\n    async offline (formId) {\n      let filter = await this.find({\n        'data.user_email': Auth.email(),\n        'data.formio.formId': formId\n      });\n      // updated incomplete submission\n\n      filter = filter.filter((o) => {\n        return o.data.sync === false || o.data.draft === false;\n      });\n      filter = filter.sort((a, b) => {\n        a = new Date(a.data.created);\n        b = new Date(b.data.created);\n        return a > b ? -1 : a < b ? 1 : 0;\n      });\n      return filter;\n    },\n\n    async stored (formId) {\n      return this.find({\n        'data.formio.formId': formId,\n        'data.owner': Auth.user()._id\n      });\n    },\n\n    async getUnsync () {\n      let unsynced = await this.find({\n        'data.sync': false\n      });\n\n      // updated incomplete submission\n      unsynced = unsynced.filter((o) => {\n        return (\n          o.data.sync === false &&\n          o.data.draft === false &&\n          o.data.user_email === Auth.email() &&\n          !o.data.queuedForSync &&\n          !o.data.syncError\n        );\n      });\n      unsynced = unsynced.sort((a, b) => {\n        a = new Date(a.data.created);\n        b = new Date(b.data.created);\n        return a > b ? -1 : a < b ? 1 : 0;\n      });\n      return unsynced;\n    },\n\n    async showView ({ form, filter, limit, select, pagination, populate, dataExport, vm }) {\n      let page = (pagination && pagination.page) || 1;\n      let pageLimit = (pagination && pagination.limit) || 500;\n      let paginationInfo = {};\n      let submissions = [];\n\n      submissions = await this.find({\n        form,\n        limit,\n        select,\n        pagination,\n        filter,\n        populate\n      });\n\n      // Need to clone the object as it is Dynamic LokiJs\n      submissions = Utilities.cloneDeep(submissions);\n\n      submissions = submissions.map((o) => {\n        if (o._id && o._id.indexOf('_local') >= 0) {\n          o.data._lid = o._id;\n        }\n        if (o.data && !o.data._id) {\n          o.data._id = o._id;\n        }\n        if (o.data && !o.data.owner) {\n          o.data.owner = o.owner;\n        }\n        if (o.data && !o.data.modified) {\n          o.data.modified = o.modified;\n        }\n\n        if (dataExport) {\n          if (o.data && o.data.owner && o.data.owner.data && o.data.owner.data.email) {\n            o.data.ownerEmail = o.data.owner.data.email;\n          }\n          if (o.data && o.data.user_email) {\n            o.data.ownerEmail = o.data.user_email;\n          }\n\n          if (!o.$loki) {\n            return o.data;\n          }\n          o.data.data._id = o._id;\n          return o.data.data;\n        }\n\n        let result = o.data;\n\n        if (result && result.data) {\n          let d = result.data;\n\n          delete result.data;\n          result = Object.assign(result, d);\n        }\n        return result;\n      });\n\n      if (dataExport) {\n        return submissions;\n      }\n\n      if (pageLimit > 0) {\n        let totalRecords = submissions.length;\n        let pages = Math.ceil(totalRecords / pageLimit);\n        // let firstRecord = (pageLimit * page) - (pageLimit - 1)\n        // let lastRecord = (pageLimit * page)\n\n        paginationInfo = {\n          total: totalRecords,\n          pages: pages,\n          currentPage: page,\n          pageLimit: pageLimit\n        };\n        // submissions = submissions.slice(firstRecord - 1, lastRecord);\n      }\n      let fullForm = await Form.get(form);\n\n      let templates = [];\n\n      FormioUtils.eachComponent(fullForm.components, (c) => {\n        if (c.properties && c.properties.FAST_TABLE_TEMPLATE) {\n          templates.push({ key: c.key, template: c.properties.FAST_TABLE_TEMPLATE });\n        }\n      });\n\n      submissions = submissions.map((s) => {\n        let sub = {\n          _id: s._id,\n          status: s.sync === false ? 'offline' : 'online',\n          draft: s.draft,\n          HumanUpdated: s.updated ? moment.unix(s.updated).fromNow() : moment(s.modified).fromNow(),\n          syncError: s.syncError ? s.syncError : false,\n          updated: s.updated ? moment.unix(s.updated).unix() : moment(s.modified).unix()\n        };\n\n        if (s._lid) {\n          sub._lid = s._lid;\n        }\n\n        // Custom templates using FAST_TABLE_TEMPLATE propertie\n        templates.forEach((t) => {\n          /* eslint-disable */\n          let newFx = Function('value', 'data', t.template);\n          /* eslint-enable */\n          try {\n            s[t.key] = newFx(s[t.key], s);\n          } catch (error) {\n            console.log('There is an error on one of your calculations', error);\n          }\n        });\n\n        // We need to remove this from here and create\n        // A proper extension to allow tables to have custom visuali\n        // of complex data\n        if (s.dataCollected) {\n          if (s.dataCollected.scouting && s.dataCollected.traps) {\n            s.dataCollected = vm.$t('Scouting and traps');\n          } else if (s.dataCollected.scouting) {\n            s.dataCollected = vm.$t('Scouting');\n          } else if (s.dataCollected.traps) {\n            s.dataCollected = vm.$t('Traps');\n          } else {\n            s.dataCollected = '-';\n          }\n        }\n        if (s.date) {\n          s.date = moment(s.date).format('DD-MM-YYYY HH:mm:ss');\n        }\n\n        if (!select) {\n          return sub;\n        }\n        select.forEach((c) => {\n          c = c.replace('data.', '');\n          sub[c] = s[c];\n        });\n        return sub;\n      });\n\n      submissions = submissions.sort((a, b) => {\n        a = new Date(a.updated);\n        b = new Date(b.updated);\n        return a > b ? -1 : a < b ? 1 : 0;\n      });\n\n      let paginated = { results: submissions, pagination: paginationInfo };\n\n      return paginated;\n    },\n\n    async getParallelParticipants (idForm, idSubmission) {\n      let currentSubmission = await this.local().find({\n        filter: {\n          _id: idSubmission\n        }\n      });\n\n      currentSubmission = currentSubmission[0];\n      let groupId = Utilities.get(() => currentSubmission.data.data.parallelSurvey);\n\n      groupId = groupId && groupId !== '[object Object]' ? JSON.parse(groupId).groupId : undefined;\n\n      let submissions = await this.local().find({\n        filter: {\n          'data.formio.formId': idForm\n        }\n      });\n\n      let a = submissions.filter((submission) => {\n        let parallelSurveyID = Utilities.get(() => submission.data.data.parallelSurvey);\n\n        parallelSurveyID =\n          parallelSurveyID && parallelSurveyID !== '[object Object]' ? JSON.parse(parallelSurveyID).groupId : undefined;\n        return parallelSurveyID && parallelSurveyID === groupId;\n      });\n\n      a = a.map((e) => {\n        e.data.data.parallelSurvey;\n      });\n      a = a.map((survey) => {\n        return JSON.parse(survey);\n      });\n      return a;\n    },\n\n    getParallelSurvey (submission) {\n      let parallelsurveyInfo =\n        Utilities.get(() => submission.data.data.paraparallelSurvey) ||\n        Utilities.get(() => submission.data.parallelSurvey);\n\n      parallelsurveyInfo =\n        parallelsurveyInfo && parallelsurveyInfo !== '[object Object]' ? JSON.parse(parallelsurveyInfo) : undefined;\n\n      return parallelsurveyInfo;\n    },\n\n    setParallelSurvey (parallelsurveyInfo) {\n      return JSON.stringify(parallelsurveyInfo);\n    },\n\n    async getGroups (formId) {\n      let submissions = await this.local().find();\n\n      submissions = formId ?\n        submissions.filter((submission) => {\n          return submission.data.formio.formId === formId;\n        }) :\n        submissions;\n\n      let groups = submissions.map((submission) => {\n        return this.local().getParallelSurvey(submission) ?\n          {\n            groupId: this.local().getParallelSurvey(submission).groupId,\n            groupName: this.local().getParallelSurvey(submission).groupName\n          } :\n          undefined;\n      });\n\n      groups = groups.filter((group) => {\n        return typeof group !== 'undefined';\n      });\n\n      return Utilities.uniqBy(groups, 'groupId');\n    },\n\n    async getGroup (id) {\n      let groups = await this.local().getGroups();\n\n      groups = groups.filter((group) => {\n        return group.groupId === id;\n      });\n      return groups[0];\n    },\n\n    async removeFromGroup (submission) {},\n\n    async assingToGroup (submissionId, groupId) {\n      let group = await this.local().getGroup(groupId[0]);\n      let submission = await this.local().get(submissionId);\n\n      let parallelData = this.local().getParallelSurvey(submission);\n\n      let parallelSurvey = {\n        ...parallelData,\n        groupId: group.groupId,\n        groupName: group.groupName\n      };\n\n      submission.data.data.parallelSurvey = this.local().setParallelSurvey(parallelSurvey);\n      await this.local().update(submission);\n    }\n  }\n})();\n","module.exports = function isObject(arg) {\n  var type = typeof arg;\n  return Boolean(arg) && (type === 'object' || type === 'function');\n};\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/* eslint-disable no-unused-vars */\nlet config = (() => {\n  var jwt, url, submission, baseURL, translations;\n\n  function set ({ jwtToken = undefined, baseURL = undefined, submissionId = undefined, i18n = undefined }) {\n    jwt = jwtToken ? jwtToken : jwt;\n    url = baseURL ? baseURL : url;\n    submission = submissionId ? submissionId : submission ;\n    translations = i18n ? i18n : translations ;\n  }\n\n  function setBaseUrl (baseUrl) {\n    baseURL = baseUrl;\n  }\n\n  function get () {\n    return { jwt, url, submission, baseURL, translations };\n  }\n  return Object.freeze({\n    set,\n    get,\n    setBaseUrl\n  });\n})();\n\nexport default config;\n","import Utilities from 'utilities';\nimport Model from '../Fluent/Model';\nimport Fluent from '../Fluent/Fluent';\n\nexport default Fluent.extend(Model, {\n  properties: {\n    name: 'Translation',\n    path: 'translations'\n  },\n  methods: {\n    async getFormTranslations () {\n      let i18n = {};\n\n      let localTranslations = await this.local().findOne();\n\n      localTranslations = Utilities.get(() => localTranslations.data, {});\n\n      Object.keys(localTranslations).forEach((languageCode) => {\n        if (languageCode !== 'type') {\n          i18n[languageCode] = localTranslations[languageCode];\n        }\n      });\n      return i18n;\n    },\n    /**\n     *\n     */\n    async supportedLanguages () {\n      let translations = await this.local().find();\n\n      if (translations.length === 0) {\n        return [];\n      }\n\n      let isoLanguages = this.getIsoLanguages();\n      let languages = [];\n\n      translations = Utilities.get(() => translations[0].data, []);\n\n      Object.keys(translations).forEach((languageCode) => {\n        let iso = isoLanguages.find((l) => {\n          return l.code === languageCode;\n        });\n\n        if (iso) {\n          languages.push(iso);\n        }\n      });\n\n      languages = languages.sort((a, b) => {\n        a = a.label;\n        b = b.label;\n        return a > b ? 1 : a < b ? -1 : 0;\n      });\n      return languages;\n    },\n    /**\n     *\n     */\n    getIsoLanguages () {\n      return require('database/resources/isoLanguages.json');\n    }\n  }\n})();\n","import Configuration from '../../database/models/Configuration';\nimport md5 from 'md5';\nimport User from 'database/models/User';\nimport UserRepository from 'repositories/User/User';\nimport Connection from 'Wrappers/Connection';\nimport Role from 'database/models/Role';\nimport RoleRepo from 'repositories/Auth/Role';\nimport Promise from 'bluebird';\nimport Utilities from 'utilities';\n\nlet Auth = (() => {\n  /**\n   *\n   *\n   * @param {any} credentials\n   * @returns\n   */\n  const localAuthenticate = async function (credentials) {\n    const { username, password } = credentials;\n    let config = await Configuration.getLocal();\n\n    // Hash password\n    const hashedPassword = md5(password, config.MD5_KEY);\n\n    // Get the user\n    let dbUser = await User.local().find({\n      'data.data.email': username\n    });\n    let userFound = dbUser && dbUser[0] ? dbUser[0] : undefined;\n\n    console.log('user', userFound);\n    if (!userFound) {\n      throw new Error();\n    }\n\n    // Compare hashed passwords\n    const isValidUser = userFound.data.data.hashedPassword === hashedPassword;\n\n    if (!isValidUser) {\n      throw new Error();\n    }\n    // If is valid, return the user\n    return userFound;\n  };\n  /**\n   *\n   *\n   * @param {any} credentials\n   * @param {any} baseUrl\n   * @param {any} role\n   * @returns\n   */\n  const remoteAuthenticate = function (credentials, baseUrl, role) {\n    return UserRepository.login({ credentials: credentials, role: role }).then((response) => {\n      // Store locally the user for future offline login\n      let user = response.data;\n\n      UserRepository.updateUser(user);\n      return response;\n    });\n  };\n\n  /**\n   *\n   * Authenticates the User with the given credentials\n   * @param {any} credentials\n   * @param {any} baseUrl\n   * @param {any} role\n   * @returns\n   */\n  const authenticate = async function (credentials, baseUrl, role) {\n    let isOnline = await Connection.isOnline();\n\n    if (isOnline) {\n      return remoteAuthenticate(credentials, baseUrl, role);\n    }\n    return localAuthenticate(credentials, baseUrl);\n  };\n  /**\n   *\n   *\n   * @param {any} credentials\n   * @param {any} baseUrl\n   * @param {any} role\n   * @returns\n   */\n\n  const attempt = function (credentials, baseUrl, role) {\n    role = role || 'user';\n\n    return new Promise((resolve, reject) => {\n      authenticate(credentials, baseUrl, role)\n        // If credentials are OK\n        .then(async (response) => {\n          let headers = response.headers || {};\n          let user = response.data;\n          /* eslint-disable*/\n\n          user.x_jwt_token = headers['x-jwt-token'];\n          /* eslint-enable*/\n\n          // Save auth user\n          localStorage.setItem('authUser', JSON.stringify(user));\n          localStorage.setItem('formioToken', headers['x-jwt-token']);\n          // user.isAdmin = true\n          let roles = await Role.local().find();\n\n          roles = roles[0];\n          user.rolesNames = [];\n          Object.keys(roles).forEach((key) => {\n            if (key !== '$loki' && key !== '_id' && key !== 'meta') {\n              if (user.roles && user.roles.indexOf(roles[key]._id) !== -1) {\n                user.rolesNames.push(roles[key]);\n              }\n            }\n          });\n\n          localStorage.setItem('authUser', JSON.stringify(user));\n\n          resolve(user);\n        })\n        // If there are errors\n        .catch((error) => {\n          console.log('There was an error over here!');\n          reject(error);\n        });\n    });\n  };\n  /**\n   *\n   *\n   * @returns\n   */\n\n  const user = function () {\n    try {\n      let user = JSON.parse(localStorage.getItem('authUser'));\n\n      return user === null ? false : user;\n    } catch (e) {\n      localStorage.removeItem('authUser');\n      return false;\n    }\n  };\n  /**\n   *\n   *\n   * @returns\n   */\n\n  const email = function () {\n    let email = '';\n\n    if (Auth.user() && Auth.user().data && Auth.user().data.email) {\n      email = Auth.user().data.email;\n    } else if (Auth.user() && Auth.user().email) {\n      email = Auth.user().email;\n    }\n    return email;\n  };\n  /**\n   *\n   *\n   * @param {any} roleName\n   * @returns\n   */\n\n  const hasRole = function (roleName) {\n    let user = JSON.parse(localStorage.getItem('authUser'));\n\n    user = user === null ? false : user;\n\n    let result = user.rolesNames.find((r) => {\n      return r.title === roleName;\n    });\n\n    return typeof result !== 'undefined';\n  };\n  /**\n   *\n   *\n   * @param {any} roles\n   * @returns\n   */\n\n  const hasRoleIn = function (roles) {\n    if (!roles || Utilities.isEmpty(roles)) {\n      return true;\n    }\n    return roles.some((role) => {\n      return hasRole(role) || role === 'Authenticated';\n    });\n  };\n  /**\n   *\n   *\n   * @param {any} rolesIds\n   * @returns\n   */\n\n  const hasRoleIdIn = async function (rolesIds) {\n    if (!rolesIds || Utilities.isEmpty(rolesIds)) {\n      return true;\n    }\n    let appRoles = await RoleRepo.getLocal();\n\n    let roles = rolesIds.reduce((reducer, roleId) => {\n      Object.keys(appRoles).forEach(function (role) {\n        if (appRoles[role] && appRoles[role]._id && appRoles[role]._id === roleId) {\n          reducer.push(appRoles[role].title);\n        }\n      });\n      return reducer;\n    }, []);\n\n    return roles.some((role) => {\n      return hasRole(role) || role === 'Authenticated';\n    });\n  };\n  /**\n   * Checks if the current user is\n   * Authenticated\n   * @return {boolean}\n   */\n\n  const check = function () {\n    let user = JSON.parse(localStorage.getItem('authUser'));\n\n    return !!user && !!user.x_jwt_token;\n  };\n  /**\n   * Logs out autheticated user\n   *\n   */\n\n  const logOut = async function () {\n    await localStorage.removeItem('authUser');\n    await localStorage.removeItem('formioToken');\n    await localStorage.removeItem('formioUser');\n  };\n\n  return Object.freeze({\n    user,\n    email,\n    hasRoleIn,\n    hasRoleIdIn,\n    hasRole,\n    check,\n    logOut,\n    attempt\n  });\n})();\n\nexport default Auth;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isFunction(arg) {\n  return typeof arg === 'function';\n};\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\nexport { to };\nexport default to;\n//# sourceMappingURL=await-to-js.es5.js.map\n","import Connection from 'Wrappers/Connection';\nimport Pages from 'database/models/Pages';\nimport Utilities from 'utilities';\nimport to from 'await-to-js';\nimport Configuration from '../../database/models/Configuration';\nimport moment from 'moment';\n\nlet PAGES = (() => {\n  function getLocalPagesDate (localPages) {\n    return Utilities.get(() => localPages[0].fastUpdated, 0);\n  }\n  async function setOfflinePages ({ appConf }) {\n    let localPages = await Pages.local().find();\n\n    let localDate = getLocalPagesDate(localPages);\n    let config = await Configuration.getLocal();\n\n    let offlinePages = Utilities.get(() => appConf.offlineFiles.Pages[0].data);\n\n    if (config.fastUpdated >= localDate) {\n      if (localPages) {\n        await Pages.local().clear();\n      }\n      let newPages = await Pages.local().insert({ ...offlinePages, fastUpdated: moment().unix() });\n\n      return newPages;\n    }\n\n    return Utilities.get(() => localPages[0].data);\n  }\n\n  async function setOnlinePages () {\n    let localPages, remotePages, error;\n\n    localPages = await Pages.local().find();\n    localPages = Utilities.get(() => localPages[0]);\n    let isOnline = await Connection.isOnline();\n\n    if (isOnline) {\n      [error, remotePages] = await to(Pages.remote().find({ limit: 500 }));\n      if (error) {\n        throw new Error(error);\n      }\n    }\n    remotePages = Utilities.get(() => remotePages[0].data);\n    let newPages = localPages;\n\n    if (remotePages && !Utilities.isEmpty(remotePages)) {\n      if (localPages) {\n        await Pages.local().clear();\n      }\n      remotePages.fastUpdated = moment().unix();\n\n      newPages = await Pages.local().insert(remotePages);\n    }\n\n    return newPages;\n  }\n\n  async function set ({ appConf, forceOnline }) {\n    if (String(appConf.offlineStart) === 'true' && !forceOnline) {\n      return setOfflinePages({ appConf });\n    }\n    return setOnlinePages();\n  }\n\n  async function getLocal (submission) {\n    let pages = await Pages.local().find();\n\n    return Utilities.get(() => pages[0], {});\n  }\n\n  return Object.freeze({\n    set,\n    getLocal\n  });\n})();\n\nexport default PAGES;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__30__;","import Connection from 'Wrappers/Connection';\nimport Roles from 'database/models/Role';\nimport Utilities from 'utilities';\nimport to from 'await-to-js';\nimport axios from 'axios';\nimport moment from 'moment';\n\nlet Role = (() => {\n  function getRolesDate (localRoles) {\n    return Utilities.get(() => localRoles.fastUpdated, 0);\n  }\n\n  async function getLocal () {\n    let roles = await Roles.local().find();\n\n    return Utilities.get(() => roles[0]);\n  }\n\n  async function setOnlineRoles ({ url }) {\n    let error;\n    let remoteRoles;\n\n    let localRoles = await Roles.local().find();\n\n    localRoles = Utilities.get(() => localRoles[0]);\n    let isOnline = await Connection.isOnline();\n\n    if (isOnline) {\n      [error, remoteRoles] = await to(axios.get(url + '/access'));\n\n      if (error) {\n        throw new Error(error);\n      }\n    }\n\n    remoteRoles = Utilities.get(() => remoteRoles.data.roles);\n\n    if (remoteRoles) {\n      if (localRoles) {\n        await Roles.local().clear();\n      }\n      remoteRoles.fastUpdated = moment().unix();\n\n      let insertedRoles = await Roles.local().insert(remoteRoles);\n\n      return insertedRoles;\n    }\n    return localRoles;\n  }\n\n  async function setOfflineRoles ({ appConf }) {\n    let localRoles = await getLocal();\n\n    let rolesDate = getRolesDate(localRoles);\n    let offlineRolesDate = appConf.offlineFiles.lastUpdated.date;\n\n    if (offlineRolesDate > rolesDate || !localRoles) {\n      if (localRoles) {\n        await Roles.local().clear();\n      }\n      let insertedRoles = await Roles.local().insert(appConf.offlineFiles.Roles);\n\n      return insertedRoles;\n    }\n\n    return localRoles;\n  }\n\n  async function set ({ url, appConf, forceOnline }) {\n    if (appConf.offlineStart === 'true' && !forceOnline) {\n      return setOfflineRoles({ appConf });\n    }\n    return setOnlineRoles({ url });\n  }\n\n  return Object.freeze({\n    set,\n    getLocal\n  });\n})();\n\nexport default Role;\n","import moment from 'moment';\nimport Auth from 'repositories/Auth/Auth';\nimport SyncHelper from 'database/helpers/SyncHelper';\nimport SubmissionModel from 'database/models/Submission';\n\nlet Submission = (() => {\n  function formatSubmission (submission, formio) {\n    submission = SyncHelper.deleteNulls(submission);\n\n    submission = {\n      ...submission,\n      sync: false,\n      /*eslint-disable*/\n      user_email: Auth.email(),\n      /* eslint-enable*/\n      formio: formio\n    };\n    return submission;\n  }\n\n  function alreadyStored (submission) {\n    return submission._lid || submission._id;\n  }\n\n  async function create (submission) {\n    submission.created = moment().unix();\n    let newSubmission = await SubmissionModel.local().insert({\n      data: submission\n    });\n\n    return newSubmission;\n  }\n\n  function shouldUpdate (localSubmission, submission) {\n    // Cases where we want to update\n    let sendingSubmission = submission.draft === false;\n    let fromDraftToSubmission = localSubmission.data.draft === false && submission.draft === false;\n    let autoSave = submission.trigger === 'autoSaveAsDraft' || submission.trigger === 'saveAsLocalDraft';\n    let isSynced = !!(localSubmission.data.access && Array.isArray(localSubmission.data.access));\n    let hasError = localSubmission.data.syncError !== false && typeof localSubmission.data.syncError !== 'undefined';\n\n    return ((sendingSubmission || fromDraftToSubmission) && !autoSave) || (!isSynced && autoSave && !hasError);\n  }\n\n  async function update (submission) {\n    submission = {\n      ...submission,\n      type: 'update',\n      updated: moment().unix()\n    };\n\n    let localSubmission = await SubmissionModel.local().get(submission._lid || submission._id);\n\n    if (shouldUpdate(localSubmission, submission)) {\n      localSubmission.data = submission;\n      localSubmission.isSubmit = submission._lid ? false : localSubmission.isSubmit;\n      const saved = await SubmissionModel.local().update(localSubmission);\n\n      return saved;\n    }\n    return localSubmission;\n  }\n  /**\n   *\n   * @param {*} submitedForm\n   * @param {*} formio\n   */\n  async function add ({ submission, formio }) {\n    submission = formatSubmission(submission, formio);\n    // If we are updating the submission\n    if (alreadyStored(submission)) {\n      return update(submission);\n    }\n    // If we are creating a new draft from scratch or a resource\n    let newSubmission = await create(submission);\n\n    switch (submission.trigger) {\n      case 'importSubmission':\n      case 'createLocalDraft':\n      case 'resourceCreation':\n        return newSubmission;\n        break;\n      case 'createParalelSurvey':\n        newSubmission.trigger = 'createParalelSurvey';\n        newSubmission.data.data.parallelSurvey = SubmissionModel.local().setParallelSurvey({\n          ...SubmissionModel.local().getParallelSurvey(newSubmission),\n          submissionId: newSubmission._id\n        });\n        await SubmissionModel.local().update(newSubmission);\n        return newSubmission;\n        break;\n    }\n  }\n\n  return Object.freeze({\n    add\n  });\n})();\n\nexport default Submission;\n","import Formio from 'formiojs/Formio';\nimport Translation from 'database/models/Translation';\nimport GetRequest from './repositories/getRequest';\nimport PostRequest from './repositories/postRequest';\n\nconst OFFLINE_PLUGIN = class {\n  static getPlugin ({ formio, hashField }) {\n    let plugin = {\n      priority: 0,\n      request: async (args) => {\n        Formio.clearCache();\n\n        if (args.method === 'GET') {\n          return GetRequest.handle(args);\n        }\n\n        // If we are trying to save a submission\n        if (args.method === 'POST' || args.method === 'PUT') {\n          let submission = await PostRequest.handle({ args, hashField, formio });\n\n          return submission;\n        }\n      }\n    };\n\n    return plugin;\n  }\n\n  /**\n   * Transforms the Local Lockijs submissions that\n   * are dinamic, to an static array so we\n   * can use it as Json input for the\n   * selects\n   * @param {[type]} lockiJSData [description]\n   */\n  static LocalToJson (lockiJSData) {\n    let transformedArray = [];\n\n    lockiJSData.forEach(function (element) {\n      transformedArray.push(element.data);\n    });\n    return transformedArray;\n  }\n  // Do not removed this function is used inside the formio.vue component\n  static async getLocalTranslations () {\n    let translations = await Translation.local().getFormTranslations();\n\n    return translations;\n  }\n};\n\nexport default OFFLINE_PLUGIN;\n","var compose = require('@stamp/compose');\nvar Shortcut = require('@stamp/shortcut');\nvar isStamp = require('@stamp/is/stamp');\nvar isString = require('@stamp/is/string');\nvar isObject = require('@stamp/is/object');\nvar isFunction = require('@stamp/is/function');\nvar merge = require('@stamp/core/merge');\nvar assign = require('@stamp/core/assign');\n\nvar concat = Array.prototype.concat;\nfunction extractFunctions() {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n}\n\nfunction standardiseDescriptor(descr) {\n  if (!isObject(descr)) return descr;\n\n  var methods = descr.methods;\n  var properties = descr.properties;\n  var props = descr.props;\n  var initializers = descr.initializers;\n  var init = descr.init;\n  var composers = descr.composers;\n  var deepProperties = descr.deepProperties;\n  var deepProps = descr.deepProps;\n  var pd = descr.propertyDescriptors;\n  var staticProperties = descr.staticProperties;\n  var statics = descr.statics;\n  var staticDeepProperties = descr.staticDeepProperties;\n  var deepStatics = descr.deepStatics;\n  var configuration = descr.configuration;\n  var conf = descr.conf;\n  var deepConfiguration = descr.deepConfiguration;\n  var deepConf = descr.deepConf;\n\n  var p = isObject(props) || isObject(properties) ?\n    assign({}, props, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign({}, statics, staticProperties) : undefined;\n\n  var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n  var spd = descr.staticPropertyDescriptors;\n  if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  var ii = extractFunctions(init, initializers);\n\n  var cc = extractFunctions(composers);\n\n  var descriptor = {};\n  if (methods) descriptor.methods = methods;\n  if (p) descriptor.properties = p;\n  if (ii) descriptor.initializers = ii;\n  if (cc) descriptor.composers = cc;\n  if (dp) descriptor.deepProperties = dp;\n  if (sp) descriptor.staticProperties = sp;\n  if (sdp) descriptor.staticDeepProperties = sdp;\n  if (pd) descriptor.propertyDescriptors = pd;\n  if (spd) descriptor.staticPropertyDescriptors = spd;\n  if (c) descriptor.configuration = c;\n  if (dc) descriptor.deepConfiguration = dc;\n\n  return descriptor;\n}\n\nfunction stampit() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var length = arguments.length, args = [];\n  for (var i = 0; i < length; i += 1) {\n    var arg = arguments[i];\n    args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n  }\n\n  return compose.apply(this || baseStampit, args); // jshint ignore:line\n}\n\nvar baseStampit = Shortcut.compose({\n  staticProperties: {\n    create: function () { return this.apply(this, arguments); },\n    compose: stampit // infecting\n  }\n});\n\nvar shortcuts = Shortcut.compose.staticProperties;\nfor (var prop in shortcuts) stampit[prop] = shortcuts[prop].bind(baseStampit);\nstampit.compose = stampit.bind();\n\nmodule.exports = stampit;\n","module.exports = Array.isArray;\n","var isFunction = require('./function');\n\nmodule.exports = function isStamp(arg) {\n  return isFunction(arg) && isFunction(arg.compose);\n};\n","module.exports = Object.assign;\n","var isPlainObject = require('@stamp/is/plain-object');\nvar isObject = require('@stamp/is/object');\nvar isArray = require('@stamp/is/array');\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst The object to merge into\n * @param src The object to merge from\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) return dst;\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) return src;\n\n  // See if 'dst' is allowed to be mutated.\n  // If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = function (dst) {\n  for (var i = 1; i < arguments.length; i++) {\n    dst = mergeOne(dst, arguments[i]);\n  }\n  return dst;\n};\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","import Translation from 'database/models/Translation';\nimport Configuration from '../../database/models/Configuration';\nimport moment from 'moment';\nimport Utilities from 'utilities';\n\nconst Localization = class {\n  static getLocalizationDate (localTranslations) {\n    return Utilities.get(() => localTranslations[0].fastUpdated, 0);\n  }\n  static async setOfflineLocales ({ appConf }) {\n    let localTranslations = await Translation.local().find();\n    let localDate = Localization.getLocalizationDate(localTranslations);\n    let config = await Configuration.getLocal();\n    let offlineTranslations = appConf.offlineFiles.Translations;\n\n    if (config.fastUpdated >= localDate) {\n      let trans = await Localization.processTranslations(offlineTranslations);\n\n      return Localization.storeTranslations(trans);\n    }\n    return localTranslations[0].data;\n  }\n\n  static async setOnlineLocales ({ appConf }) {\n    let localTranslations = await Translation.local().find();\n    let appTranslations = await Localization.getOnlineTranslations();\n\n    if (appTranslations) {\n      appTranslations = await Localization.processTranslations(appTranslations);\n      appTranslations = await Localization.storeTranslations(appTranslations);\n      return appTranslations;\n    }\n\n    if (localTranslations.length > 0 && localTranslations[0].data) {\n      return localTranslations[0].data;\n    }\n  }\n  /**\n   * [authenticate description]\n   * @param  {[type]} username [description]\n   * @param  {[type]} password [description]\n   * @return {[type]}          [description]\n   */\n  static async set ({ appConf, forceOnline }) {\n    if (appConf.offlineStart === 'true' && !forceOnline) {\n      return this.setOfflineLocales({ appConf });\n    }\n    return this.setOnlineLocales({ appConf });\n  }\n\n  static async getOnlineTranslations () {\n    if (navigator.onLine) {\n      let onlineTranslations = await Translation.remote().find({ limit: 50000 });\n\n      if (onlineTranslations.length === 0) {\n        return undefined;\n      }\n\n      return onlineTranslations;\n    }\n  }\n\n  static async storeTranslations (translationsArray) {\n    // Remove all previous translations\n    Translation.local().clear();\n\n    // Insert the new ones\n    let appTranslations = await Translation.local().insert({\n      data: translationsArray,\n      fastUpdated: moment().unix()\n    });\n\n    return appTranslations.data;\n  }\n  /**\n   * [setTranslations description]\n   * @param {[type]} appTranslations [description]\n   */\n  static async processTranslations (translationArray) {\n    let lenguages = Translation.local().getIsoLanguages();\n    let processedTranslations = {};\n\n    processedTranslations.label = {};\n    // Foreach of the locale lenguages, set the translations\n    lenguages.forEach((language) => {\n      translationArray.forEach((translation, index) => {\n        if (translation.data && translation.data[language.code]) {\n          if (!processedTranslations[language.code]) {\n            processedTranslations[language.code] = {};\n          }\n          processedTranslations[language.code][translation.data.label] = translation.data[language.code];\n        }\n\n        if (translation.data && translation.data.label) {\n          processedTranslations['label'][translation.data.label] = translation.data.label;\n        }\n      });\n    });\n\n    return processedTranslations;\n  }\n\n  /**\n   * [getTranslation description]\n   * @return {[type]} [description]\n   */\n  static async createTranslation (label) {\n    return Translation.remote().insert({\n      data: {\n        en: label,\n        label: label\n      }\n    });\n  }\n\n  static async setTranslations (translations) {\n    let trans = await Translation.remote().find({\n      filter: [{ element: 'data.label', query: '=', value: translations.label }]\n    });\n    let id = trans[0]._id;\n    let result = await Translation.remote().update({\n      _id: id,\n      data: translations\n    });\n\n    return result;\n  }\n};\n\nexport default Localization;\n","import Model from '../Fluent/Model';\nimport Fluent from '../Fluent/Fluent';\n\nexport default Fluent.extend(Model, {\n  properties: {\n    name: 'Pages',\n    path: 'fast-app-pages'\n  }\n})();\n","import User from 'database/models/User';\nimport Auth from 'repositories/Auth/Auth';\nimport Submission from 'database/models/Submission';\nimport OfflineData from 'repositories/Submission/OfflineData';\nimport Scheduler from 'repositories/Database/Scheduler';\nimport Event from 'Wrappers/Event';\n\nlet Sync = class {\n  /**\n   *\n   * @param {*} vm\n   */\n  static async now (vm) {\n    await Sync.syncUsers();\n\n    if (Auth.check()) {\n      await Sync.syncSubmission(vm);\n    }\n  }\n  static async check () {\n    let unsyncSubmissions = await Submission.local().getUnsync();\n\n    if (unsyncSubmissions.length > 0) {\n      Event.emit({ name: 'FAST:SUBMISSION:UNSYNCED', data: true, text: 'There are unsynced Submissions' });\n    } else {\n      Event.emit({ name: 'FAST:SUBMISSION:UNSYNCED', data: false, text: 'There are no unsynced Submissions' });\n    }\n  }\n  /**\n   *\n   * @param {*} db\n   * @param {*} vm\n   */\n  static async syncSubmission () {\n    let usersAreSync = await Sync.areUsersSynced();\n\n    if (!usersAreSync) {\n      return;\n    }\n\n    let unsyncSubmissions = await Submission.local().getUnsync();\n\n    let isSyncing = await Scheduler.isSyncing();\n\n    if (unsyncSubmissions.length > 0 && !isSyncing) {\n      OfflineData.send(unsyncSubmissions);\n    }\n  }\n  /**\n   *\n   */\n  static async getUsersToSync () {\n    let filter = await User.local().find({\n      'data.sync': false\n    });\n\n    return filter.filter((o) => {\n      return o.data.sync === false;\n    });\n  }\n  /**\n   *\n   */\n  static async areUsersSynced () {\n    let users = await Sync.getUsersToSync();\n\n    return !!users && Array.isArray(users) && users.length === 0;\n  }\n  /**\n   *\n   * @param {*} param\n   */\n  static async syncUsers () {\n    let users = await Sync.getUsersToSync();\n\n    users = users.filter((o) => {\n      return o.data.sync === false && !o.data.queuedForSync && !o.data.syncError;\n    });\n\n    let isSyncing = await Scheduler.isSyncing();\n\n    if (Array.isArray(users) && users.length > 0 && !isSyncing) {\n      OfflineData.send(users);\n    }\n  }\n};\n\nexport default Sync;\n","import config from 'config';\nimport USER from 'database/models/User';\nimport SyncHelper from 'database/helpers/SyncHelper';\nimport Utilities from 'utilities';\nimport axios from 'axios';\n\nlet User = (() => {\n  async function storeLocally (formIoUser) {\n    let user = await USER.local().findOne({\n      'data.data.email': formIoUser.data.email\n    });\n\n    formIoUser = SyncHelper.deleteNulls(formIoUser);\n    let isUserAlreadyStored = !!user && !Utilities.isEmpty(user);\n\n    //  check if user is already present in local storage\n    if (isUserAlreadyStored) {\n      user.data = formIoUser;\n      //  update the user with the updated information\n      let error = new Error('The user email is already taken');\n\n      throw error;\n      // User.local().update(user)\n    } else {\n      //  Insert the new user\n      let user = await USER.local().insert({\n        data: formIoUser\n      });\n\n      return user;\n    }\n  }\n  async function updateUser (formIoUser) {\n    let user = await USER.local().findOne({\n      'data.data.email': formIoUser.data.email\n    });\n\n    formIoUser = SyncHelper.deleteNulls(formIoUser);\n\n    user = await USER.local().insert({\n      data: formIoUser\n    });\n\n    return user;\n  }\n\n  async function login ({ credentials, role }) {\n    let url = config.get().baseURL;\n\n    if (role === 'admin') {\n      url = url + '/admin/login';\n    } else {\n      url = url + '/user/login';\n    }\n    return axios.post(url, {\n      data: {\n        email: credentials.username,\n        password: credentials.password\n      }\n    });\n  }\n\n  return Object.freeze({\n    storeLocally,\n    updateUser,\n    login\n  });\n})();\n\nexport default User;\n","class SyncHelper {\n  /**\n   * Recursively removes all NULL values\n   * from an Object or an Array\n   * @static\n   * @param {Array|Object} object Array, Object to clean\n   * @returns {Array|Object} returns the cleaned value\n   * @memberof SyncHelper\n   * @example\n   *\n   * const object = { 'a': 'b', c: null, d: {'a':'b', c:null} }\n   *\n   * deleteNulls(object)\n   * // => {'a': 'b', d: {'a':'b'}}\n   */\n  static deleteNulls (object) {\n    let obj = object;\n    var isArray = obj instanceof Array;\n\n    for (let k in obj) {\n      if (obj[k] === null) isArray ? obj.splice(k, 1) : delete obj[k];\n      else if (typeof obj[k] === 'object') this.deleteNulls(obj[k]);\n    }\n    return obj;\n  }\n}\n\nexport default SyncHelper;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__52__;","import Model from '../Fluent/Model';\nimport Fluent from '../Fluent/Fluent';\n\nexport default Fluent.extend(Model, {\n  properties: {\n    name: 'Role',\n    path: undefined\n  }\n})();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar FormioUtils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nif ((typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === 'object') {\n  global.FormioUtils = FormioUtils;\n}\n\nvar _default = FormioUtils;\nexports.default = _default;","var FastIsSyncing = false;\nlet Scheduler = class {\n  static async isSyncing () {\n    return FastIsSyncing;\n  }\n  static async startSync () {\n    FastIsSyncing = true;\n    return this.isSyncing();\n  }\n\n  static async stopSync () {\n    FastIsSyncing = false;\n    return this.isSyncing();\n  }\n};\n\nexport default Scheduler;\n","import FAST from './start';\nimport Auth from './repositories/Auth/Auth';\nimport Connection from './Wrappers/Connection';\nimport Event from './Wrappers/Event';\nimport Moment from './repositories/Date/moment';\nimport Form from 'database/models/Form';\nimport Pages from 'database/models/Pages';\nimport PagesRepo from 'repositories/Configuration/Pages';\nimport Submission from 'database/models/Submission';\nimport SubmissionRepo from 'repositories/Submission/SubmissionRepository';\nimport ParallelSurvey from 'repositories/Submission/ParallelSurvey';\nimport Configuration from './database/models/Configuration';\nimport Translation from 'database/models/Translation';\nimport Import from 'repositories/Submission/Import';\nimport Localization from 'repositories/Localization/Localization';\nimport User from 'database/models/User';\nimport countryList from 'database/resources/countries.json';\nimport FormLabels from 'repositories/Form/Labels';\nimport OfflinePlugin from 'offlinePlugin/offlinePlugin';\nimport Role from 'repositories/Auth/Role';\nimport Hash from 'repositories/Submission/Hash';\nimport Sync from 'repositories/Database/Sync';\n\nexport {\n  Moment,\n  Event,\n  FAST,\n  Connection,\n  Auth,\n  Form,\n  Pages,\n  PagesRepo,\n  Submission,\n  SubmissionRepo,\n  ParallelSurvey,\n  Configuration,\n  Translation,\n  Import,\n  Localization,\n  User,\n  countryList,\n  FormLabels,\n  OfflinePlugin,\n  Role,\n  Hash,\n  Sync\n};\n","import Configuration from './database/models/Configuration';\nimport Form from './repositories/Form/RemoteForms';\nimport Localization from './repositories/Localization/Localization';\nimport Pages from './repositories/Configuration/Pages';\nimport SyncInterval from './repositories/Database/SyncInterval';\nimport fastConfig from './config';\nimport Roles from './repositories/Auth/Role';\n\n/* eslint-disable no-unused-vars */\nlet FAST = (() => {\n  /**\n   *\n   * Triggers a full Online update of all Configuration,\n   * Forms, Pages and Roles of the application.\n   *\n   * @param {Object} conf\n   * @param {Object} conf.appConf Configuration of the App\n   * @returns\n   */\n  async function sync ({ appConf }) {\n    let forceOnline = true;\n    // Pull the configuration\n    let config = await Configuration.set({ appConf, forceOnline });\n\n    // Change the Base URL for all the other calls\n    fastConfig.setBaseUrl(config.APP_URL);\n\n    await Roles.set({ url: config.APP_URL, appConf, forceOnline });\n\n    await Pages.set({ appConf, forceOnline });\n\n    await Form.set({ appConf, forceOnline });\n\n    let appTranslations = await Localization.set({ appConf, forceOnline });\n\n    return {\n      translations: appTranslations,\n      defaultLenguage: localStorage.getItem('defaultLenguage') || 'en',\n      config: config\n    };\n  }\n\n  /**\n   *\n   * @param {*} conf\n   * @param {*} conf.appConf Configuration of the App\n   * @param {*} conf.Vue Vue instance\n   */\n  async function start ({ Vue, appConf }) {\n    let pages, err;\n\n    fastConfig.set({\n      baseURL: appConf.appConfigUrl,\n      submissionId: appConf.appConfigId,\n      i18n: appConf.i18n\n    });\n\n    SyncInterval.set(3000);\n\n    // Pull the configuration\n    let config = await Configuration.set({ Vue, appConf });\n\n    // Change the Base URL for all the other calls\n    fastConfig.setBaseUrl(config.APP_URL);\n\n    await Roles.set({ url: config.APP_URL, appConf });\n\n    await Pages.set({ appConf });\n\n    await Form.set({ appConf });\n\n    let appTranslations = await Localization.set({ appConf });\n\n    /*\n    let currentConf = await Configuration.getLocal();\n\n    let date = _get(currentConf, 'meta.formsLastUpdated', 1);\n    let isOnline = await Connection.isOnline();\n\n    if (isOnline) {\n      try {\n        let data = await Formio.request(\n          config.APP_URL + '/form?modified__gt=' + new Date(date * 1000).toISOString() + '&select=path',\n          'GET'\n        );\n\n        Configuration.setLastUpdated({ element: 'Forms', data });\n        let shouldUpdate = data.some((form) => {\n          return form.path === 'userregister';\n        });\n\n        if (shouldUpdate) {\n          Form.update({\n            filter: [{ element: 'path', query: '=', value: 'userregister' }]\n          });\n        }\n      } catch (error) {\n        console.log('error', error);\n      }\n    }\n    */\n\n    return {\n      config: config,\n      translations: appTranslations,\n      defaultLanguage: localStorage.getItem('defaultLenguage') || 'en'\n    };\n  }\n\n  return Object.freeze({\n    start,\n    sync\n  });\n})();\n\nexport default FAST;\n","// More proper implementation would be\n// isDescriptor(obj) || isStamp(obj)\n// but there is no sense since stamp is function and function is object.\nmodule.exports = require('./object');\n","module.exports = function isPlainObject(value) {\n  return Boolean(value) && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n};\n","var compose = require('@stamp/compose');\n\nfunction createShortcut(propName) {\n  return function (arg) {\n    'use strict';\n    var param = {};\n    param[propName] = arg;\n    return this && this.compose ? this.compose(param) : compose(param);\n  };\n}\n\nvar properties = createShortcut('properties');\nvar staticProperties = createShortcut('staticProperties');\nvar configuration = createShortcut('configuration');\nvar deepProperties = createShortcut('deepProperties');\nvar staticDeepProperties = createShortcut('staticDeepProperties');\nvar deepConfiguration = createShortcut('deepConfiguration');\nvar initializers = createShortcut('initializers');\n\nmodule.exports = compose({\n  staticProperties: {\n    methods: createShortcut('methods'),\n\n    props: properties,\n    properties: properties,\n\n    statics: staticProperties,\n    staticProperties: staticProperties,\n\n    conf: configuration,\n    configuration: configuration,\n\n    deepProps: deepProperties,\n    deepProperties: deepProperties,\n\n    deepStatics: staticDeepProperties,\n    staticDeepProperties: staticDeepProperties,\n\n    deepConf: deepConfiguration,\n    deepConfiguration: deepConfiguration,\n\n    init: initializers,\n    initializers: initializers,\n\n    composers: createShortcut('composers'),\n\n    propertyDescriptors: createShortcut('propertyDescriptors'),\n\n    staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n  }\n});\n","module.exports = function isString(arg) {\n  return typeof arg === 'string';\n};\n","var compose = require('@stamp/compose');\nvar privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\nvar makeProxyFunction = function (fn, name) {\n  function proxiedFn() {\n    'use strict';\n    var fields = privates.get(this); // jshint ignore:line\n    return fn.apply(fields, arguments);\n  }\n\n  Object.defineProperty(proxiedFn, 'name', {\n    value: name,\n    configurable: true\n  });\n\n  return proxiedFn;\n};\n\nfunction initializer(_, opts) {\n  var descriptor = opts.stamp.compose;\n  var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n  var newObject = {}; // our proxy object\n  privates.set(newObject, this);\n\n  var methods = descriptor.methods;\n  if (!methods) {\n    return newObject;\n  }\n\n  var methodNames = Object.keys(methods);\n  for (var i = 0; i < methodNames.length; i++) {\n    var name = methodNames[i];\n    if (privateMethodNames.indexOf(name) < 0) { // not private, thus wrap\n      newObject[name] = makeProxyFunction(methods[name], name);\n    }\n  }\n\n  // Integration with @stamp/instanceof\n  if (typeof Symbol !== \"undefined\") {\n    var stampSymbol = Symbol.for('stamp');\n    if (methods[stampSymbol]) {\n      newObject[stampSymbol] = opts.stamp;\n    }\n  }\n\n  return newObject;\n}\n\nvar Privatize = compose({\n  initializers: [initializer],\n  deepConfiguration: {Privatize: {methods: []}},\n  staticProperties: {\n    privatizeMethods: function () {\n      'use strict';\n      var methodNames = [];\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (typeof arg === 'string' && arg.length > 0) {\n          methodNames.push(arg);\n        }\n      }\n      var Stamp = this && this.compose ? this : Privatize;\n      return Stamp.compose({\n        deepConfiguration: {\n          Privatize: {\n            methods: methodNames\n          }\n        }\n      });\n    }\n  },\n  composers: [function (opts) {\n    var initializers = opts.stamp.compose.initializers;\n    // Keep our initializer the last to return proxy object\n    initializers.splice(initializers.indexOf(initializer), 1);\n    initializers.push(initializer);\n  }]\n});\n\nmodule.exports = Privatize;\n","import Database from './Database';\nimport Utilities from 'utilities';\nimport uuidv4 from 'uuid/v4';\nimport Interface from '../../../Interface';\nimport compose from '@stamp/compose';\n\nexport default compose(\n  Interface,\n  {\n    methods: {\n      /**\n       *\n       */\n      async get () {\n        let filterObject = this.prepareFilter();\n        let data = await (await this.getModel())\n          .chain()\n          .find(filterObject)\n          .offset(this.offsetNumber)\n          .limit(this.limitNumber)\n          .data();\n\n        data = this.applySelect(data);\n        data = this.applyOrderBy(data);\n\n        return data;\n      },\n      /**\n       *\n       * @param {*} attributePath\n       */\n      async pluck (attributePath) {\n        let data = await this.get();\n\n        data = data.map((e) => e[attributePath]);\n        return data;\n      },\n      /**\n       *\n       * @param {*} args\n       */\n      orderBy (...args) {\n        this.orderByArray = args;\n        return this;\n      },\n      /**\n       *\n       * @param {*} data\n       */\n      applyOrderBy (data) {\n        let _data = [...data];\n\n        if (this.orderByArray.length === 0) {\n          return _data;\n        }\n        let field = this.orderByArray[0];\n\n        if (this.selectArray.length > 0 && (field.includes('.') || field.includes('['))) {\n          throw new Error(\n            'Cannot orderBy nested attribute \"' + field + '\" when using Select. You must rename the attribute'\n          );\n        }\n\n        let order = this.orderByArray[1];\n        let type = this.orderByArray[2];\n\n        if (!type) {\n          type = 'string';\n        }\n\n        _data = _data.sort((a, b) => {\n          let A = Utilities.getFromPath(a, field, undefined).value;\n          let B = Utilities.getFromPath(b, field, undefined).value;\n\n          if (!A || !B) {\n            throw new Error('Cannot order by property \"' + field + ' \" not all values have this property');\n          }\n          // For default order and numbers\n          if (type.includes('string') || type.includes('number')) {\n            if (order === 'asc') {\n              return A > B ? 1 : A < B ? -1 : 0;\n            }\n            return A > B ? -1 : A < B ? 1 : 0;\n          } else if (type.includes('date')) {\n            if (order === 'asc') {\n              return new Date(A) - new Date(B);\n            }\n            return new Date(B) - new Date(A);\n          }\n        });\n        return _data;\n      },\n      /**\n       *\n       * @param {*} limit\n       */\n      limit (limit) {\n        this.limitNumber = limit;\n        return this;\n      },\n      /**\n       *\n       * @param {*} offset\n       */\n      offset (offset) {\n        this.offsetNumber = offset;\n        return this;\n      },\n      /**\n       *\n       * @param {*} args\n       */\n      where (...args) {\n        args = Array.isArray(args[0]) ? args : [args];\n        args.forEach((arg) => {\n          if (arg.length !== 3) {\n            throw new Error(\n              'There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n                JSON.stringify(arg) +\n                '\" '\n            );\n          }\n          this.whereArray.push(arg);\n        });\n        return this;\n      },\n      /**\n       *\n       * @param {*} args\n       */\n      andWhere (...args) {\n        return this.where(...args);\n      },\n      /**\n       *\n       * @param {*} args\n       */\n      orWhere (...args) {\n        args = Array.isArray(args[0]) ? args : [args];\n        args.forEach((arg) => {\n          if (arg.length !== 3) {\n            throw new Error(\n              'There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n                JSON.stringify(arg) +\n                '\" '\n            );\n          }\n          this.orWhereArray.push(arg);\n        });\n        return this;\n      },\n      /**\n       *\n       */\n      prepareFilter () {\n        let andObject = { $and: [] };\n        let orObject = { $or: [] };\n        let globalFilter = {};\n\n        // All first Level AND conditions\n        if (this.whereArray.length > 0) {\n          this.whereArray.forEach((c) => {\n            let conditionToObject = {};\n\n            conditionToObject[c[0]] = {};\n            let lokiOperator = this.getLokiOperator(c[1]);\n\n            conditionToObject[c[0]][lokiOperator] = c[2];\n            if (lokiOperator.includes('$regex|')) {\n              delete conditionToObject[c[0]][lokiOperator];\n              conditionToObject[c[0]]['$regex'] = lokiOperator.replace('$regex|', '').replace('{{$var}}', c[2]);\n            }\n\n            andObject['$and'].push(conditionToObject);\n          });\n          globalFilter = andObject;\n        }\n        // All second level OR conditions\n        if (this.orWhereArray.length > 0) {\n          this.orWhereArray.forEach((c) => {\n            let conditionToObject = {};\n\n            conditionToObject[c[0]] = {};\n            let lokiOperator = this.getLokiOperator(c[1]);\n\n            conditionToObject[c[0]][lokiOperator] = c[2];\n            if (lokiOperator.includes('$regex|')) {\n              delete conditionToObject[c[0]][lokiOperator];\n              conditionToObject[c[0]]['$regex'] = lokiOperator.replace('$regex|', '').replace('{{$var}}', c[2]);\n            }\n\n            orObject['$or'].push(conditionToObject);\n          });\n\n          globalFilter = { $or: [andObject, orObject] };\n        }\n\n        // TODO we should include global level and() or()\n        // operators to give room for more complex queries\n\n        return globalFilter;\n      },\n      /**\n       *\n       * @param {*} operator\n       */\n      getLokiOperator (operator) {\n        if (!this.operators.includes(operator)) {\n          throw new Error('The \"' + operator + '\" operator is not supported');\n        }\n\n        let lokiOperators = {\n          '=': '$eq',\n          '<': '$lt',\n          '>': '$gt',\n          '<=': '$lte',\n          '>=': '$gte',\n          '<>': '$ne',\n          '!=': '$ne',\n          like: '$aeq',\n          regexp: '$regex',\n          startsWith: '$regex|^{{$var}}',\n          endsWith: '$regex|{{$var}}$',\n          contains: '$regex|{{$var}}'\n        };\n        let converted = Utilities.get(() => lokiOperators[operator], undefined);\n\n        if (!converted) {\n          throw new Error('The operator \"' + operator + '\" is not supported in Loki ');\n        }\n        return converted;\n      },\n      /**\n       *\n       * @param {Object} db The name of the model to fetch\n       * @param {String} db.model The name of the model to fetch\n       * @returns {Promise} The DB model\n       */\n      async getModel () {\n        const DB = await Database.get();\n\n        return DB.getCollection(this.name);\n      },\n      /**\n       * Maps the given Data to show only those fields\n       * explicitly detailed on the Select function\n       * @param {Array} data Data from the Local DB\n       * @returns {Array} Formatted data with the selected columns\n       */\n      applySelect (data) {\n        let _data = [...data];\n\n        if (this.selectArray.length > 0) {\n          _data = _data.map((element) => {\n            let newElement = {};\n\n            this.selectArray.forEach((attribute) => {\n              let extract = Utilities.getFromPath(element, attribute, undefined);\n\n              if (extract.value) {\n                newElement[extract.label] = extract.value;\n              }\n            });\n            return newElement;\n          });\n        }\n\n        return _data;\n      },\n      /**\n       *\n       */\n      async all () {\n        const model = await this.getModel();\n\n        return model.find();\n      },\n      /**\n       *\n       * @param {*} columns\n       */\n      select (...columns) {\n        columns = this.prepareInput(columns);\n\n        this.selectArray = this.selectArray.concat(columns).filter((elem, pos, arr) => {\n          return arr.indexOf(elem) === pos;\n        });\n\n        return this;\n      },\n      /**\n       *\n       * @param {*} param0\n       */\n      async find ({\n        filter = undefined,\n        limit = 30,\n        select = undefined,\n        pagination = undefined,\n        form = undefined\n      } = {}) {\n        const model = await this.getModel();\n\n        if (filter && Array.isArray(filter)) {\n          let owner = filter.find((e) => {\n            return e.element === 'owner' && e.type === 'local';\n          });\n\n          if (owner) {\n            filter = { 'data.user_email': owner.value };\n          }\n\n          if (form) {\n            filter = { ...filter, 'data.formio.formId': form };\n          }\n        }\n\n        return model.find(filter);\n      },\n      /**\n       * [findOne description]\n       * @param  {[type]} filter [description]\n       * @return {[type]}        [description]\n       */\n      async first () {\n        let data = await this.get();\n\n        return Utilities.get(() => data[0], []);\n      },\n      /**\n       * [remove description]\n       * @param  {[type]} document [description]\n       * @return {[type]}          [description]\n       */\n      async remove ({ document }) {\n        const model = await this.getModel();\n\n        return model.remove(document);\n      },\n      /**\n       * [insert description]\n       * @param  {[type]} element [description]\n       * @return {[type]}         [description]\n       */\n      async insert ({ element }) {\n        element = Utilities.cloneDeep(element);\n\n        const model = await this.getModel();\n\n        element._id = uuidv4() + '_local';\n\n        return model.insert(element);\n      },\n      /**\n       * [update description]\n       * @param  {[type]} document [description]\n       * @return {[type]}          [description]\n       */\n      async update ({ document }) {\n        const model = await this.getModel();\n\n        return model.update(document);\n      },\n      /**\n       *\n       * @param {*} param0\n       */\n      async updateOrCreate ({ document }) {\n        const model = await this.getModel();\n        let role = await model.findOne(document);\n\n        if (!role) {\n          model.insert(document);\n        }\n      },\n      /**\n       *\n       * @param {*} param0\n       */\n      async findAndRemove ({ filter }) {\n        const model = await this.getModel();\n\n        return model.findAndRemove(filter);\n      },\n      /**\n       *\n       * @param {*} param0\n       */\n      async clear () {\n        const model = await this.getModel();\n\n        return model.clear({ removeIndices: true });\n      }\n    }\n  }\n);\n","import Promise from 'bluebird';\nimport Loki from 'lokijs';\nimport LokiIndexedAdapter from 'lokijs/src/loki-indexed-adapter';\n\nlet Database = (() => {\n  var DB = null;\n\n  /*\n  |--------------------------------------------------------------------------\n  | LockiDB Config\n  |--------------------------------------------------------------------------\n  | Configuration for the Local DB creation.\n  |\n  */\n\n  /**\n   *\n   *\n   * @param {Object} configuration- The configuration for the DB\n   * @param {string} configuration.env - Environment i.e 'production'\n   * @returns\n   */\n  const _create = function ({ env }) {\n    return new Promise((resolve) => {\n      let idbAdapter;\n      let pa;\n      let db;\n\n      let dbConfig = {\n        autosave: true,\n        autosaveInterval: 1000,\n        autoload: true,\n        /* eslint-disable no-use-before-define */\n        autoloadCallback: databaseInitialize\n      };\n\n      try {\n        idbAdapter = new LokiIndexedAdapter('FAST');\n        pa = new Loki.LokiPartitioningAdapter(idbAdapter, {\n          paging: true\n        });\n\n        db = new Loki('FAST', { ...dbConfig, adapter: pa });\n      } catch (error) {\n        db = new Loki('FAST', dbConfig);\n      }\n\n      function databaseInitialize () {\n        const baseModels = ['Submission', 'Form', 'Translation', 'User', 'Role', 'Configuration', 'Pages'];\n\n        baseModels.forEach((model) => {\n          const dbModel = db.getCollection(model);\n\n          if (!dbModel) {\n            db.addCollection(model);\n          }\n        });\n        resolve(db);\n      }\n    });\n  };\n\n  /**\n   *\n   *\n   * @export\n   * @param {Object} configuration- The configuration for the DB\n   * @param {string} configuration.env - Environment i.e 'production'\n   * @returns\n   */\n  const get = async function ({ env = 'prod' } = {}) {\n    if (!DB) {\n      DB = await _create({ env });\n    }\n    return DB;\n  };\n\n  return Object.freeze({\n    get\n  });\n})();\n\nexport default Database;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__65__;","/*\n  Loki IndexedDb Adapter (need to include this script to use it)\n\n  Console Usage can be used for management/diagnostic, here are a few examples :\n  adapter.getDatabaseList(); // with no callback passed, this method will log results to console\n  adapter.saveDatabase('UserDatabase', JSON.stringify(myDb));\n  adapter.loadDatabase('UserDatabase'); // will log the serialized db to console\n  adapter.deleteDatabase('UserDatabase');\n*/\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        // Node, CommonJS-like\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.LokiIndexedAdapter = factory();\n    }\n}(this, function () {\n  return (function() {\n\n    /**\n     * Loki persistence adapter class for indexedDb.\n     *     This class fulfills abstract adapter interface which can be applied to other storage methods. \n     *     Utilizes the included LokiCatalog app/key/value database for actual database persistence.\n     *     Indexeddb is highly async, but this adapter has been made 'console-friendly' as well.\n     *     Anywhere a callback is omitted, it should return results (if applicable) to console.\n     *     IndexedDb storage is provided per-domain, so we implement app/key/value database to \n     *     allow separate contexts for separate apps within a domain.\n     *\n     * @example\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     *\n     * @constructor LokiIndexedAdapter\n     *\n     * @param {string} appname - (Optional) Application name context can be used to distinguish subdomains, 'loki' by default\n     */\n    function LokiIndexedAdapter(appname)\n    {\n      this.app = 'loki';\n\n      if (typeof (appname) !== 'undefined')\n      {\n        this.app = appname;\n      }\n\n      // keep reference to catalog class for base AKV operations\n      this.catalog = null;\n\n      if (!this.checkAvailability()) {\n        throw new Error('indexedDB does not seem to be supported for your environment');\n      }\n    }\n\n    /**\n     * Used to check if adapter is available\n     *\n     * @returns {boolean} true if indexeddb is available, false if not.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.checkAvailability = function()\n    {\n      if (typeof indexedDB !== 'undefined' && indexedDB) return true;\n\n      return false;\n    };\n\n    /**\n     * Retrieves a serialized db string from the catalog.\n     *\n     * @example\n     * // LOAD\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     * var db = new loki('test', { adapter: idbAdapter });\n     *   db.loadDatabase(function(result) {\n     *   console.log('done');\n     * });\n     *\n     * @param {string} dbname - the name of the database to retrieve.\n     * @param {function} callback - callback should accept string param containing serialized db string.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.loadDatabase = function(dbname, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.loadDatabase(dbname, callback);\n        });\n\n        return;\n      }\n\n      // lookup up db string in AKV db\n      this.catalog.getAppKey(appName, dbname, function(result) {\n        if (typeof (callback) === 'function') {\n          if (result.id === 0) {\n            callback(null);\n            return;\n          }\n          callback(result.val);\n        }\n        else {\n          // support console use of api\n          console.log(result.val);\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.loadKey = LokiIndexedAdapter.prototype.loadDatabase;\n\n    /**\n     * Saves a serialized db to the catalog.\n     *\n     * @example\n     * // SAVE : will save App/Key/Val as 'finance'/'test'/{serializedDb}\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     * var db = new loki('test', { adapter: idbAdapter });\n     * var coll = db.addCollection('testColl');\n     * coll.insert({test: 'val'});\n     * db.saveDatabase();  // could pass callback if needed for async complete\n     *\n     * @param {string} dbname - the name to give the serialized database within the catalog.\n     * @param {string} dbstring - the serialized db string to save.\n     * @param {function} callback - (Optional) callback passed obj.success with true or false\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.saveDatabase = function(dbname, dbstring, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      function saveCallback(result) {\n        if (result && result.success === true) {\n          callback(null);\n        }\n        else {\n          callback(new Error(\"Error saving database\"));\n        }\n      }\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          // now that catalog has been initialized, set (add/update) the AKV entry\n          cat.setAppKey(appName, dbname, dbstring, saveCallback);\n        });\n\n        return;\n      }\n\n      // set (add/update) entry to AKV database\n      this.catalog.setAppKey(appName, dbname, dbstring, saveCallback);\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.saveKey = LokiIndexedAdapter.prototype.saveDatabase;\n\n    /**\n     * Deletes a serialized db from the catalog.\n     *\n     * @example\n     * // DELETE DATABASE\n     * // delete 'finance'/'test' value from catalog\n     * idbAdapter.deleteDatabase('test', function {\n     *   // database deleted\n     * });\n     *\n     * @param {string} dbname - the name of the database to delete from the catalog.\n     * @param {function=} callback - (Optional) executed on database delete\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.deleteDatabase = function(dbname, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference and pass callback ahead\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.deleteDatabase(dbname, callback);\n        });\n\n        return;\n      }\n\n      // catalog was already initialized, so just lookup object and delete by id\n      this.catalog.getAppKey(appName, dbname, function(result) {\n        var id = result.id;\n\n        if (id !== 0) {\n          adapter.catalog.deleteAppKey(id, callback);\n        } else if (typeof (callback) === 'function') {\n          callback({ success: true });\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.deleteKey = LokiIndexedAdapter.prototype.deleteDatabase;\n\n    /**\n     * Removes all database partitions and pages with the base filename passed in.\n     * This utility method does not (yet) guarantee async deletions will be completed before returning\n     *\n     * @param {string} dbname - the base filename which container, partitions, or pages are derived\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.deleteDatabasePartitions = function(dbname) {\n      var self=this;\n      this.getDatabaseList(function(result) {\n        result.forEach(function(str) {\n          if (str.startsWith(dbname)) {\n            self.deleteDatabase(str);\n          }\n        });\n      });\n    };\n\n    /**\n     * Retrieves object array of catalog entries for current app.\n     *\n     * @example\n     * idbAdapter.getDatabaseList(function(result) {\n     *   // result is array of string names for that appcontext ('finance')\n     *   result.forEach(function(str) {\n     *     console.log(str);\n     *   });\n     * });\n     *\n     * @param {function} callback - should accept array of database names in the catalog for current app.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.getDatabaseList = function(callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.getDatabaseList(callback);\n        });\n\n        return;\n      }\n\n      // catalog already initialized\n      // get all keys for current appName, and transpose results so just string array\n      this.catalog.getAppKeys(appName, function(results) {\n        var names = [];\n\n        for(var idx = 0; idx < results.length; idx++) {\n          names.push(results[idx].key);\n        }\n\n        if (typeof (callback) === 'function') {\n          callback(names);\n        }\n        else {\n          names.forEach(function(obj) {\n            console.log(obj);\n          });\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.getKeyList = LokiIndexedAdapter.prototype.getDatabaseList;\n\n    /**\n     * Allows retrieval of list of all keys in catalog along with size\n     *\n     * @param {function} callback - (Optional) callback to accept result array.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.getCatalogSummary = function(callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.getCatalogSummary(callback);\n        });\n\n        return;\n      }\n\n      // catalog already initialized\n      // get all keys for current appName, and transpose results so just string array\n      this.catalog.getAllKeys(function(results) {\n        var entries = [];\n        var obj,\n          size,\n          oapp,\n          okey,\n          oval;\n\n        for(var idx = 0; idx < results.length; idx++) {\n          obj = results[idx];\n          oapp = obj.app || '';\n          okey = obj.key || '';\n          oval = obj.val || '';\n\n          // app and key are composited into an appkey column so we will mult by 2\n          size = oapp.length * 2 + okey.length * 2 + oval.length + 1;\n\n          entries.push({ \"app\": obj.app, \"key\": obj.key, \"size\": size });\n        }\n\n        if (typeof (callback) === 'function') {\n          callback(entries);\n        }\n        else {\n          entries.forEach(function(obj) {\n            console.log(obj);\n          });\n        }\n      });\n    };\n\n    /**\n     * LokiCatalog - underlying App/Key/Value catalog persistence\n     *    This non-interface class implements the actual persistence.\n     *    Used by the IndexedAdapter class.\n     */\n    function LokiCatalog(callback)\n    {\n      this.db = null;\n      this.initializeLokiCatalog(callback);\n    }\n\n    LokiCatalog.prototype.initializeLokiCatalog = function(callback) {\n      var openRequest = indexedDB.open('LokiCatalog', 1);\n      var cat = this;\n\n      // If database doesn't exist yet or its version is lower than our version specified above (2nd param in line above)\n      openRequest.onupgradeneeded = function(e) {\n        var thisDB = e.target.result;\n        if (thisDB.objectStoreNames.contains('LokiAKV')) {\n          thisDB.deleteObjectStore('LokiAKV');\n        }\n\n        if(!thisDB.objectStoreNames.contains('LokiAKV')) {\n          var objectStore = thisDB.createObjectStore('LokiAKV', { keyPath: 'id', autoIncrement:true });\n          objectStore.createIndex('app', 'app', {unique:false});\n          objectStore.createIndex('key', 'key', {unique:false});\n          // hack to simulate composite key since overhead is low (main size should be in val field)\n          // user (me) required to duplicate the app and key into comma delimited appkey field off object\n          // This will allow retrieving single record with that composite key as well as\n          // still supporting opening cursors on app or key alone\n          objectStore.createIndex('appkey', 'appkey', {unique:true});\n        }\n      };\n\n      openRequest.onsuccess = function(e) {\n        cat.db = e.target.result;\n\n        if (typeof (callback) === 'function') callback(cat);\n      };\n\n      openRequest.onerror = function(e) {\n        throw e;\n      };\n    };\n\n    LokiCatalog.prototype.getAppKey = function(app, key, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('appkey');\n      var appkey = app + \",\" + key;\n      var request = index.get(appkey);\n\n      request.onsuccess = (function(usercallback) {\n        return function(e) {\n          var lres = e.target.result;\n\n          if (lres === null || typeof(lres) === 'undefined') {\n            lres = {\n              id: 0,\n              success: false\n            };\n          }\n\n          if (typeof(usercallback) === 'function') {\n            usercallback(lres);\n          }\n          else {\n            console.log(lres);\n          }\n        };\n      })(callback);\n\n      request.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ id: 0, success: false });\n          }\n          else {\n            throw e;\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.getAppKeyById = function (id, callback, data) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var request = store.get(id);\n\n      request.onsuccess = (function(data, usercallback){\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback(e.target.result, data);\n          }\n          else {\n            console.log(e.target.result);\n          }\n        };\n      })(data, callback);\n    };\n\n    LokiCatalog.prototype.setAppKey = function (app, key, val, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readwrite');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('appkey');\n      var appkey = app + \",\" + key;\n      var request = index.get(appkey);\n\n      // first try to retrieve an existing object by that key\n      // need to do this because to update an object you need to have id in object, otherwise it will append id with new autocounter and clash the unique index appkey\n      request.onsuccess = function(e) {\n        var res = e.target.result;\n\n        if (res === null || res === undefined) {\n          res = {\n            app:app,\n            key:key,\n            appkey: app + ',' + key,\n            val:val\n          };\n        }\n        else {\n          res.val = val;\n        }\n\n        var requestPut = store.put(res);\n\n        requestPut.onerror = (function(usercallback) {\n          return function(e) {\n            if (typeof(usercallback) === 'function') {\n              usercallback({ success: false });\n            }\n            else {\n              console.error('LokiCatalog.setAppKey (set) onerror');\n              console.error(request.error);\n            }\n          };\n\n        })(callback);\n\n        requestPut.onsuccess = (function(usercallback) {\n          return function(e) {\n            if (typeof(usercallback) === 'function') {\n              usercallback({ success: true });\n            }\n          };\n        })(callback);\n      };\n\n      request.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ success: false });\n          }\n          else {\n            console.error('LokiCatalog.setAppKey (get) onerror');\n            console.error(request.error);\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.deleteAppKey = function (id, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readwrite');\n      var store = transaction.objectStore('LokiAKV');\n      var request = store.delete(id);\n\n      request.onsuccess = (function(usercallback) {\n        return function(evt) {\n          if (typeof(usercallback) === 'function') usercallback({ success: true });\n        };\n      })(callback);\n\n      request.onerror = (function(usercallback) {\n        return function(evt) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ success: false });\n          }\n          else {\n            console.error('LokiCatalog.deleteAppKey raised onerror');\n            console.error(request.error);\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.getAppKeys = function(app, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('app');\n\n      // We want cursor to all values matching our (single) app param\n      var singleKeyRange = IDBKeyRange.only(app);\n\n      // To use one of the key ranges, pass it in as the first argument of openCursor()/openKeyCursor()\n      var cursor = index.openCursor(singleKeyRange);\n\n      // cursor internally, pushing results into this.data[] and return\n      // this.data[] when done (similar to service)\n      var localdata = [];\n\n      cursor.onsuccess = (function(data, callback) {\n        return function(e) {\n          var cursor = e.target.result;\n          if (cursor) {\n            var currObject = cursor.value;\n\n            data.push(currObject);\n\n            cursor.continue();\n          }\n          else {\n            if (typeof(callback) === 'function') {\n              callback(data);\n            }\n            else {\n              console.log(data);\n            }\n          }\n        };\n      })(localdata, callback);\n\n      cursor.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback(null);\n          }\n          else {\n            console.error('LokiCatalog.getAppKeys raised onerror');\n            console.error(e);\n          }\n        };\n      })(callback);\n\n    };\n\n    // Hide 'cursoring' and return array of { id: id, key: key }\n    LokiCatalog.prototype.getAllKeys = function (callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var cursor = store.openCursor();\n\n      var localdata = [];\n\n      cursor.onsuccess = (function(data, callback) {\n        return function(e) {\n          var cursor = e.target.result;\n          if (cursor) {\n            var currObject = cursor.value;\n\n            data.push(currObject);\n\n            cursor.continue();\n          }\n          else {\n            if (typeof(callback) === 'function') {\n              callback(data);\n            }\n            else {\n              console.log(data);\n            }\n          }\n        };\n      })(localdata, callback);\n\n      cursor.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') usercallback(null);\n        };\n      })(callback);\n\n    };\n\n    return LokiIndexedAdapter;\n\n  }());\n}));\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","import stampit from '@stamp/it';\n\nexport default stampit({\n  init ({ name, path }) {\n    if (!name && !path) {\n      throw new Error('Model must have a name or path');\n    }\n    this.name = name || this.name;\n    this.path = path || this.path;\n  },\n  properties: {\n    whereArray: [],\n    orWhereArray: [],\n    selectArray: [],\n    orderByArray: [],\n    limitNumber: undefined,\n    offsetNumber: undefined,\n    populate: [],\n    chunk: null,\n    pullSize: null,\n    operators: ['=', '<', '>', '<=', '>=', '<>', '!=', 'like', 'regexp', 'startsWith', 'endsWith', 'contains']\n  },\n  methods: {\n    async all () {\n      throw new Error('all() method not implemented');\n    },\n    select () {\n      throw new Error('select() method not implemented');\n    },\n    where () {\n      throw new Error('where() method not implemented');\n    },\n    andWhere () {\n      throw new Error('andWhere() method not implemented');\n    },\n    get () {\n      throw new Error('get() method not implemented');\n    },\n    limit () {\n      throw new Error('limit() method not implemented');\n    },\n    offset () {\n      throw new Error('offset() method not implemented');\n    },\n    async pluck (attributePath) {\n      throw new Error('pluck() method not implemented');\n    },\n    prepareInput (input) {\n      let cols = [];\n\n      input.forEach((item) => {\n        let value = Array.isArray(item) ? item : item.split(',');\n\n        value = value.map((e) => {\n          return e.trim();\n        });\n        cols = cols.concat(value);\n      });\n\n      cols.filter((elem, pos, arr) => {\n        return arr.indexOf(elem) === pos;\n      });\n\n      return cols;\n    },\n    async find () {\n      throw new Error('find() method not implemented');\n    },\n    async findOne () {\n      throw new Error('findOne() method not implemented');\n    },\n    async remove () {\n      throw new Error('remove() method not implemented');\n    },\n    async softDelete () {\n      throw new Error('softDelete() method not implemented');\n    },\n    async insert () {\n      throw new Error('insert() method not implemented');\n    },\n    async update () {\n      throw new Error('update() method not implemented');\n    },\n    async clear () {\n      throw new Error('clear() method not implemented');\n    },\n    async updateOrCreate () {\n      throw new Error('updateOrCreate() method not implemented');\n    },\n    async findAndRemove () {\n      throw new Error('findAndRemove() method not implemented');\n    }\n  }\n});\n","import Formio from 'formiojs/Formio';\nimport config from 'config';\nimport to from 'await-to-js';\n\nconst remoteModel = ((path) => {\n  function filterToString (filter) {\n    if (!filter) {\n      return;\n    }\n    // Condition {element: '_id', query: 'in', value: ''}\n    let filterQuery = {};\n\n    filter = filter.filter((e) => {\n      return !e.type || e.type !== 'local';\n    });\n\n    filter.forEach((condition) => {\n      let valueString = '';\n\n      switch (condition.query) {\n        case '=':\n          filterQuery[condition.element] = condition.value;\n          break;\n        case '!=':\n          filterQuery[condition.element + '__ne'] = condition.value;\n          break;\n        case '>':\n          filterQuery[condition.element + '__gt'] = condition.value;\n          break;\n        case '>=':\n          filterQuery[condition.element + '__gte'] = condition.value;\n          break;\n        case '<':\n          filterQuery[condition.element + '__lt'] = condition.value;\n          break;\n        case '<=':\n          filterQuery[condition.element + '__lte'] = condition.value;\n          break;\n        case 'in':\n          valueString = '';\n          condition.value.forEach((value, index, array) => {\n            valueString = index === array.length - 1 ? valueString + value : valueString + value + ',';\n          });\n          filterQuery[condition.element + '__in'] = valueString;\n          break;\n        case 'nin':\n          valueString = '';\n          condition.value.forEach((value, index, array) => {\n            valueString = index === array.length - 1 ? valueString + value : valueString + value + ',';\n          });\n          filterQuery[condition.element + '__nin'] = valueString;\n          break;\n        case 'exists':\n          filterQuery[condition.element + '__exists'] = true;\n          break;\n        case '!exists':\n          filterQuery[condition.element + '__exists'] = false;\n          break;\n        case 'regex':\n          filterQuery[condition.element + '__regex'] = condition.value;\n          break;\n      }\n    });\n    return filterQuery;\n  }\n\n  function selectToString (select) {\n    if (!select) {\n      return;\n    }\n    let selectString = select.reduce((reducer, column) => {\n      reducer = reducer + ',' + column;\n      return reducer;\n    }, '_id,owner,modified');\n\n    return { select: selectString };\n  }\n  /* eslint-disable no-unused-vars */\n  async function getFormioInstance ({ submissionID = undefined }) {\n    let formUrl;\n    let AuthUser = JSON.parse(localStorage.getItem('authUser'));\n\n    if (AuthUser && AuthUser.x_jwt_token) {\n      Formio.setToken(AuthUser.x_jwt_token);\n    }\n\n    // Get the base URL\n    switch (path) {\n      case 'custom':\n        formUrl = await config.get().baseURL;\n        break;\n      case undefined:\n        formUrl = await config.get().url;\n        Formio.setToken('');\n        break;\n      default:\n        formUrl = await config.get().baseURL;\n        formUrl = formUrl + '/' + path;\n        break;\n    }\n\n    Formio.clearCache();\n    // Set URL in case of submission context\n    formUrl = submissionID ? formUrl + '/submission/' + submissionID : formUrl;\n    return new Formio(formUrl);\n  }\n\n  let all = async function () {\n    let remoteData, error;\n    let formio = await getFormioInstance({ path });\n\n    [error, remoteData] = await to(formio.loadForms());\n    if (error) {\n      console.log(error);\n      throw new Error('Cannot get data');\n    }\n\n    return remoteData;\n  };\n  /**\n   * [find description]\n   * @param  {[type]} filter [description]\n   * @return {[type]}        [description]\n   */\n\n  async function find ({ filter = undefined, limit = 30, select = undefined, populate = undefined, pagination }) {\n    let remoteSubmissions, error;\n    let formio = await getFormioInstance({ path: path });\n\n    let queryParams = {\n      limit: limit\n    };\n\n    if (filter && Array.isArray(filter)) {\n      let filterQuery = filterToString(filter);\n\n      queryParams = { ...queryParams, ...filterQuery };\n    }\n\n    if (select) {\n      let selectQuery = selectToString(select);\n\n      queryParams = { ...queryParams, ...selectQuery };\n    }\n\n    if (populate && Array.isArray(populate)) {\n      queryParams.populate = populate.join(',');\n    }\n\n    [error, remoteSubmissions] = await to(\n      formio.loadSubmissions({\n        params: queryParams\n      })\n    );\n    if (error) {\n      let path;\n\n      switch (path) {\n        case 'custom':\n          path = await config.get().baseURL;\n          break;\n        case undefined:\n          path = await config.get().url;\n          break;\n        default:\n          path = await config.get().baseURL;\n          path = path + '/' + path;\n          break;\n      }\n      let e = 'The API call to \"' + path + '\" could not be completed, server responded with ' + JSON.stringify(error);\n\n      throw new Error(e);\n    }\n\n    return remoteSubmissions;\n  }\n  /**\n   * [findOne description]\n   * @param  {[type]} filter [description]\n   * @return {[type]}        [description]\n   */\n  async function findOne ({ filter }) {}\n  /**\n   * [remove description]\n   * @param  {[type]} document [description]\n   * @return {[type]}          [description]\n   */\n  async function remove ({ id }) {\n    let formio = await getFormioInstance({ path: path, submissionID: id });\n    let a = await formio.deleteSubmission();\n  }\n\n  async function softDelete ({ id }) {\n    let formio = await getFormioInstance({ path: path, submissionID: id });\n    let original = await formio.loadSubmission();\n\n    original.data.enabled = false;\n    let data = original.data;\n    let softDeleted = await formio.saveSubmission({\n      _id: id,\n      data\n    });\n\n    return softDeleted;\n  }\n  /**\n   * [insert description]\n   * @param  {[type]} element [description]\n   * @return {[type]}         [description]\n   */\n  async function insert ({ element }) {\n    let formio = await getFormioInstance({ path: path });\n\n    Formio.deregisterPlugin('offline');\n    let sub = await formio.saveSubmission(element);\n\n    return sub;\n  }\n  /**\n   * [update description]\n   * @param  {[type]} document [description]\n   * @return {[type]}          [description]\n   */\n  async function update ({ document }) {\n    let formio = await getFormioInstance({ path: path });\n\n    Formio.deregisterPlugin('offline');\n    let sub = await formio.saveSubmission(document);\n\n    return sub;\n  }\n\n  async function updateOrCreate ({ document }) {}\n\n  async function findAndRemove ({ filter }) {}\n\n  return Object.freeze({\n    find,\n    findOne,\n    remove,\n    insert,\n    update,\n    updateOrCreate,\n    findAndRemove,\n    getFormioInstance,\n    softDelete,\n    all\n  });\n})();\n\nexport default remoteModel;\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/*!\r\n * EventEmitter2\r\n * https://github.com/hij1nx/EventEmitter2\r\n *\r\n * Copyright (c) 2013 hij1nx\r\n * Licensed under the MIT license.\r\n */\r\n;!function(undefined) {\r\n\r\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\r\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n  };\r\n  var defaultMaxListeners = 10;\r\n\r\n  function init() {\r\n    this._events = {};\r\n    if (this._conf) {\r\n      configure.call(this, this._conf);\r\n    }\r\n  }\r\n\r\n  function configure(conf) {\r\n    if (conf) {\r\n      this._conf = conf;\r\n\r\n      conf.delimiter && (this.delimiter = conf.delimiter);\r\n      this._maxListeners = conf.maxListeners !== undefined ? conf.maxListeners : defaultMaxListeners;\r\n\r\n      conf.wildcard && (this.wildcard = conf.wildcard);\r\n      conf.newListener && (this._newListener = conf.newListener);\r\n      conf.removeListener && (this._removeListener = conf.removeListener);\r\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\r\n\r\n      if (this.wildcard) {\r\n        this.listenerTree = {};\r\n      }\r\n    } else {\r\n      this._maxListeners = defaultMaxListeners;\r\n    }\r\n  }\r\n\r\n  function logPossibleMemoryLeak(count, eventName) {\r\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\r\n        'leak detected. ' + count + ' listeners added. ' +\r\n        'Use emitter.setMaxListeners() to increase limit.';\r\n\r\n    if(this.verboseMemoryLeak){\r\n      errorMsg += ' Event name: ' + eventName + '.';\r\n    }\r\n\r\n    if(typeof process !== 'undefined' && process.emitWarning){\r\n      var e = new Error(errorMsg);\r\n      e.name = 'MaxListenersExceededWarning';\r\n      e.emitter = this;\r\n      e.count = count;\r\n      process.emitWarning(e);\r\n    } else {\r\n      console.error(errorMsg);\r\n\r\n      if (console.trace){\r\n        console.trace();\r\n      }\r\n    }\r\n  }\r\n\r\n  function EventEmitter(conf) {\r\n    this._events = {};\r\n    this._newListener = false;\r\n    this._removeListener = false;\r\n    this.verboseMemoryLeak = false;\r\n    configure.call(this, conf);\r\n  }\r\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\r\n\r\n  //\r\n  // Attention, function return type now is array, always !\r\n  // It has zero elements if no any matches found and one or more\r\n  // elements (leafs) if there are matches\r\n  //\r\n  function searchListenerTree(handlers, type, tree, i) {\r\n    if (!tree) {\r\n      return [];\r\n    }\r\n    var listeners=[], leaf, len, branch, xTree, xxTree, isolatedBranch, endReached,\r\n        typeLength = type.length, currentType = type[i], nextType = type[i+1];\r\n    if (i === typeLength && tree._listeners) {\r\n      //\r\n      // If at the end of the event(s) list and the tree has listeners\r\n      // invoke those listeners.\r\n      //\r\n      if (typeof tree._listeners === 'function') {\r\n        handlers && handlers.push(tree._listeners);\r\n        return [tree];\r\n      } else {\r\n        for (leaf = 0, len = tree._listeners.length; leaf < len; leaf++) {\r\n          handlers && handlers.push(tree._listeners[leaf]);\r\n        }\r\n        return [tree];\r\n      }\r\n    }\r\n\r\n    if ((currentType === '*' || currentType === '**') || tree[currentType]) {\r\n      //\r\n      // If the event emitted is '*' at this part\r\n      // or there is a concrete match at this patch\r\n      //\r\n      if (currentType === '*') {\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+1));\r\n          }\r\n        }\r\n        return listeners;\r\n      } else if(currentType === '**') {\r\n        endReached = (i+1 === typeLength || (i+2 === typeLength && nextType === '*'));\r\n        if(endReached && tree._listeners) {\r\n          // The next element has a _listeners, add it to the handlers.\r\n          listeners = listeners.concat(searchListenerTree(handlers, type, tree, typeLength));\r\n        }\r\n\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            if(branch === '*' || branch === '**') {\r\n              if(tree[branch]._listeners && !endReached) {\r\n                listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], typeLength));\r\n              }\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            } else if(branch === nextType) {\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+2));\r\n            } else {\r\n              // No match on this one, shift into the tree but not in the type array.\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            }\r\n          }\r\n        }\r\n        return listeners;\r\n      }\r\n\r\n      listeners = listeners.concat(searchListenerTree(handlers, type, tree[currentType], i+1));\r\n    }\r\n\r\n    xTree = tree['*'];\r\n    if (xTree) {\r\n      //\r\n      // If the listener tree will allow any match for this part,\r\n      // then recursively explore all branches of the tree\r\n      //\r\n      searchListenerTree(handlers, type, xTree, i+1);\r\n    }\r\n\r\n    xxTree = tree['**'];\r\n    if(xxTree) {\r\n      if(i < typeLength) {\r\n        if(xxTree._listeners) {\r\n          // If we have a listener on a '**', it will catch all, so add its handler.\r\n          searchListenerTree(handlers, type, xxTree, typeLength);\r\n        }\r\n\r\n        // Build arrays of matching next branches and others.\r\n        for(branch in xxTree) {\r\n          if(branch !== '_listeners' && xxTree.hasOwnProperty(branch)) {\r\n            if(branch === nextType) {\r\n              // We know the next element will match, so jump twice.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+2);\r\n            } else if(branch === currentType) {\r\n              // Current node matches, move into the tree.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+1);\r\n            } else {\r\n              isolatedBranch = {};\r\n              isolatedBranch[branch] = xxTree[branch];\r\n              searchListenerTree(handlers, type, { '**': isolatedBranch }, i+1);\r\n            }\r\n          }\r\n        }\r\n      } else if(xxTree._listeners) {\r\n        // We have reached the end and still on a '**'\r\n        searchListenerTree(handlers, type, xxTree, typeLength);\r\n      } else if(xxTree['*'] && xxTree['*']._listeners) {\r\n        searchListenerTree(handlers, type, xxTree['*'], typeLength);\r\n      }\r\n    }\r\n\r\n    return listeners;\r\n  }\r\n\r\n  function growListenerTree(type, listener) {\r\n\r\n    type = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n\r\n    //\r\n    // Looks for two consecutive '**', if so, don't add the event at all.\r\n    //\r\n    for(var i = 0, len = type.length; i+1 < len; i++) {\r\n      if(type[i] === '**' && type[i+1] === '**') {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var tree = this.listenerTree;\r\n    var name = type.shift();\r\n\r\n    while (name !== undefined) {\r\n\r\n      if (!tree[name]) {\r\n        tree[name] = {};\r\n      }\r\n\r\n      tree = tree[name];\r\n\r\n      if (type.length === 0) {\r\n\r\n        if (!tree._listeners) {\r\n          tree._listeners = listener;\r\n        }\r\n        else {\r\n          if (typeof tree._listeners === 'function') {\r\n            tree._listeners = [tree._listeners];\r\n          }\r\n\r\n          tree._listeners.push(listener);\r\n\r\n          if (\r\n            !tree._listeners.warned &&\r\n            this._maxListeners > 0 &&\r\n            tree._listeners.length > this._maxListeners\r\n          ) {\r\n            tree._listeners.warned = true;\r\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n      name = type.shift();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // By default EventEmitters will print a warning if more than\r\n  // 10 listeners are added to it. This is a useful default which\r\n  // helps finding memory leaks.\r\n  //\r\n  // Obviously not all Emitters should be limited to 10. This function allows\r\n  // that to be increased. Set to zero for unlimited.\r\n\r\n  EventEmitter.prototype.delimiter = '.';\r\n\r\n  EventEmitter.prototype.setMaxListeners = function(n) {\r\n    if (n !== undefined) {\r\n      this._maxListeners = n;\r\n      if (!this._conf) this._conf = {};\r\n      this._conf.maxListeners = n;\r\n    }\r\n  };\r\n\r\n  EventEmitter.prototype.event = '';\r\n\r\n\r\n  EventEmitter.prototype.once = function(event, fn) {\r\n    return this._once(event, fn, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependOnceListener = function(event, fn) {\r\n    return this._once(event, fn, true);\r\n  };\r\n\r\n  EventEmitter.prototype._once = function(event, fn, prepend) {\r\n    this._many(event, 1, fn, prepend);\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.many = function(event, ttl, fn) {\r\n    return this._many(event, ttl, fn, false);\r\n  }\r\n\r\n  EventEmitter.prototype.prependMany = function(event, ttl, fn) {\r\n    return this._many(event, ttl, fn, true);\r\n  }\r\n\r\n  EventEmitter.prototype._many = function(event, ttl, fn, prepend) {\r\n    var self = this;\r\n\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('many only accepts instances of Function');\r\n    }\r\n\r\n    function listener() {\r\n      if (--ttl === 0) {\r\n        self.off(event, listener);\r\n      }\r\n      return fn.apply(this, arguments);\r\n    }\r\n\r\n    listener._origin = fn;\r\n\r\n    this._on(event, listener, prepend);\r\n\r\n    return self;\r\n  };\r\n\r\n  EventEmitter.prototype.emit = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this._newListener) {\r\n      if (!this._events.newListener) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all && this._all.length) {\r\n      handler = this._all.slice();\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 0; j < al; j++) args[j] = arguments[j];\r\n      }\r\n\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this, type);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, type, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, type, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n      if (typeof handler === 'function') {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler.call(this);\r\n          break;\r\n        case 2:\r\n          handler.call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler.call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          args = new Array(al - 1);\r\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n          handler.apply(this, args);\r\n        }\r\n        return true;\r\n      } else if (handler) {\r\n        // need to make copy of handlers because list can change in the middle\r\n        // of emit call\r\n        handler = handler.slice();\r\n      }\r\n    }\r\n\r\n    if (handler && handler.length) {\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n      return true;\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        throw arguments[1]; // Unhandled 'error' event\r\n      } else {\r\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n      return false;\r\n    }\r\n\r\n    return !!this._all;\r\n  };\r\n\r\n  EventEmitter.prototype.emitAsync = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this._newListener) {\r\n        if (!this._events.newListener) { return Promise.resolve([false]); }\r\n    }\r\n\r\n    var promises= [];\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all) {\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 1; j < al; j++) args[j] = arguments[j];\r\n      }\r\n      for (i = 0, l = this._all.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(this._all[i].call(this, type));\r\n          break;\r\n        case 2:\r\n          promises.push(this._all[i].call(this, type, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(this._all[i].apply(this, args));\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n    }\r\n\r\n    if (typeof handler === 'function') {\r\n      this.event = type;\r\n      switch (al) {\r\n      case 1:\r\n        promises.push(handler.call(this));\r\n        break;\r\n      case 2:\r\n        promises.push(handler.call(this, arguments[1]));\r\n        break;\r\n      case 3:\r\n        promises.push(handler.call(this, arguments[1], arguments[2]));\r\n        break;\r\n      default:\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n        promises.push(handler.apply(this, args));\r\n      }\r\n    } else if (handler && handler.length) {\r\n      handler = handler.slice();\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(handler[i].call(this));\r\n          break;\r\n        case 2:\r\n          promises.push(handler[i].call(this, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(handler[i].apply(this, args));\r\n        }\r\n      }\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\r\n      } else {\r\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n    }\r\n\r\n    return Promise.all(promises);\r\n  };\r\n\r\n  EventEmitter.prototype.on = function(type, listener) {\r\n    return this._on(type, listener, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependListener = function(type, listener) {\r\n    return this._on(type, listener, true);\r\n  };\r\n\r\n  EventEmitter.prototype.onAny = function(fn) {\r\n    return this._onAny(fn, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependAny = function(fn) {\r\n    return this._onAny(fn, true);\r\n  };\r\n\r\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n  EventEmitter.prototype._onAny = function(fn, prepend){\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('onAny only accepts instances of Function');\r\n    }\r\n\r\n    if (!this._all) {\r\n      this._all = [];\r\n    }\r\n\r\n    // Add the function to the event listener collection.\r\n    if(prepend){\r\n      this._all.unshift(fn);\r\n    }else{\r\n      this._all.push(fn);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  EventEmitter.prototype._on = function(type, listener, prepend) {\r\n    if (typeof type === 'function') {\r\n      this._onAny(type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('on only accepts instances of Function');\r\n    }\r\n    this._events || init.call(this);\r\n\r\n    // To avoid recursion in the case that type == \"newListeners\"! Before\r\n    // adding it to the listeners, first emit \"newListeners\".\r\n    if (this._newListener)\r\n       this.emit('newListener', type, listener);\r\n\r\n    if (this.wildcard) {\r\n      growListenerTree.call(this, type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (!this._events[type]) {\r\n      // Optimize the case of one listener. Don't need the extra array object.\r\n      this._events[type] = listener;\r\n    }\r\n    else {\r\n      if (typeof this._events[type] === 'function') {\r\n        // Change to array.\r\n        this._events[type] = [this._events[type]];\r\n      }\r\n\r\n      // If we've already got an array, just add\r\n      if(prepend){\r\n        this._events[type].unshift(listener);\r\n      }else{\r\n        this._events[type].push(listener);\r\n      }\r\n\r\n      // Check for listener leak\r\n      if (\r\n        !this._events[type].warned &&\r\n        this._maxListeners > 0 &&\r\n        this._events[type].length > this._maxListeners\r\n      ) {\r\n        this._events[type].warned = true;\r\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  EventEmitter.prototype.off = function(type, listener) {\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('removeListener only takes instances of Function');\r\n    }\r\n\r\n    var handlers,leafs=[];\r\n\r\n    if(this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n    }\r\n    else {\r\n      // does not use listeners(), so no side effect of creating _events[type]\r\n      if (!this._events[type]) return this;\r\n      handlers = this._events[type];\r\n      leafs.push({_listeners:handlers});\r\n    }\r\n\r\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n      var leaf = leafs[iLeaf];\r\n      handlers = leaf._listeners;\r\n      if (isArray(handlers)) {\r\n\r\n        var position = -1;\r\n\r\n        for (var i = 0, length = handlers.length; i < length; i++) {\r\n          if (handlers[i] === listener ||\r\n            (handlers[i].listener && handlers[i].listener === listener) ||\r\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\r\n            position = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (position < 0) {\r\n          continue;\r\n        }\r\n\r\n        if(this.wildcard) {\r\n          leaf._listeners.splice(position, 1);\r\n        }\r\n        else {\r\n          this._events[type].splice(position, 1);\r\n        }\r\n\r\n        if (handlers.length === 0) {\r\n          if(this.wildcard) {\r\n            delete leaf._listeners;\r\n          }\r\n          else {\r\n            delete this._events[type];\r\n          }\r\n        }\r\n        if (this._removeListener)\r\n          this.emit(\"removeListener\", type, listener);\r\n\r\n        return this;\r\n      }\r\n      else if (handlers === listener ||\r\n        (handlers.listener && handlers.listener === listener) ||\r\n        (handlers._origin && handlers._origin === listener)) {\r\n        if(this.wildcard) {\r\n          delete leaf._listeners;\r\n        }\r\n        else {\r\n          delete this._events[type];\r\n        }\r\n        if (this._removeListener)\r\n          this.emit(\"removeListener\", type, listener);\r\n      }\r\n    }\r\n\r\n    function recursivelyGarbageCollect(root) {\r\n      if (root === undefined) {\r\n        return;\r\n      }\r\n      var keys = Object.keys(root);\r\n      for (var i in keys) {\r\n        var key = keys[i];\r\n        var obj = root[key];\r\n        if ((obj instanceof Function) || (typeof obj !== \"object\") || (obj === null))\r\n          continue;\r\n        if (Object.keys(obj).length > 0) {\r\n          recursivelyGarbageCollect(root[key]);\r\n        }\r\n        if (Object.keys(obj).length === 0) {\r\n          delete root[key];\r\n        }\r\n      }\r\n    }\r\n    recursivelyGarbageCollect(this.listenerTree);\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.offAny = function(fn) {\r\n    var i = 0, l = 0, fns;\r\n    if (fn && this._all && this._all.length > 0) {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++) {\r\n        if(fn === fns[i]) {\r\n          fns.splice(i, 1);\r\n          if (this._removeListener)\r\n            this.emit(\"removeListenerAny\", fn);\r\n          return this;\r\n        }\r\n      }\r\n    } else {\r\n      fns = this._all;\r\n      if (this._removeListener) {\r\n        for(i = 0, l = fns.length; i < l; i++)\r\n          this.emit(\"removeListenerAny\", fns[i]);\r\n      }\r\n      this._all = [];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\r\n\r\n  EventEmitter.prototype.removeAllListeners = function(type) {\r\n    if (type === undefined) {\r\n      !this._events || init.call(this);\r\n      return this;\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      var leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n\r\n      for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n        var leaf = leafs[iLeaf];\r\n        leaf._listeners = null;\r\n      }\r\n    }\r\n    else if (this._events) {\r\n      this._events[type] = null;\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.listeners = function(type) {\r\n    if (this.wildcard) {\r\n      var handlers = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\r\n      return handlers;\r\n    }\r\n\r\n    this._events || init.call(this);\r\n\r\n    if (!this._events[type]) this._events[type] = [];\r\n    if (!isArray(this._events[type])) {\r\n      this._events[type] = [this._events[type]];\r\n    }\r\n    return this._events[type];\r\n  };\r\n\r\n  EventEmitter.prototype.eventNames = function(){\r\n    return Object.keys(this._events);\r\n  }\r\n\r\n  EventEmitter.prototype.listenerCount = function(type) {\r\n    return this.listeners(type).length;\r\n  };\r\n\r\n  EventEmitter.prototype.listenersAny = function() {\r\n\r\n    if(this._all) {\r\n      return this._all;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n\r\n  };\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n     // AMD. Register as an anonymous module.\r\n    define(function() {\r\n      return EventEmitter;\r\n    });\r\n  } else if (typeof exports === 'object') {\r\n    // CommonJS\r\n    module.exports = EventEmitter;\r\n  }\r\n  else {\r\n    // Browser global.\r\n    window.EventEmitter2 = EventEmitter;\r\n  }\r\n}();\r\n","exports.defaults = {};\r\n\r\nexports.set = function(name, value, options) {\r\n  // Retrieve options and defaults\r\n  var opts = options || {};\r\n  var defaults = exports.defaults;\r\n\r\n  // Apply default value for unspecified options\r\n  var expires  = opts.expires  || defaults.expires;\r\n  var domain   = opts.domain   || defaults.domain;\r\n  var path     = opts.path     !== undefined ? opts.path     : (defaults.path !== undefined ? defaults.path : '/');\r\n  var secure   = opts.secure   !== undefined ? opts.secure   : defaults.secure;\r\n  var httponly = opts.httponly !== undefined ? opts.httponly : defaults.httponly;\r\n  var samesite = opts.samesite !== undefined ? opts.samesite : defaults.samesite;\r\n\r\n  // Determine cookie expiration date\r\n  // If succesful the result will be a valid Date, otherwise it will be an invalid Date or false(ish)\r\n  var expDate = expires ? new Date(\r\n      // in case expires is an integer, it should specify the number of days till the cookie expires\r\n      typeof expires === 'number' ? new Date().getTime() + (expires * 864e5) :\r\n      // else expires should be either a Date object or in a format recognized by Date.parse()\r\n      expires\r\n  ) : 0;\r\n\r\n  // Set cookie\r\n  document.cookie = name.replace(/[^+#$&^`|]/g, encodeURIComponent)                // Encode cookie name\r\n  .replace('(', '%28')\r\n  .replace(')', '%29') +\r\n  '=' + value.replace(/[^+#$&/:<-\\[\\]-}]/g, encodeURIComponent) +                  // Encode cookie value (RFC6265)\r\n  (expDate && expDate.getTime() >= 0 ? ';expires=' + expDate.toUTCString() : '') + // Add expiration date\r\n  (domain   ? ';domain=' + domain     : '') +                                      // Add domain\r\n  (path     ? ';path='   + path       : '') +                                      // Add path\r\n  (secure   ? ';secure'               : '') +                                      // Add secure option\r\n  (httponly ? ';httponly'             : '') +                                      // Add httponly option\r\n  (samesite ? ';samesite=' + samesite : '');                                       // Add samesite option\r\n};\r\n\r\nexports.get = function(name) {\r\n  var cookies = document.cookie.split(';');\r\n  \r\n  // Iterate all cookies\r\n  while(cookies.length) {\r\n    var cookie = cookies.pop();\r\n\r\n    // Determine separator index (\"name=value\")\r\n    var separatorIndex = cookie.indexOf('=');\r\n\r\n    // IE<11 emits the equal sign when the cookie value is empty\r\n    separatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\n\r\n    var cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\r\n\r\n    // Return cookie value if the name matches\r\n    if (cookie_name === name) {\r\n      return decodeURIComponent(cookie.slice(separatorIndex + 1));\r\n    }\r\n  }\r\n\r\n  // Return `null` as the cookie was not found\r\n  return null;\r\n};\r\n\r\nexports.erase = function(name, options) {\r\n  exports.set(name, '', {\r\n    expires:  -1,\r\n    domain:   options && options.domain,\r\n    path:     options && options.path,\r\n    secure:   0,\r\n    httponly: 0}\r\n  );\r\n};\r\n\r\nexports.all = function() {\r\n  var all = {};\r\n  var cookies = document.cookie.split(';');\r\n\r\n  // Iterate all cookies\r\n  while(cookies.length) {\r\n    var cookie = cookies.pop();\r\n\r\n    // Determine separator index (\"name=value\")\r\n    var separatorIndex = cookie.indexOf('=');\r\n\r\n    // IE<11 emits the equal sign when the cookie value is empty\r\n    separatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\n\r\n    // add the cookie name and value to the `all` object\r\n    var cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\r\n    all[cookie_name] = decodeURIComponent(cookie.slice(separatorIndex + 1));\r\n  }\r\n\r\n  return all;\r\n};\r\n","module.exports = function (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    \n    var copy;\n    \n    if (isArray(obj)) {\n        var len = obj.length;\n        copy = Array(len);\n        for (var i = 0; i < len; i++) {\n            copy[i] = obj[i];\n        }\n    }\n    else {\n        var keys = objectKeys(obj);\n        copy = {};\n        \n        for (var i = 0, l = keys.length; i < l; i++) {\n            var key = keys[i];\n            copy[key] = obj[key];\n        }\n    }\n    return copy;\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var keys = [];\n    for (var key in obj) {\n        if ({}.hasOwnProperty.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return {}.toString.call(xs) === '[object Array]';\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"storage\", {\n  enumerable: true,\n  get: function get() {\n    return _storage2.default;\n  }\n});\n\nvar _storage2 = _interopRequireDefault(require(\"./storage\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _base = _interopRequireDefault(require(\"./base64\"));\n\nvar _dropbox = _interopRequireDefault(require(\"./dropbox\"));\n\nvar _s = _interopRequireDefault(require(\"./s3\"));\n\nvar _url = _interopRequireDefault(require(\"./url\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  base64: _base.default,\n  dropbox: _dropbox.default,\n  s3: _s.default,\n  url: _url.default\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar base64 = function base64() {\n  return {\n    title: 'Base64',\n    name: 'base64',\n    uploadFile: function uploadFile(file, fileName) {\n      var _this = this;\n\n      var reader = new FileReader();\n      return new _nativePromiseOnly.default(function (resolve, reject) {\n        reader.onload = function (event) {\n          var url = event.target.result;\n          resolve({\n            storage: 'base64',\n            name: fileName,\n            url: url,\n            size: file.size,\n            type: file.type,\n            data: url.replace(\"data:\".concat(file.type, \";base64,\"), '')\n          });\n        };\n\n        reader.onerror = function () {\n          return reject(_this);\n        };\n\n        reader.readAsDataURL(file);\n      });\n    },\n    downloadFile: function downloadFile(file) {\n      // Return the original as there is nothing to do.\n      return _nativePromiseOnly.default.resolve(file);\n    }\n  };\n};\n\nbase64.title = 'Base64';\nvar _default = base64;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dropbox = function dropbox(formio) {\n  return {\n    uploadFile: function uploadFile(file, fileName, dir, progressCallback) {\n      return new _nativePromiseOnly.default(function (resolve, reject) {\n        // Send the file with data.\n        var xhr = new XMLHttpRequest();\n\n        if (typeof progressCallback === 'function') {\n          xhr.upload.onprogress = progressCallback;\n        }\n\n        var fd = new FormData();\n        fd.append('name', fileName);\n        fd.append('dir', dir);\n        fd.append('file', file); // Fire on network error.\n\n        xhr.onerror = function (err) {\n          err.networkError = true;\n          reject(err);\n        };\n\n        xhr.onload = function () {\n          if (xhr.status >= 200 && xhr.status < 300) {\n            var response = JSON.parse(xhr.response);\n            response.storage = 'dropbox';\n            response.size = file.size;\n            response.type = file.type;\n            response.url = response.path_lower;\n            resolve(response);\n          } else {\n            reject(xhr.response || 'Unable to upload file');\n          }\n        };\n\n        xhr.onabort = reject;\n        xhr.open('POST', \"\".concat(formio.formUrl, \"/storage/dropbox\"));\n        var token = formio.getToken();\n\n        if (token) {\n          xhr.setRequestHeader('x-jwt-token', token);\n        }\n\n        xhr.send(fd);\n      });\n    },\n    downloadFile: function downloadFile(file) {\n      var token = formio.getToken();\n      file.url = \"\".concat(formio.formUrl, \"/storage/dropbox?path_lower=\").concat(file.path_lower).concat(token ? \"&x-jwt-token=\".concat(token) : '');\n      return _nativePromiseOnly.default.resolve(file);\n    }\n  };\n};\n\ndropbox.title = 'Dropbox';\nvar _default = dropbox;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nvar _trim2 = _interopRequireDefault(require(\"lodash/trim\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar trim = function trim(text) {\n  return (0, _trim2.default)(text, '/');\n};\n\nvar path = function path(items) {\n  return items.filter(function (item) {\n    return !!item;\n  }).map(trim).join('/');\n};\n\nvar s3 = function s3(formio) {\n  return {\n    uploadFile: function uploadFile(file, fileName, dir, progressCallback) {\n      return new _nativePromiseOnly.default(function (resolve, reject) {\n        // Send the pre response to sign the upload.\n        var pre = new XMLHttpRequest(); // This only fires on a network error.\n\n        pre.onerror = function (err) {\n          err.networkError = true;\n          reject(err);\n        };\n\n        pre.onabort = reject;\n\n        pre.onload = function () {\n          if (pre.status >= 200 && pre.status < 300) {\n            var response = JSON.parse(pre.response); // Send the file with data.\n\n            var xhr = new XMLHttpRequest();\n\n            if (typeof progressCallback === 'function') {\n              xhr.upload.onprogress = progressCallback;\n            }\n\n            response.data.fileName = fileName;\n            response.data.key = path([response.data.key, dir, fileName]); // Fire on network error.\n\n            xhr.onerror = function (err) {\n              err.networkError = true;\n              reject(err);\n            };\n\n            xhr.onload = function () {\n              if (xhr.status >= 200 && xhr.status < 300) {\n                resolve({\n                  storage: 's3',\n                  name: fileName,\n                  bucket: response.bucket,\n                  key: response.data.key,\n                  url: path([response.url, response.data.key]),\n                  acl: response.data.acl,\n                  size: file.size,\n                  type: file.type\n                });\n              } else {\n                reject(xhr.response || 'Unable to upload file');\n              }\n            };\n\n            xhr.onabort = reject;\n\n            if (response.signed) {\n              xhr.open('PUT', response.signed);\n              xhr.setRequestHeader('Content-Type', file.type);\n              xhr.send(file);\n            } else {\n              var fd = new FormData();\n\n              for (var key in response.data) {\n                fd.append(key, response.data[key]);\n              }\n\n              fd.append('file', file);\n              xhr.open('POST', response.url);\n              xhr.send(fd);\n            }\n          } else {\n            reject(pre.response || 'Unable to sign file');\n          }\n        };\n\n        pre.open('POST', \"\".concat(formio.formUrl, \"/storage/s3\"));\n        pre.setRequestHeader('Accept', 'application/json');\n        pre.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\n        var token = formio.getToken();\n\n        if (token) {\n          pre.setRequestHeader('x-jwt-token', token);\n        }\n\n        pre.send(JSON.stringify({\n          name: path([dir, fileName]),\n          size: file.size,\n          type: file.type\n        }));\n      });\n    },\n    downloadFile: function downloadFile(file) {\n      if (file.acl !== 'public-read') {\n        return formio.makeRequest('file', \"\".concat(formio.formUrl, \"/storage/s3?bucket=\").concat(trim(file.bucket), \"&key=\").concat(trim(file.key)), 'GET');\n      } else {\n        return _nativePromiseOnly.default.resolve(file);\n      }\n    }\n  };\n};\n\ns3.title = 'S3';\nvar _default = s3;\nexports.default = _default;","var baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    charsEndIndex = require('./_charsEndIndex'),\n    charsStartIndex = require('./_charsStartIndex'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nmodule.exports = trim;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\nmodule.exports = charsEndIndex;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\nmodule.exports = charsStartIndex;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar url = function url(formio) {\n  return {\n    title: 'Url',\n    name: 'url',\n    uploadFile: function uploadFile(file, fileName, dir, progressCallback, url) {\n      return new _nativePromiseOnly.default(function (resolve, reject) {\n        var data = {\n          dir: dir,\n          file: file,\n          name: fileName\n        }; // Send the file with data.\n\n        var xhr = new XMLHttpRequest();\n\n        if (typeof progressCallback === 'function') {\n          xhr.upload.onprogress = progressCallback;\n        }\n\n        var fd = new FormData();\n\n        for (var key in data) {\n          fd.append(key, data[key]);\n        }\n\n        xhr.onload = function () {\n          if (xhr.status >= 200 && xhr.status < 300) {\n            // Need to test if xhr.response is decoded or not.\n            var respData = {};\n\n            try {\n              respData = typeof xhr.response === 'string' ? JSON.parse(xhr.response) : {};\n              respData = respData && respData.data ? respData.data : respData;\n            } catch (err) {\n              respData = {};\n            }\n\n            var _url = respData.hasOwnProperty('url') ? respData.url : \"\".concat(xhr.responseURL, \"/\").concat(fileName);\n\n            resolve({\n              storage: 'url',\n              name: fileName,\n              url: _url,\n              size: file.size,\n              type: file.type,\n              data: respData\n            });\n          } else {\n            reject(xhr.response || 'Unable to upload file');\n          }\n        }; // Fire on network error.\n\n\n        xhr.onerror = function () {\n          return reject(xhr);\n        };\n\n        xhr.onabort = function () {\n          return reject(xhr);\n        };\n\n        xhr.open('POST', url);\n        var token = formio.getToken();\n\n        if (token) {\n          xhr.setRequestHeader('x-jwt-token', token);\n        }\n\n        xhr.send(fd);\n      });\n    },\n    downloadFile: function downloadFile(file) {\n      // Return the original as there is nothing to do.\n      return _nativePromiseOnly.default.resolve(file);\n    }\n  };\n};\n\nurl.title = 'Url';\nvar _default = url;\nexports.default = _default;","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","import Form from 'database/models/Form';\nimport Event from 'Wrappers/Event';\nimport Configuration from '../../database/models/Configuration';\nimport Utilities from 'utilities';\nimport moment from 'moment';\nlet RemoteForms = (() => {\n  function getLocalFormsDate (localForms) {\n    return Utilities.get(() => localForms[0].fastUpdated, 0);\n  }\n  async function setOfflineForms ({ appConf }) {\n    let localForms = await Form.local().find();\n\n    let localDate = getLocalFormsDate(localForms);\n    let config = await Configuration.getLocal();\n    let offlineForms = Utilities.get(() => appConf.offlineFiles.Forms);\n\n    if (config.fastUpdated >= localDate) {\n      if (localForms) {\n        await Form.local().clear();\n      }\n      offlineForms.forEach(async (form) => {\n        await Form.local().insert({ data: form, fastUpdated: moment().unix() });\n      });\n      return offlineForms;\n    }\n    return localForms;\n  }\n\n  async function setOnlineForms () {\n    let remoteForms = await Form.remote().find();\n    let unixDate = moment().unix();\n\n    if (remoteForms && !Utilities.isEmpty(remoteForms)) {\n      await Form.local().clear();\n      remoteForms.forEach(async function (form) {\n        await Form.local().insert({\n          data: form,\n          fastUpdated: unixDate\n        });\n      });\n    }\n    Event.emit({\n      name: 'FAST:FORMS:UPDATED',\n      data: remoteForms.length,\n      text: 'Forms were updated'\n    });\n  }\n\n  async function set ({ appConf, forceOnline }) {\n    if (appConf.offlineStart === 'true' && !forceOnline) {\n      return setOfflineForms({ appConf });\n    }\n    return setOnlineForms();\n  }\n  return Object.freeze({\n    set\n  });\n})();\n\nexport default RemoteForms;\n","import Sync from './Sync';\nimport Utilities from 'utilities';\n\nlet SyncInterval = (() => {\n  async function set (milliseconds) {\n    let rInterval = function (callback, delay) {\n      let dateNow = Date.now,\n        requestAnimation = window.requestAnimationFrame,\n        start = dateNow(),\n        stop,\n        intervalFunc = function () {\n          // eslint-disable-next-line no-use-before-define\n          dateNow() - start < delay || ((start += delay), callback());\n          // eslint-disable-next-line no-use-before-define\n          stop || requestAnimation(intervalFunc);\n        };\n\n      requestAnimation(intervalFunc);\n      return {\n        clear: function () {\n          stop = 1;\n        }\n      };\n    };\n\n    var _debouncedSync = Utilities.debounce(Sync.now, 2000);\n\n    rInterval(_debouncedSync, milliseconds);\n  }\n\n  return Object.freeze({\n    set\n  });\n})();\n\nexport default SyncInterval;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.evaluate = evaluate;\nexports.getRandomComponentId = getRandomComponentId;\nexports.getPropertyValue = getPropertyValue;\nexports.getElementRect = getElementRect;\nexports.boolValue = boolValue;\nexports.isMongoId = isMongoId;\nexports.isLayoutComponent = isLayoutComponent;\nexports.eachComponent = eachComponent;\nexports.matchComponent = matchComponent;\nexports.getComponent = getComponent;\nexports.findComponents = findComponents;\nexports.flattenComponents = flattenComponents;\nexports.hasCondition = hasCondition;\nexports.parseFloatExt = parseFloatExt;\nexports.formatAsCurrency = formatAsCurrency;\nexports.escapeRegExCharacters = escapeRegExCharacters;\nexports.checkCalculated = checkCalculated;\nexports.checkSimpleConditional = checkSimpleConditional;\nexports.checkCustomConditional = checkCustomConditional;\nexports.checkJsonConditional = checkJsonConditional;\nexports.checkCondition = checkCondition;\nexports.checkTrigger = checkTrigger;\nexports.setActionProperty = setActionProperty;\nexports.getValue = getValue;\nexports.interpolate = interpolate;\nexports.uniqueName = uniqueName;\nexports.guid = guid;\nexports.getDateSetting = getDateSetting;\nexports.isValidDate = isValidDate;\nexports.currentTimezone = currentTimezone;\nexports.offsetDate = offsetDate;\nexports.loadZones = loadZones;\nexports.timezoneText = timezoneText;\nexports.formatDate = formatDate;\nexports.formatOffset = formatOffset;\nexports.getLocaleDateFormatInfo = getLocaleDateFormatInfo;\nexports.convertFormatToFlatpickr = convertFormatToFlatpickr;\nexports.convertFormatToMoment = convertFormatToMoment;\nexports.convertFormatToMask = convertFormatToMask;\nexports.getInputMask = getInputMask;\nexports.matchInputMask = matchInputMask;\nexports.getNumberSeparators = getNumberSeparators;\nexports.getNumberDecimalLimit = getNumberDecimalLimit;\nexports.getCurrencyAffixes = getCurrencyAffixes;\nexports.fieldData = fieldData;\nexports.delay = delay;\nexports.iterateKey = iterateKey;\nexports.uniqueKey = uniqueKey;\nexports.bootstrapVersion = bootstrapVersion;\nObject.defineProperty(exports, \"jsonLogic\", {\n  enumerable: true,\n  get: function get() {\n    return _jsonLogicJs.default;\n  }\n});\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nrequire(\"whatwg-fetch\");\n\nvar _jsonLogicJs = _interopRequireDefault(require(\"json-logic-js\"));\n\nvar _momentTimezone = _interopRequireDefault(require(\"moment-timezone/moment-timezone\"));\n\nvar _jstimezonedetect = _interopRequireDefault(require(\"jstimezonedetect\"));\n\nvar _operators = require(\"./jsonlogic/operators\");\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n// Configure JsonLogic\n_operators.lodashOperators.forEach(function (name) {\n  return _jsonLogicJs.default.add_operation(\"_\".concat(name), _lodash.default[name]);\n}); // Retrieve Any Date\n\n\n_jsonLogicJs.default.add_operation('getDate', function (date) {\n  return (0, _momentTimezone.default)(date).toISOString();\n}); // Set Relative Minimum Date\n\n\n_jsonLogicJs.default.add_operation('relativeMinDate', function (relativeMinDate) {\n  return (0, _momentTimezone.default)().subtract(relativeMinDate, 'days').toISOString();\n}); // Set Relative Maximum Date\n\n\n_jsonLogicJs.default.add_operation('relativeMaxDate', function (relativeMaxDate) {\n  return (0, _momentTimezone.default)().add(relativeMaxDate, 'days').toISOString();\n});\n\n/**\n * Evaluate a method.\n *\n * @param func\n * @param args\n * @return {*}\n */\nfunction evaluate(func, args, ret, tokenize) {\n  var returnVal = null;\n  var component = args.component ? args.component : {\n    key: 'unknown'\n  };\n\n  if (!args.form && args.instance) {\n    args.form = _lodash.default.get(args.instance, 'root._form', {});\n  }\n\n  if (typeof func === 'string') {\n    if (ret) {\n      func += \";return \".concat(ret);\n    }\n\n    var params = _lodash.default.keys(args);\n\n    if (tokenize) {\n      // Replace all {{ }} references with actual data.\n      func = func.replace(/({{\\s+(.*)\\s+}})/, function (match, $1, $2) {\n        if ($2.indexOf('data.') === 0) {\n          return _lodash.default.get(args.data, $2.replace('data.', ''));\n        } else if ($2.indexOf('row.') === 0) {\n          return _lodash.default.get(args.row, $2.replace('row.', ''));\n        } // Support legacy...\n\n\n        return _lodash.default.get(args.data, $2);\n      });\n    }\n\n    try {\n      func = _construct(Function, _toConsumableArray(params).concat([func]));\n      args = _lodash.default.values(args);\n    } catch (err) {\n      console.warn(\"An error occured within the custom function for \".concat(component.key), err);\n      returnVal = null;\n      func = false;\n    }\n  }\n\n  if (typeof func === 'function') {\n    try {\n      returnVal = Array.isArray(args) ? func.apply(void 0, _toConsumableArray(args)) : func(args);\n    } catch (err) {\n      returnVal = null;\n      console.warn(\"An error occured within custom function for \".concat(component.key), err);\n    }\n  } else if (_typeof(func) === 'object') {\n    try {\n      returnVal = _jsonLogicJs.default.apply(func, args);\n    } catch (err) {\n      returnVal = null;\n      console.warn(\"An error occured within custom function for \".concat(component.key), err);\n    }\n  } else if (func) {\n    console.warn(\"Unknown function type for \".concat(component.key));\n  }\n\n  return returnVal;\n}\n\nfunction getRandomComponentId() {\n  return \"e\".concat(Math.random().toString(36).substring(7));\n}\n/**\n * Get a property value of an element.\n *\n * @param style\n * @param prop\n * @return {number}\n */\n\n\nfunction getPropertyValue(style, prop) {\n  var value = style.getPropertyValue(prop);\n  value = value ? value.replace(/[^0-9.]/g, '') : '0';\n  return parseFloat(value);\n}\n/**\n * Get an elements bounding rectagle.\n *\n * @param element\n * @return {{x: string, y: string, width: string, height: string}}\n */\n\n\nfunction getElementRect(element) {\n  var style = window.getComputedStyle(element, null);\n  return {\n    x: getPropertyValue(style, 'left'),\n    y: getPropertyValue(style, 'top'),\n    width: getPropertyValue(style, 'width'),\n    height: getPropertyValue(style, 'height')\n  };\n}\n/**\n * Determines the boolean value of a setting.\n *\n * @param value\n * @return {boolean}\n */\n\n\nfunction boolValue(value) {\n  if (_lodash.default.isBoolean(value)) {\n    return value;\n  } else if (_lodash.default.isString(value)) {\n    return value.toLowerCase() === 'true';\n  } else {\n    return !!value;\n  }\n}\n/**\n * Check to see if an ID is a mongoID.\n * @param text\n * @return {Array|{index: number, input: string}|Boolean|*}\n */\n\n\nfunction isMongoId(text) {\n  return text.toString().match(/^[0-9a-fA-F]{24}$/);\n}\n/**\n * Determine if a component is a layout component or not.\n *\n * @param {Object} component\n *   The component to check.\n *\n * @returns {Boolean}\n *   Whether or not the component is a layout component.\n */\n\n\nfunction isLayoutComponent(component) {\n  return Boolean(component.columns && Array.isArray(component.columns) || component.rows && Array.isArray(component.rows) || component.components && Array.isArray(component.components));\n}\n/**\n * Iterate through each component within a form.\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {Function} fn\n *   The iteration function to invoke for each component.\n * @param {Boolean} includeAll\n *   Whether or not to include layout components.\n * @param {String} path\n *   The current data path of the element. Example: data.user.firstName\n * @param {Object} parent\n *   The parent object.\n */\n\n\nfunction eachComponent(components, fn, includeAll, path, parent) {\n  if (!components) return;\n  path = path || '';\n  components.forEach(function (component) {\n    if (!component) {\n      return;\n    }\n\n    var hasColumns = component.columns && Array.isArray(component.columns);\n    var hasRows = component.rows && Array.isArray(component.rows);\n    var hasComps = component.components && Array.isArray(component.components);\n    var noRecurse = false;\n    var newPath = component.key ? path ? \"\".concat(path, \".\").concat(component.key) : component.key : ''; // Keep track of parent references.\n\n    if (parent) {\n      // Ensure we don't create infinite JSON structures.\n      component.parent = _lodash.default.clone(parent);\n      delete component.parent.components;\n      delete component.parent.componentMap;\n      delete component.parent.columns;\n      delete component.parent.rows;\n    }\n\n    if (includeAll || component.tree || !hasColumns && !hasRows && !hasComps) {\n      noRecurse = fn(component, newPath);\n    }\n\n    var subPath = function subPath() {\n      if (component.key && !['panel', 'table', 'well', 'columns', 'fieldset', 'tabs', 'form'].includes(component.type) && (['datagrid', 'container', 'editgrid'].includes(component.type) || component.tree)) {\n        return newPath;\n      } else if (component.key && component.type === 'form') {\n        return \"\".concat(newPath, \".data\");\n      }\n\n      return path;\n    };\n\n    if (!noRecurse) {\n      if (hasColumns) {\n        component.columns.forEach(function (column) {\n          return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n        });\n      } else if (hasRows) {\n        component.rows.forEach(function (row) {\n          if (Array.isArray(row)) {\n            row.forEach(function (column) {\n              return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n            });\n          }\n        });\n      } else if (hasComps) {\n        eachComponent(component.components, fn, includeAll, subPath(), parent ? component : null);\n      }\n    }\n  });\n}\n/**\n * Matches if a component matches the query.\n *\n * @param component\n * @param query\n * @return {boolean}\n */\n\n\nfunction matchComponent(component, query) {\n  if (_lodash.default.isString(query)) {\n    return component.key === query;\n  } else {\n    var matches = false;\n\n    _lodash.default.forOwn(query, function (value, key) {\n      matches = _lodash.default.get(component, key) === value;\n\n      if (!matches) {\n        return false;\n      }\n    });\n\n    return matches;\n  }\n}\n/**\n * Get a component by its key\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {String|Object} key\n *   The key of the component to get, or a query of the component to search.\n *\n * @returns {Object}\n *   The component that matches the given key, or undefined if not found.\n */\n\n\nfunction getComponent(components, key, includeAll) {\n  var result;\n  eachComponent(components, function (component, path) {\n    if (path === key) {\n      component.path = path;\n      result = component;\n      return true;\n    }\n  }, includeAll);\n  return result;\n}\n/**\n * Finds a component provided a query of properties of that component.\n *\n * @param components\n * @param query\n * @return {*}\n */\n\n\nfunction findComponents(components, query) {\n  var results = [];\n  eachComponent(components, function (component, path) {\n    if (matchComponent(component, query)) {\n      component.path = path;\n      results.push(component);\n    }\n  }, true);\n  return results;\n}\n/**\n * Flatten the form components for data manipulation.\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {Boolean} includeAll\n *   Whether or not to include layout components.\n *\n * @returns {Object}\n *   The flattened components map.\n */\n\n\nfunction flattenComponents(components, includeAll) {\n  var flattened = {};\n  eachComponent(components, function (component, path) {\n    flattened[path] = component;\n  }, includeAll);\n  return flattened;\n}\n/**\n * Returns if this component has a conditional statement.\n *\n * @param component - The component JSON schema.\n *\n * @returns {boolean} - TRUE - This component has a conditional, FALSE - No conditional provided.\n */\n\n\nfunction hasCondition(component) {\n  return Boolean(component.customConditional || component.conditional && component.conditional.when || component.conditional && component.conditional.json);\n}\n/**\n * Extension of standard #parseFloat(value) function, that also clears input string.\n *\n * @param {any} value\n *   The value to parse.\n *\n * @returns {Number}\n *   Parsed value.\n */\n\n\nfunction parseFloatExt(value) {\n  return parseFloat(_lodash.default.isString(value) ? value.replace(/[^\\de.+-]/gi, '') : value);\n}\n/**\n * Formats provided value in way how Currency component uses it.\n *\n * @param {any} value\n *   The value to format.\n *\n * @returns {String}\n *   Value formatted for Currency component.\n */\n\n\nfunction formatAsCurrency(value) {\n  var parsedValue = parseFloatExt(value);\n\n  if (_lodash.default.isNaN(parsedValue)) {\n    return '';\n  }\n\n  var parts = _lodash.default.round(parsedValue, 2).toString().split('.');\n\n  parts[0] = _lodash.default.chunk(Array.from(parts[0]).reverse(), 3).reverse().map(function (part) {\n    return part.reverse().join('');\n  }).join(',');\n  parts[1] = _lodash.default.pad(parts[1], 2, '0');\n  return parts.join('.');\n}\n/**\n * Escapes RegEx characters in provided String value.\n *\n * @param {String} value\n *   String for escaping RegEx characters.\n * @returns {string}\n *   String with escaped RegEx characters.\n */\n\n\nfunction escapeRegExCharacters(value) {\n  return value.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n}\n/**\n * Checks the calculated value for a provided component and data.\n *\n * @param {Object} component\n *   The component to check for the calculated value.\n * @param {Object} submission\n *   A submission object.\n * @param data\n *   The full submission data.\n */\n\n\nfunction checkCalculated(component, submission, rowData) {\n  // Process calculated value stuff if present.\n  if (component.calculateValue) {\n    _lodash.default.set(rowData, component.key, evaluate(component.calculateValue, {\n      value: undefined,\n      data: submission ? submission.data : rowData,\n      row: rowData,\n      util: this,\n      component: component\n    }, 'value'));\n  }\n}\n/**\n * Check if a simple conditional evaluates to true.\n *\n * @param condition\n * @param condition\n * @param row\n * @param data\n * @returns {boolean}\n */\n\n\nfunction checkSimpleConditional(component, condition, row, data) {\n  var value = null;\n\n  if (row) {\n    value = getValue({\n      data: row\n    }, condition.when);\n  }\n\n  if (data && _lodash.default.isNil(value)) {\n    value = getValue({\n      data: data\n    }, condition.when);\n  } // FOR-400 - Fix issue where falsey values were being evaluated as show=true\n\n\n  if (_lodash.default.isNil(value)) {\n    value = '';\n  }\n\n  var eq = String(condition.eq);\n  var show = String(condition.show); // Special check for selectboxes component.\n\n  if (_lodash.default.isObject(value) && _lodash.default.has(value, condition.eq)) {\n    return String(value[condition.eq]) === show;\n  } // FOR-179 - Check for multiple values.\n\n\n  if (Array.isArray(value) && value.map(String).includes(eq)) {\n    return show === 'true';\n  }\n\n  return String(value) === eq === (show === 'true');\n}\n/**\n * Check custom javascript conditional.\n *\n * @param component\n * @param custom\n * @param row\n * @param data\n * @returns {*}\n */\n\n\nfunction checkCustomConditional(component, custom, row, data, form, variable, onError, instance) {\n  if (typeof custom === 'string') {\n    custom = \"var \".concat(variable, \" = true; \").concat(custom, \"; return \").concat(variable, \";\");\n  }\n\n  var value = instance && instance.evaluate ? instance.evaluate(custom) : evaluate(custom, {\n    row: row,\n    data: data,\n    form: form\n  });\n\n  if (value === null) {\n    return onError;\n  }\n\n  return value;\n}\n\nfunction checkJsonConditional(component, json, row, data, form, onError) {\n  try {\n    return _jsonLogicJs.default.apply(json, {\n      data: data,\n      row: row,\n      form: form,\n      _: _lodash.default\n    });\n  } catch (err) {\n    console.warn(\"An error occurred in jsonLogic advanced condition for \".concat(component.key), err);\n    return onError;\n  }\n}\n/**\n * Checks the conditions for a provided component and data.\n *\n * @param component\n *   The component to check for the condition.\n * @param row\n *   The data within a row\n * @param data\n *   The full submission data.\n *\n * @returns {boolean}\n */\n\n\nfunction checkCondition(component, row, data, form, instance) {\n  if (component.customConditional) {\n    return checkCustomConditional(component, component.customConditional, row, data, form, 'show', true, instance);\n  } else if (component.conditional && component.conditional.when) {\n    return checkSimpleConditional(component, component.conditional, row, data, true);\n  } else if (component.conditional && component.conditional.json) {\n    return checkJsonConditional(component, component.conditional.json, row, data, form, instance);\n  } // Default to show.\n\n\n  return true;\n}\n/**\n * Test a trigger on a component.\n *\n * @param component\n * @param action\n * @param data\n * @param row\n * @returns {mixed}\n */\n\n\nfunction checkTrigger(component, trigger, row, data, form, instance) {\n  switch (trigger.type) {\n    case 'simple':\n      return checkSimpleConditional(component, trigger.simple, row, data);\n\n    case 'javascript':\n      return checkCustomConditional(component, trigger.javascript, row, data, form, 'result', false, instance);\n\n    case 'json':\n      return checkJsonConditional(component, trigger.json, row, data, form, false);\n  } // If none of the types matched, don't fire the trigger.\n\n\n  return false;\n}\n\nfunction setActionProperty(component, action, row, data, result, instance) {\n  switch (action.property.type) {\n    case 'boolean':\n      if (_lodash.default.get(component, action.property.value, false).toString() !== action.state.toString()) {\n        _lodash.default.set(component, action.property.value, action.state.toString() === 'true');\n      }\n\n      break;\n\n    case 'string':\n      {\n        var evalData = {\n          data: data,\n          row: row,\n          component: component,\n          result: result\n        };\n        var newValue = instance && instance.interpolate ? instance.interpolate(action.text, evalData) : interpolate(action.text, evalData);\n\n        if (newValue !== _lodash.default.get(component, action.property.value, '')) {\n          _lodash.default.set(component, action.property.value, newValue);\n        }\n\n        break;\n      }\n  }\n\n  return component;\n}\n/**\n * Get the value for a component key, in the given submission.\n *\n * @param {Object} submission\n *   A submission object to search.\n * @param {String} key\n *   A for components API key to search for.\n */\n\n\nfunction getValue(submission, key) {\n  var search = function search(data) {\n    if (_lodash.default.isPlainObject(data)) {\n      if (_lodash.default.has(data, key)) {\n        return data[key];\n      }\n\n      var value = null;\n\n      _lodash.default.forOwn(data, function (prop) {\n        var result = search(prop);\n\n        if (!_lodash.default.isNil(result)) {\n          value = result;\n          return false;\n        }\n      });\n\n      return value;\n    } else {\n      return null;\n    }\n  };\n\n  return search(submission.data);\n}\n/**\n * Interpolate a string and add data replacements.\n *\n * @param string\n * @param data\n * @returns {XML|string|*|void}\n */\n\n\nfunction interpolate(string, data) {\n  var templateSettings = {\n    evaluate: /\\{%(.+?)%\\}/g,\n    interpolate: /\\{\\{(.+?)\\}\\}/g,\n    escape: /\\{\\{\\{(.+?)\\}\\}\\}/g\n  };\n\n  try {\n    return _lodash.default.template(string, templateSettings)(data);\n  } catch (err) {\n    console.warn('Error interpolating template', err, string, data);\n  }\n}\n/**\n * Make a filename guaranteed to be unique.\n * @param name\n * @returns {string}\n */\n\n\nfunction uniqueName(name) {\n  var parts = name.toLowerCase().replace(/[^0-9a-z.]/g, '').split('.');\n  var fileName = parts[0];\n  var ext = parts.length > 1 ? \".\".concat(_lodash.default.last(parts)) : '';\n  return \"\".concat(fileName.substr(0, 10), \"-\").concat(guid()).concat(ext);\n}\n\nfunction guid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * Return a translated date setting.\n *\n * @param date\n * @return {*}\n */\n\n\nfunction getDateSetting(date) {\n  if (_lodash.default.isNil(date) || _lodash.default.isNaN(date) || date === '') {\n    return null;\n  }\n\n  if (date instanceof Date) {\n    return date;\n  } else if (typeof date.toDate === 'function') {\n    return date.isValid() ? date.toDate() : null;\n  }\n\n  var dateSetting = typeof date !== 'string' || date.indexOf('moment(') === -1 ? (0, _momentTimezone.default)(date) : null;\n\n  if (dateSetting && dateSetting.isValid()) {\n    return dateSetting.toDate();\n  }\n\n  dateSetting = null;\n\n  try {\n    var value = new Function('moment', \"return \".concat(date, \";\"))(_momentTimezone.default);\n\n    if (typeof value === 'string') {\n      dateSetting = (0, _momentTimezone.default)(value);\n    } else if (typeof value.toDate === 'function') {\n      dateSetting = (0, _momentTimezone.default)(value.toDate().toUTCString());\n    } else if (value instanceof Date) {\n      dateSetting = (0, _momentTimezone.default)(value);\n    }\n  } catch (e) {\n    return null;\n  }\n\n  if (!dateSetting) {\n    return null;\n  } // Ensure this is a date.\n\n\n  if (!dateSetting.isValid()) {\n    return null;\n  }\n\n  return dateSetting.toDate();\n}\n\nfunction isValidDate(date) {\n  return _lodash.default.isDate(date) && !_lodash.default.isNaN(date.getDate());\n}\n/**\n * Get the current timezone string.\n *\n * @return {string}\n */\n\n\nfunction currentTimezone() {\n  if (_momentTimezone.default.currentTimezone) {\n    return _momentTimezone.default.currentTimezone;\n  }\n\n  _momentTimezone.default.currentTimezone = _jstimezonedetect.default.determine().name();\n  return _momentTimezone.default.currentTimezone;\n}\n/**\n * Get an offset date provided a date object and timezone object.\n *\n * @param date\n * @param timezone\n * @return {Date}\n */\n\n\nfunction offsetDate(date, timezone) {\n  if (timezone === 'UTC') {\n    return {\n      date: new Date(date.getTime() + date.getTimezoneOffset() * 60000),\n      abbr: 'UTC'\n    };\n  }\n\n  var dateMoment = (0, _momentTimezone.default)(date).tz(timezone);\n  return {\n    date: new Date(date.getTime() + (dateMoment.utcOffset() + date.getTimezoneOffset()) * 60000),\n    abbr: dateMoment.format('z')\n  };\n}\n/**\n * Externally load the timezone data.\n *\n * @return {Promise<any> | *}\n */\n\n\nfunction loadZones(timezone) {\n  if (timezone === currentTimezone()) {\n    // Return non-resolving promise.\n    return new _nativePromiseOnly.default(_lodash.default.noop);\n  }\n\n  if (timezone === 'UTC') {\n    // Return non-resolving promise.\n    return new _nativePromiseOnly.default(_lodash.default.noop);\n  }\n\n  if (_momentTimezone.default.zonesPromise) {\n    return _momentTimezone.default.zonesPromise;\n  }\n\n  return _momentTimezone.default.zonesPromise = fetch('https://cdn.rawgit.com/moment/moment-timezone/develop/data/packed/latest.json').then(function (resp) {\n    return resp.json().then(function (zones) {\n      _momentTimezone.default.tz.load(zones);\n\n      _momentTimezone.default.zonesLoaded = true;\n    });\n  });\n}\n/**\n * Set the timezone text and replace once timezones have loaded.\n *\n * @param offsetFormat\n * @param stdFormat\n * @return {*}\n */\n\n\nfunction timezoneText(offsetFormat, stdFormat) {\n  loadZones();\n\n  if (_momentTimezone.default.zonesLoaded) {\n    return offsetFormat();\n  }\n\n  var id = getRandomComponentId();\n  var tries = 0;\n\n  _momentTimezone.default.zonesPromise.then(function replaceZone() {\n    var element = document.getElementById(id);\n\n    if (element) {\n      element.innerHTML = offsetFormat();\n    } else if (tries++ < 5) {\n      setTimeout(replaceZone, 100);\n    }\n  }); // For now just return the current format, and replace once zones are loaded.\n\n\n  return \"<span id='\".concat(id, \"'>\").concat(stdFormat(), \"</span>\");\n}\n/**\n * Format a date provided a value, format, and timezone object.\n *\n * @param value\n * @param format\n * @param timezone\n * @return {string}\n */\n\n\nfunction formatDate(value, format, timezone) {\n  var momentDate = (0, _momentTimezone.default)(value);\n\n  if (timezone === currentTimezone()) {\n    // See if our format contains a \"z\" timezone character.\n    if (format.match(/\\s(z$|z\\s)/)) {\n      // Return the timezoneText.\n      return timezoneText(function () {\n        return momentDate.tz(timezone).format(convertFormatToMoment(format));\n      }, function () {\n        return momentDate.format(convertFormatToMoment(format.replace(/\\s(z$|z\\s)/, '')));\n      });\n    } // Return the standard format.\n\n\n    return momentDate.format(convertFormatToMoment(format));\n  }\n\n  if (timezone === 'UTC') {\n    var offset = offsetDate(momentDate.toDate(), 'UTC');\n    return \"\".concat((0, _momentTimezone.default)(offset.date).format(convertFormatToMoment(format)), \" UTC\");\n  } // Return the timezoneText.\n\n\n  return timezoneText(function () {\n    return momentDate.tz(timezone).format(\"\".concat(convertFormatToMoment(format), \" z\"));\n  }, function () {\n    return momentDate.format(convertFormatToMoment(format));\n  });\n}\n/**\n * Pass a format function to format within a timezone.\n *\n * @param formatFn\n * @param date\n * @param format\n * @param timezone\n * @return {string}\n */\n\n\nfunction formatOffset(formatFn, date, format, timezone) {\n  if (timezone === currentTimezone()) {\n    return formatFn(date, format);\n  }\n\n  if (timezone === 'UTC') {\n    return \"\".concat(formatFn(offsetDate(date, 'UTC').date, format), \" UTC\");\n  } // Return the timezone text.\n\n\n  return timezoneText(function () {\n    var offset = offsetDate(date, timezone);\n    return \"\".concat(formatFn(offset.date, format), \" \").concat(offset.abbr);\n  }, function () {\n    return formatFn(date, format);\n  });\n}\n\nfunction getLocaleDateFormatInfo(locale) {\n  var formatInfo = {};\n  var day = 21;\n  var exampleDate = new Date(2017, 11, day);\n  var localDateString = exampleDate.toLocaleDateString(locale);\n  formatInfo.dayFirst = localDateString.slice(0, 2) === day.toString();\n  return formatInfo;\n}\n/**\n * Convert the format from the angular-datepicker module to flatpickr format.\n * @param format\n * @return {string}\n */\n\n\nfunction convertFormatToFlatpickr(format) {\n  return format // Remove the Z timezone offset, not supported by flatpickr.\n  .replace(/Z/g, '') // Year conversion.\n  .replace(/y/g, 'Y').replace('YYYY', 'Y').replace('YY', 'y') // Month conversion.\n  .replace('MMMM', 'F').replace(/M/g, 'n').replace('nnn', 'M').replace('nn', 'm') // Day in month.\n  .replace(/d/g, 'j').replace(/jj/g, 'd') // Day in week.\n  .replace('EEEE', 'l').replace('EEE', 'D') // Hours, minutes, seconds\n  .replace('HH', 'H').replace('hh', 'h').replace('mm', 'i').replace('ss', 'S').replace(/a/g, 'K');\n}\n/**\n * Convert the format from the angular-datepicker module to moment format.\n * @param format\n * @return {string}\n */\n\n\nfunction convertFormatToMoment(format) {\n  return format // Year conversion.\n  .replace(/y/g, 'Y') // Day in month.\n  .replace(/d/g, 'D') // Day in week.\n  .replace(/E/g, 'd') // AM/PM marker\n  .replace(/a/g, 'A');\n}\n\nfunction convertFormatToMask(format) {\n  return format // Short and long month replacement.\n  .replace(/(MMM|MMMM)/g, 'MM') // Year conversion\n  .replace(/[ydhmsHM]/g, '9') // AM/PM conversion\n  .replace(/a/g, 'AA');\n}\n/**\n * Returns an input mask that is compatible with the input mask library.\n * @param {string} mask - The Form.io input mask.\n * @returns {Array} - The input mask for the mask library.\n */\n\n\nfunction getInputMask(mask) {\n  if (mask instanceof Array) {\n    return mask;\n  }\n\n  var maskArray = [];\n  maskArray.numeric = true;\n\n  for (var i = 0; i < mask.length; i++) {\n    switch (mask[i]) {\n      case '9':\n        maskArray.push(/\\d/);\n        break;\n\n      case 'A':\n        maskArray.numeric = false;\n        maskArray.push(/[a-zA-Z]/);\n        break;\n\n      case 'a':\n        maskArray.numeric = false;\n        maskArray.push(/[a-z]/);\n        break;\n\n      case '*':\n        maskArray.numeric = false;\n        maskArray.push(/[a-zA-Z0-9]/);\n        break;\n\n      default:\n        maskArray.push(mask[i]);\n        break;\n    }\n  }\n\n  return maskArray;\n}\n\nfunction matchInputMask(value, inputMask) {\n  if (!inputMask) {\n    return true;\n  }\n\n  for (var i = 0; i < inputMask.length; i++) {\n    var char = value[i];\n    var charPart = inputMask[i];\n\n    if (!(_lodash.default.isRegExp(charPart) && charPart.test(char) || charPart === char)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getNumberSeparators() {\n  var lang = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n  var formattedNumberString = 12345.6789.toLocaleString(lang);\n  var delimeters = formattedNumberString.match(/..(.)...(.)../);\n\n  if (!delimeters) {\n    return {\n      delimiter: ',',\n      decimalSeparator: '.'\n    };\n  }\n\n  return {\n    delimiter: delimeters.length > 1 ? delimeters[1] : ',',\n    decimalSeparator: delimeters.length > 2 ? delimeters[2] : '.'\n  };\n}\n\nfunction getNumberDecimalLimit(component) {\n  // Determine the decimal limit. Defaults to 20 but can be overridden by validate.step or decimalLimit settings.\n  var decimalLimit = 20;\n\n  var step = _lodash.default.get(component, 'validate.step', 'any');\n\n  if (step !== 'any') {\n    var parts = step.toString().split('.');\n\n    if (parts.length > 1) {\n      decimalLimit = parts[1].length;\n    }\n  }\n\n  return decimalLimit;\n}\n\nfunction getCurrencyAffixes(_ref) {\n  var _ref$currency = _ref.currency,\n      currency = _ref$currency === void 0 ? 'USD' : _ref$currency,\n      decimalLimit = _ref.decimalLimit,\n      decimalSeparator = _ref.decimalSeparator,\n      lang = _ref.lang;\n  // Get the prefix and suffix from the localized string.\n  var regex = '(.*)?100';\n\n  if (decimalLimit) {\n    regex += \"\".concat(decimalSeparator === '.' ? '\\\\.' : decimalSeparator, \"0{\").concat(decimalLimit, \"}\");\n  }\n\n  regex += '(.*)?';\n  var parts = 100 .toLocaleString(lang, {\n    style: 'currency',\n    currency: currency,\n    useGrouping: true,\n    maximumFractionDigits: decimalLimit,\n    minimumFractionDigits: decimalLimit\n  }).replace('.', decimalSeparator).match(new RegExp(regex));\n  return {\n    prefix: parts[1] || '',\n    suffix: parts[2] || ''\n  };\n}\n/**\n * Fetch the field data provided a component.\n *\n * @param data\n * @param component\n * @return {*}\n */\n\n\nfunction fieldData(data, component) {\n  if (!data) {\n    return '';\n  }\n\n  if (!component || !component.key) {\n    return data;\n  }\n\n  if (component.key.includes('.')) {\n    var value = data;\n    var parts = component.key.split('.');\n    var key = '';\n\n    for (var i = 0; i < parts.length; i++) {\n      key = parts[i]; // Handle nested resources\n\n      if (value.hasOwnProperty('_id')) {\n        value = value.data;\n      } // Return if the key is not found on the value.\n\n\n      if (!value.hasOwnProperty(key)) {\n        return;\n      } // Convert old single field data in submissions to multiple\n\n\n      if (key === parts[parts.length - 1] && component.multiple && !Array.isArray(value[key])) {\n        value[key] = [value[key]];\n      } // Set the value of this key.\n\n\n      value = value[key];\n    }\n\n    return value;\n  } else {\n    // Convert old single field data in submissions to multiple\n    if (component.multiple && !Array.isArray(data[component.key])) {\n      data[component.key] = [data[component.key]];\n    }\n\n    return data[component.key];\n  }\n}\n/**\n * Delays function execution with possibility to execute function synchronously or cancel it.\n *\n * @param fn Function to delay\n * @param delay Delay time\n * @return {*}\n */\n\n\nfunction delay(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var timer = setTimeout.apply(void 0, [fn, delay].concat(args));\n\n  function cancel() {\n    clearTimeout(timer);\n  }\n\n  function earlyCall() {\n    cancel();\n    return fn.apply(void 0, args);\n  }\n\n  earlyCall.timer = timer;\n  earlyCall.cancel = cancel;\n  return earlyCall;\n}\n/**\n * Iterate the given key to make it unique.\n *\n * @param {String} key\n *   Modify the component key to be unique.\n *\n * @returns {String}\n *   The new component key.\n */\n\n\nfunction iterateKey(key) {\n  if (!key.match(/(\\d+)$/)) {\n    return \"\".concat(key, \"2\");\n  }\n\n  return key.replace(/(\\d+)$/, function (suffix) {\n    return Number(suffix) + 1;\n  });\n}\n/**\n * Determines a unique key within a map provided the base key.\n *\n * @param map\n * @param base\n * @return {*}\n */\n\n\nfunction uniqueKey(map, base) {\n  var newKey = base;\n\n  while (map.hasOwnProperty(newKey)) {\n    newKey = iterateKey(newKey);\n  }\n\n  return newKey;\n}\n/**\n * Determines the major version number of bootstrap.\n *\n * @return {number}\n */\n\n\nfunction bootstrapVersion() {\n  if (typeof $ === 'function' && typeof $().collapse === 'function') {\n    return parseInt($.fn.collapse.Constructor.VERSION.split('.')[0], 10);\n  }\n\n  return 0;\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__138__;","/* globals define,module */\n/*\nUsing a Universal Module Loader that should be browser, require, and AMD friendly\nhttp://ricostacruz.com/cheatsheets/umdjs.html\n*/\n;(function(root, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else if (typeof exports === \"object\") {\n    module.exports = factory();\n  } else {\n    root.jsonLogic = factory();\n  }\n}(this, function() {\n  \"use strict\";\n  /* globals console:false */\n\n  if ( ! Array.isArray) {\n    Array.isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === \"[object Array]\";\n    };\n  }\n\n  /**\n   * Return an array that contains no duplicates (original not modified)\n   * @param  {array} array   Original reference array\n   * @return {array}         New array with no duplicates\n   */\n  function arrayUnique(array) {\n    var a = [];\n    for (var i=0, l=array.length; i<l; i++) {\n      if (a.indexOf(array[i]) === -1) {\n        a.push(array[i]);\n      }\n    }\n    return a;\n  }\n\n  var jsonLogic = {};\n  var operations = {\n    \"==\": function(a, b) {\n      return a == b;\n    },\n    \"===\": function(a, b) {\n      return a === b;\n    },\n    \"!=\": function(a, b) {\n      return a != b;\n    },\n    \"!==\": function(a, b) {\n      return a !== b;\n    },\n    \">\": function(a, b) {\n      return a > b;\n    },\n    \">=\": function(a, b) {\n      return a >= b;\n    },\n    \"<\": function(a, b, c) {\n      return (c === undefined) ? a < b : (a < b) && (b < c);\n    },\n    \"<=\": function(a, b, c) {\n      return (c === undefined) ? a <= b : (a <= b) && (b <= c);\n    },\n    \"!!\": function(a) {\n      return jsonLogic.truthy(a);\n    },\n    \"!\": function(a) {\n      return !jsonLogic.truthy(a);\n    },\n    \"%\": function(a, b) {\n      return a % b;\n    },\n    \"log\": function(a) {\n      console.log(a); return a;\n    },\n    \"in\": function(a, b) {\n      if(!b || typeof b.indexOf === \"undefined\") return false;\n      return (b.indexOf(a) !== -1);\n    },\n    \"cat\": function() {\n      return Array.prototype.join.call(arguments, \"\");\n    },\n    \"substr\":function(source, start, end) {\n      if(end < 0){\n        // JavaScript doesn't support negative end, this emulates PHP behavior\n        var temp = String(source).substr(start);\n        return temp.substr(0, temp.length + end);\n      }\n      return String(source).substr(start, end);\n    },\n    \"+\": function() {\n      return Array.prototype.reduce.call(arguments, function(a, b) {\n        return parseFloat(a, 10) + parseFloat(b, 10);\n      }, 0);\n    },\n    \"*\": function() {\n      return Array.prototype.reduce.call(arguments, function(a, b) {\n        return parseFloat(a, 10) * parseFloat(b, 10);\n      });\n    },\n    \"-\": function(a, b) {\n      if(b === undefined) {\n        return -a;\n      }else{\n        return a - b;\n      }\n    },\n    \"/\": function(a, b) {\n      return a / b;\n    },\n    \"min\": function() {\n      return Math.min.apply(this, arguments);\n    },\n    \"max\": function() {\n      return Math.max.apply(this, arguments);\n    },\n    \"merge\": function() {\n      return Array.prototype.reduce.call(arguments, function(a, b) {\n        return a.concat(b);\n      }, []);\n    },\n    \"var\": function(a, b) {\n      var not_found = (b === undefined) ? null : b;\n      var data = this;\n      if(typeof a === \"undefined\" || a===\"\" || a===null) {\n        return data;\n      }\n      var sub_props = String(a).split(\".\");\n      for(var i = 0; i < sub_props.length; i++) {\n        if(data === null) {\n          return not_found;\n        }\n        // Descending into data\n        data = data[sub_props[i]];\n        if(data === undefined) {\n          return not_found;\n        }\n      }\n      return data;\n    },\n    \"missing\": function() {\n      /*\n      Missing can receive many keys as many arguments, like {\"missing:[1,2]}\n      Missing can also receive *one* argument that is an array of keys,\n      which typically happens if it's actually acting on the output of another command\n      (like 'if' or 'merge')\n      */\n\n      var missing = [];\n      var keys = Array.isArray(arguments[0]) ? arguments[0] : arguments;\n\n      for(var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var value = jsonLogic.apply({\"var\": key}, this);\n        if(value === null || value === \"\") {\n          missing.push(key);\n        }\n      }\n\n      return missing;\n    },\n    \"missing_some\": function(need_count, options) {\n      // missing_some takes two arguments, how many (minimum) items must be present, and an array of keys (just like 'missing') to check for presence.\n      var are_missing = jsonLogic.apply({\"missing\": options}, this);\n\n      if(options.length - are_missing.length >= need_count) {\n        return [];\n      }else{\n        return are_missing;\n      }\n    },\n    \"method\": function(obj, method, args) {\n      return obj[method].apply(obj, args);\n    },\n\n  };\n\n  jsonLogic.is_logic = function(logic) {\n    return (\n      typeof logic === \"object\" && // An object\n      logic !== null && // but not null\n      ! Array.isArray(logic) && // and not an array\n      Object.keys(logic).length === 1 // with exactly one key\n    );\n  };\n\n  /*\n  This helper will defer to the JsonLogic spec as a tie-breaker when different language interpreters define different behavior for the truthiness of primitives.  E.g., PHP considers empty arrays to be falsy, but Javascript considers them to be truthy. JsonLogic, as an ecosystem, needs one consistent answer.\n\n  Spec and rationale here: http://jsonlogic.com/truthy\n  */\n  jsonLogic.truthy = function(value) {\n    if(Array.isArray(value) && value.length === 0) {\n      return false;\n    }\n    return !! value;\n  };\n\n\n  jsonLogic.get_operator = function(logic) {\n    return Object.keys(logic)[0];\n  };\n\n  jsonLogic.get_values = function(logic) {\n    return logic[jsonLogic.get_operator(logic)];\n  };\n\n  jsonLogic.apply = function(logic, data) {\n    // Does this array contain logic? Only one way to find out.\n    if(Array.isArray(logic)) {\n      return logic.map(function(l) {\n        return jsonLogic.apply(l, data);\n      });\n    }\n    // You've recursed to a primitive, stop!\n    if( ! jsonLogic.is_logic(logic) ) {\n      return logic;\n    }\n\n    data = data || {};\n\n    var op = jsonLogic.get_operator(logic);\n    var values = logic[op];\n    var i;\n    var current;\n    var scopedLogic, scopedData, filtered, initial;\n\n    // easy syntax for unary operators, like {\"var\" : \"x\"} instead of strict {\"var\" : [\"x\"]}\n    if( ! Array.isArray(values)) {\n      values = [values];\n    }\n\n    // 'if', 'and', and 'or' violate the normal rule of depth-first calculating consequents, let each manage recursion as needed.\n    if(op === \"if\" || op == \"?:\") {\n      /* 'if' should be called with a odd number of parameters, 3 or greater\n      This works on the pattern:\n      if( 0 ){ 1 }else{ 2 };\n      if( 0 ){ 1 }else if( 2 ){ 3 }else{ 4 };\n      if( 0 ){ 1 }else if( 2 ){ 3 }else if( 4 ){ 5 }else{ 6 };\n\n      The implementation is:\n      For pairs of values (0,1 then 2,3 then 4,5 etc)\n      If the first evaluates truthy, evaluate and return the second\n      If the first evaluates falsy, jump to the next pair (e.g, 0,1 to 2,3)\n      given one parameter, evaluate and return it. (it's an Else and all the If/ElseIf were false)\n      given 0 parameters, return NULL (not great practice, but there was no Else)\n      */\n      for(i = 0; i < values.length - 1; i += 2) {\n        if( jsonLogic.truthy( jsonLogic.apply(values[i], data) ) ) {\n          return jsonLogic.apply(values[i+1], data);\n        }\n      }\n      if(values.length === i+1) return jsonLogic.apply(values[i], data);\n      return null;\n    }else if(op === \"and\") { // Return first falsy, or last\n      for(i=0; i < values.length; i+=1) {\n        current = jsonLogic.apply(values[i], data);\n        if( ! jsonLogic.truthy(current)) {\n          return current;\n        }\n      }\n      return current; // Last\n    }else if(op === \"or\") {// Return first truthy, or last\n      for(i=0; i < values.length; i+=1) {\n        current = jsonLogic.apply(values[i], data);\n        if( jsonLogic.truthy(current) ) {\n          return current;\n        }\n      }\n      return current; // Last\n\n\n\n\n    }else if(op === 'filter'){\n      scopedData = jsonLogic.apply(values[0], data);\n      scopedLogic = values[1];\n\n      if ( ! Array.isArray(scopedData)) {\n          return [];\n      }\n      // Return only the elements from the array in the first argument,\n      // that return truthy when passed to the logic in the second argument.\n      // For parity with JavaScript, reindex the returned array\n      return scopedData.filter(function(datum){\n          return jsonLogic.truthy( jsonLogic.apply(scopedLogic, datum));\n      });\n  }else if(op === 'map'){\n      scopedData = jsonLogic.apply(values[0], data);\n      scopedLogic = values[1];\n\n      if ( ! Array.isArray(scopedData)) {\n          return [];\n      }\n\n      return scopedData.map(function(datum){\n          return jsonLogic.apply(scopedLogic, datum);\n      });\n\n  }else if(op === 'reduce'){\n      scopedData = jsonLogic.apply(values[0], data);\n      scopedLogic = values[1];\n      initial = typeof values[2] !== 'undefined' ? values[2] : null;\n\n      if ( ! Array.isArray(scopedData)) {\n          return initial;\n      }\n\n      return scopedData.reduce(\n          function(accumulator, current){\n              return jsonLogic.apply(\n                  scopedLogic,\n                  {'current':current, 'accumulator':accumulator}\n              );\n          },\n          initial\n      );\n\n    }else if(op === \"all\") {\n      scopedData = jsonLogic.apply(values[0], data);\n      scopedLogic = values[1];\n      // All of an empty set is false. Note, some and none have correct fallback after the for loop\n      if( ! scopedData.length) {\n        return false;\n      }\n      for(i=0; i < scopedData.length; i+=1) {\n        if( ! jsonLogic.truthy( jsonLogic.apply(scopedLogic, scopedData[i]) )) {\n          return false; // First falsy, short circuit\n        }\n      }\n      return true; // All were truthy\n    }else if(op === \"none\") {\n      filtered = jsonLogic.apply({'filter' : values}, data);\n      return filtered.length === 0;\n\n    }else if(op === \"some\") {\n      filtered = jsonLogic.apply({'filter' : values}, data);\n      return filtered.length > 0;\n    }\n\n    // Everyone else gets immediate depth-first recursion\n    values = values.map(function(val) {\n      return jsonLogic.apply(val, data);\n    });\n\n\n    // The operation is called with \"data\" bound to its \"this\" and \"values\" passed as arguments.\n    // Structured commands like % or > can name formal arguments while flexible commands (like missing or merge) can operate on the pseudo-array arguments\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments\n    if(typeof operations[op] === \"function\") {\n      return operations[op].apply(data, values);\n    }else if(op.indexOf(\".\") > 0) { // Contains a dot, and not in the 0th position\n      var sub_ops = String(op).split(\".\");\n      var operation = operations;\n      for(i = 0; i < sub_ops.length; i++) {\n        // Descending into operations\n        operation = operation[sub_ops[i]];\n        if(operation === undefined) {\n          throw new Error(\"Unrecognized operation \" + op +\n          \" (failed at \" + sub_ops.slice(0, i+1).join(\".\") + \")\");\n        }\n      }\n\n      return operation.apply(data, values);\n    }\n\n    throw new Error(\"Unrecognized operation \" + op );\n  };\n\n  jsonLogic.uses_data = function(logic) {\n    var collection = [];\n\n    if( jsonLogic.is_logic(logic) ) {\n      var op = jsonLogic.get_operator(logic);\n      var values = logic[op];\n\n      if( ! Array.isArray(values)) {\n        values = [values];\n      }\n\n      if(op === \"var\") {\n        // This doesn't cover the case where the arg to var is itself a rule.\n        collection.push(values[0]);\n      }else{\n        // Recursion!\n        values.map(function(val) {\n          collection.push.apply(collection, jsonLogic.uses_data(val) );\n        });\n      }\n    }\n\n    return arrayUnique(collection);\n  };\n\n  jsonLogic.add_operation = function(name, code) {\n    operations[name] = code;\n  };\n\n  jsonLogic.rm_operation = function(name) {\n    delete operations[name];\n  };\n\n  jsonLogic.rule_like = function(rule, pattern) {\n    // console.log(\"Is \". JSON.stringify(rule) . \" like \" . JSON.stringify(pattern) . \"?\");\n    if(pattern === rule) {\n      return true;\n    } // TODO : Deep object equivalency?\n    if(pattern === \"@\") {\n      return true;\n    } // Wildcard!\n    if(pattern === \"number\") {\n      return (typeof rule === \"number\");\n    }\n    if(pattern === \"string\") {\n      return (typeof rule === \"string\");\n    }\n    if(pattern === \"array\") {\n      // !logic test might be superfluous in JavaScript\n      return Array.isArray(rule) && ! jsonLogic.is_logic(rule);\n    }\n\n    if(jsonLogic.is_logic(pattern)) {\n      if(jsonLogic.is_logic(rule)) {\n        var pattern_op = jsonLogic.get_operator(pattern);\n        var rule_op = jsonLogic.get_operator(rule);\n\n        if(pattern_op === \"@\" || pattern_op === rule_op) {\n        // echo \"\\nOperators match, go deeper\\n\";\n          return jsonLogic.rule_like(\n            jsonLogic.get_values(rule, false),\n            jsonLogic.get_values(pattern, false)\n          );\n        }\n      }\n      return false; // pattern is logic, rule isn't, can't be eq\n    }\n\n    if(Array.isArray(pattern)) {\n      if(Array.isArray(rule)) {\n        if(pattern.length !== rule.length) {\n          return false;\n        }\n        /*\n          Note, array order MATTERS, because we're using this array test logic to consider arguments, where order can matter. (e.g., + is commutative, but '-' or 'if' or 'var' are NOT)\n        */\n        for(var i = 0; i < pattern.length; i += 1) {\n          // If any fail, we fail\n          if( ! jsonLogic.rule_like(rule[i], pattern[i])) {\n            return false;\n          }\n        }\n        return true; // If they *all* passed, we pass\n      }else{\n        return false; // Pattern is array, rule isn't\n      }\n    }\n\n    // Not logic, not array, not a === match for rule.\n    return false;\n  };\n\n  return jsonLogic;\n}));\n","//! moment-timezone.js\n//! version : 0.5.21\n//! Copyright (c) JS Foundation and other contributors\n//! license : MIT\n//! github.com/moment/moment-timezone\n\n(function (root, factory) {\n\t\"use strict\";\n\n\t/*global define*/\n\tif (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = factory(require('moment')); // Node\n\t} else if (typeof define === 'function' && define.amd) {\n\t\tdefine(['moment'], factory);                 // AMD\n\t} else {\n\t\tfactory(root.moment);                        // Browser\n\t}\n}(this, function (moment) {\n\t\"use strict\";\n\n\t// Do not load moment-timezone a second time.\n\t// if (moment.tz !== undefined) {\n\t// \tlogError('Moment Timezone ' + moment.tz.version + ' was already loaded ' + (moment.tz.dataVersion ? 'with data from ' : 'without any data') + moment.tz.dataVersion);\n\t// \treturn moment;\n\t// }\n\n\tvar VERSION = \"0.5.21\",\n\t\tzones = {},\n\t\tlinks = {},\n\t\tnames = {},\n\t\tguesses = {},\n\t\tcachedGuess;\n\n\tif (!moment || typeof moment.version !== 'string') {\n\t\tlogError('Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/');\n\t}\n\n\tvar momentVersion = moment.version.split('.'),\n\t\tmajor = +momentVersion[0],\n\t\tminor = +momentVersion[1];\n\n\t// Moment.js version check\n\tif (major < 2 || (major === 2 && minor < 6)) {\n\t\tlogError('Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js ' + moment.version + '. See momentjs.com');\n\t}\n\n\t/************************************\n\t\tUnpacking\n\t************************************/\n\n\tfunction charCodeToInt(charCode) {\n\t\tif (charCode > 96) {\n\t\t\treturn charCode - 87;\n\t\t} else if (charCode > 64) {\n\t\t\treturn charCode - 29;\n\t\t}\n\t\treturn charCode - 48;\n\t}\n\n\tfunction unpackBase60(string) {\n\t\tvar i = 0,\n\t\t\tparts = string.split('.'),\n\t\t\twhole = parts[0],\n\t\t\tfractional = parts[1] || '',\n\t\t\tmultiplier = 1,\n\t\t\tnum,\n\t\t\tout = 0,\n\t\t\tsign = 1;\n\n\t\t// handle negative numbers\n\t\tif (string.charCodeAt(0) === 45) {\n\t\t\ti = 1;\n\t\t\tsign = -1;\n\t\t}\n\n\t\t// handle digits before the decimal\n\t\tfor (i; i < whole.length; i++) {\n\t\t\tnum = charCodeToInt(whole.charCodeAt(i));\n\t\t\tout = 60 * out + num;\n\t\t}\n\n\t\t// handle digits after the decimal\n\t\tfor (i = 0; i < fractional.length; i++) {\n\t\t\tmultiplier = multiplier / 60;\n\t\t\tnum = charCodeToInt(fractional.charCodeAt(i));\n\t\t\tout += num * multiplier;\n\t\t}\n\n\t\treturn out * sign;\n\t}\n\n\tfunction arrayToInt (array) {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tarray[i] = unpackBase60(array[i]);\n\t\t}\n\t}\n\n\tfunction intToUntil (array, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tarray[i] = Math.round((array[i - 1] || 0) + (array[i] * 60000)); // minutes to milliseconds\n\t\t}\n\n\t\tarray[length - 1] = Infinity;\n\t}\n\n\tfunction mapIndices (source, indices) {\n\t\tvar out = [], i;\n\n\t\tfor (i = 0; i < indices.length; i++) {\n\t\t\tout[i] = source[indices[i]];\n\t\t}\n\n\t\treturn out;\n\t}\n\n\tfunction unpack (string) {\n\t\tvar data = string.split('|'),\n\t\t\toffsets = data[2].split(' '),\n\t\t\tindices = data[3].split(''),\n\t\t\tuntils  = data[4].split(' ');\n\n\t\tarrayToInt(offsets);\n\t\tarrayToInt(indices);\n\t\tarrayToInt(untils);\n\n\t\tintToUntil(untils, indices.length);\n\n\t\treturn {\n\t\t\tname       : data[0],\n\t\t\tabbrs      : mapIndices(data[1].split(' '), indices),\n\t\t\toffsets    : mapIndices(offsets, indices),\n\t\t\tuntils     : untils,\n\t\t\tpopulation : data[5] | 0\n\t\t};\n\t}\n\n\t/************************************\n\t\tZone object\n\t************************************/\n\n\tfunction Zone (packedString) {\n\t\tif (packedString) {\n\t\t\tthis._set(unpack(packedString));\n\t\t}\n\t}\n\n\tZone.prototype = {\n\t\t_set : function (unpacked) {\n\t\t\tthis.name       = unpacked.name;\n\t\t\tthis.abbrs      = unpacked.abbrs;\n\t\t\tthis.untils     = unpacked.untils;\n\t\t\tthis.offsets    = unpacked.offsets;\n\t\t\tthis.population = unpacked.population;\n\t\t},\n\n\t\t_index : function (timestamp) {\n\t\t\tvar target = +timestamp,\n\t\t\t\tuntils = this.untils,\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < untils.length; i++) {\n\t\t\t\tif (target < untils[i]) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tparse : function (timestamp) {\n\t\t\tvar target  = +timestamp,\n\t\t\t\toffsets = this.offsets,\n\t\t\t\tuntils  = this.untils,\n\t\t\t\tmax     = untils.length - 1,\n\t\t\t\toffset, offsetNext, offsetPrev, i;\n\n\t\t\tfor (i = 0; i < max; i++) {\n\t\t\t\toffset     = offsets[i];\n\t\t\t\toffsetNext = offsets[i + 1];\n\t\t\t\toffsetPrev = offsets[i ? i - 1 : i];\n\n\t\t\t\tif (offset < offsetNext && tz.moveAmbiguousForward) {\n\t\t\t\t\toffset = offsetNext;\n\t\t\t\t} else if (offset > offsetPrev && tz.moveInvalidForward) {\n\t\t\t\t\toffset = offsetPrev;\n\t\t\t\t}\n\n\t\t\t\tif (target < untils[i] - (offset * 60000)) {\n\t\t\t\t\treturn offsets[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn offsets[max];\n\t\t},\n\n\t\tabbr : function (mom) {\n\t\t\treturn this.abbrs[this._index(mom)];\n\t\t},\n\n\t\toffset : function (mom) {\n\t\t\tlogError(\"zone.offset has been deprecated in favor of zone.utcOffset\");\n\t\t\treturn this.offsets[this._index(mom)];\n\t\t},\n\n\t\tutcOffset : function (mom) {\n\t\t\treturn this.offsets[this._index(mom)];\n\t\t}\n\t};\n\n\t/************************************\n\t\tCurrent Timezone\n\t************************************/\n\n\tfunction OffsetAt(at) {\n\t\tvar timeString = at.toTimeString();\n\t\tvar abbr = timeString.match(/\\([a-z ]+\\)/i);\n\t\tif (abbr && abbr[0]) {\n\t\t\t// 17:56:31 GMT-0600 (CST)\n\t\t\t// 17:56:31 GMT-0600 (Central Standard Time)\n\t\t\tabbr = abbr[0].match(/[A-Z]/g);\n\t\t\tabbr = abbr ? abbr.join('') : undefined;\n\t\t} else {\n\t\t\t// 17:56:31 CST\n\t\t\t// 17:56:31 GMT+0800 (台北標準時間)\n\t\t\tabbr = timeString.match(/[A-Z]{3,5}/g);\n\t\t\tabbr = abbr ? abbr[0] : undefined;\n\t\t}\n\n\t\tif (abbr === 'GMT') {\n\t\t\tabbr = undefined;\n\t\t}\n\n\t\tthis.at = +at;\n\t\tthis.abbr = abbr;\n\t\tthis.offset = at.getTimezoneOffset();\n\t}\n\n\tfunction ZoneScore(zone) {\n\t\tthis.zone = zone;\n\t\tthis.offsetScore = 0;\n\t\tthis.abbrScore = 0;\n\t}\n\n\tZoneScore.prototype.scoreOffsetAt = function (offsetAt) {\n\t\tthis.offsetScore += Math.abs(this.zone.utcOffset(offsetAt.at) - offsetAt.offset);\n\t\tif (this.zone.abbr(offsetAt.at).replace(/[^A-Z]/g, '') !== offsetAt.abbr) {\n\t\t\tthis.abbrScore++;\n\t\t}\n\t};\n\n\tfunction findChange(low, high) {\n\t\tvar mid, diff;\n\n\t\twhile ((diff = ((high.at - low.at) / 12e4 | 0) * 6e4)) {\n\t\t\tmid = new OffsetAt(new Date(low.at + diff));\n\t\t\tif (mid.offset === low.offset) {\n\t\t\t\tlow = mid;\n\t\t\t} else {\n\t\t\t\thigh = mid;\n\t\t\t}\n\t\t}\n\n\t\treturn low;\n\t}\n\n\tfunction userOffsets() {\n\t\tvar startYear = new Date().getFullYear() - 2,\n\t\t\tlast = new OffsetAt(new Date(startYear, 0, 1)),\n\t\t\toffsets = [last],\n\t\t\tchange, next, i;\n\n\t\tfor (i = 1; i < 48; i++) {\n\t\t\tnext = new OffsetAt(new Date(startYear, i, 1));\n\t\t\tif (next.offset !== last.offset) {\n\t\t\t\tchange = findChange(last, next);\n\t\t\t\toffsets.push(change);\n\t\t\t\toffsets.push(new OffsetAt(new Date(change.at + 6e4)));\n\t\t\t}\n\t\t\tlast = next;\n\t\t}\n\n\t\tfor (i = 0; i < 4; i++) {\n\t\t\toffsets.push(new OffsetAt(new Date(startYear + i, 0, 1)));\n\t\t\toffsets.push(new OffsetAt(new Date(startYear + i, 6, 1)));\n\t\t}\n\n\t\treturn offsets;\n\t}\n\n\tfunction sortZoneScores (a, b) {\n\t\tif (a.offsetScore !== b.offsetScore) {\n\t\t\treturn a.offsetScore - b.offsetScore;\n\t\t}\n\t\tif (a.abbrScore !== b.abbrScore) {\n\t\t\treturn a.abbrScore - b.abbrScore;\n\t\t}\n\t\treturn b.zone.population - a.zone.population;\n\t}\n\n\tfunction addToGuesses (name, offsets) {\n\t\tvar i, offset;\n\t\tarrayToInt(offsets);\n\t\tfor (i = 0; i < offsets.length; i++) {\n\t\t\toffset = offsets[i];\n\t\t\tguesses[offset] = guesses[offset] || {};\n\t\t\tguesses[offset][name] = true;\n\t\t}\n\t}\n\n\tfunction guessesForUserOffsets (offsets) {\n\t\tvar offsetsLength = offsets.length,\n\t\t\tfilteredGuesses = {},\n\t\t\tout = [],\n\t\t\ti, j, guessesOffset;\n\n\t\tfor (i = 0; i < offsetsLength; i++) {\n\t\t\tguessesOffset = guesses[offsets[i].offset] || {};\n\t\t\tfor (j in guessesOffset) {\n\t\t\t\tif (guessesOffset.hasOwnProperty(j)) {\n\t\t\t\t\tfilteredGuesses[j] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (i in filteredGuesses) {\n\t\t\tif (filteredGuesses.hasOwnProperty(i)) {\n\t\t\t\tout.push(names[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t}\n\n\tfunction rebuildGuess () {\n\n\t\t// use Intl API when available and returning valid time zone\n\t\ttry {\n\t\t\tvar intlName = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\t\t\tif (intlName && intlName.length > 3) {\n\t\t\t\tvar name = names[normalizeName(intlName)];\n\t\t\t\tif (name) {\n\t\t\t\t\treturn name;\n\t\t\t\t}\n\t\t\t\tlogError(\"Moment Timezone found \" + intlName + \" from the Intl api, but did not have that data loaded.\");\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// Intl unavailable, fall back to manual guessing.\n\t\t}\n\n\t\tvar offsets = userOffsets(),\n\t\t\toffsetsLength = offsets.length,\n\t\t\tguesses = guessesForUserOffsets(offsets),\n\t\t\tzoneScores = [],\n\t\t\tzoneScore, i, j;\n\n\t\tfor (i = 0; i < guesses.length; i++) {\n\t\t\tzoneScore = new ZoneScore(getZone(guesses[i]), offsetsLength);\n\t\t\tfor (j = 0; j < offsetsLength; j++) {\n\t\t\t\tzoneScore.scoreOffsetAt(offsets[j]);\n\t\t\t}\n\t\t\tzoneScores.push(zoneScore);\n\t\t}\n\n\t\tzoneScores.sort(sortZoneScores);\n\n\t\treturn zoneScores.length > 0 ? zoneScores[0].zone.name : undefined;\n\t}\n\n\tfunction guess (ignoreCache) {\n\t\tif (!cachedGuess || ignoreCache) {\n\t\t\tcachedGuess = rebuildGuess();\n\t\t}\n\t\treturn cachedGuess;\n\t}\n\n\t/************************************\n\t\tGlobal Methods\n\t************************************/\n\n\tfunction normalizeName (name) {\n\t\treturn (name || '').toLowerCase().replace(/\\//g, '_');\n\t}\n\n\tfunction addZone (packed) {\n\t\tvar i, name, split, normalized;\n\n\t\tif (typeof packed === \"string\") {\n\t\t\tpacked = [packed];\n\t\t}\n\n\t\tfor (i = 0; i < packed.length; i++) {\n\t\t\tsplit = packed[i].split('|');\n\t\t\tname = split[0];\n\t\t\tnormalized = normalizeName(name);\n\t\t\tzones[normalized] = packed[i];\n\t\t\tnames[normalized] = name;\n\t\t\taddToGuesses(normalized, split[2].split(' '));\n\t\t}\n\t}\n\n\tfunction getZone (name, caller) {\n\t\t\n\t\tname = normalizeName(name);\n\n\t\tvar zone = zones[name];\n\t\tvar link;\n\n\t\tif (zone instanceof Zone) {\n\t\t\treturn zone;\n\t\t}\n\n\t\tif (typeof zone === 'string') {\n\t\t\tzone = new Zone(zone);\n\t\t\tzones[name] = zone;\n\t\t\treturn zone;\n\t\t}\n\n\t\t// Pass getZone to prevent recursion more than 1 level deep\n\t\tif (links[name] && caller !== getZone && (link = getZone(links[name], getZone))) {\n\t\t\tzone = zones[name] = new Zone();\n\t\t\tzone._set(link);\n\t\t\tzone.name = names[name];\n\t\t\treturn zone;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getNames () {\n\t\tvar i, out = [];\n\n\t\tfor (i in names) {\n\t\t\tif (names.hasOwnProperty(i) && (zones[i] || zones[links[i]]) && names[i]) {\n\t\t\t\tout.push(names[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn out.sort();\n\t}\n\n\tfunction addLink (aliases) {\n\t\tvar i, alias, normal0, normal1;\n\n\t\tif (typeof aliases === \"string\") {\n\t\t\taliases = [aliases];\n\t\t}\n\n\t\tfor (i = 0; i < aliases.length; i++) {\n\t\t\talias = aliases[i].split('|');\n\n\t\t\tnormal0 = normalizeName(alias[0]);\n\t\t\tnormal1 = normalizeName(alias[1]);\n\n\t\t\tlinks[normal0] = normal1;\n\t\t\tnames[normal0] = alias[0];\n\n\t\t\tlinks[normal1] = normal0;\n\t\t\tnames[normal1] = alias[1];\n\t\t}\n\t}\n\n\tfunction loadData (data) {\n\t\taddZone(data.zones);\n\t\taddLink(data.links);\n\t\ttz.dataVersion = data.version;\n\t}\n\n\tfunction zoneExists (name) {\n\t\tif (!zoneExists.didShowError) {\n\t\t\tzoneExists.didShowError = true;\n\t\t\t\tlogError(\"moment.tz.zoneExists('\" + name + \"') has been deprecated in favor of !moment.tz.zone('\" + name + \"')\");\n\t\t}\n\t\treturn !!getZone(name);\n\t}\n\n\tfunction needsOffset (m) {\n\t\tvar isUnixTimestamp = (m._f === 'X' || m._f === 'x');\n\t\treturn !!(m._a && (m._tzm === undefined) && !isUnixTimestamp);\n\t}\n\n\tfunction logError (message) {\n\t\tif (typeof console !== 'undefined' && typeof console.error === 'function') {\n\t\t\tconsole.error(message);\n\t\t}\n\t}\n\n\t/************************************\n\t\tmoment.tz namespace\n\t************************************/\n\n\tfunction tz (input) {\n\t\tvar args = Array.prototype.slice.call(arguments, 0, -1),\n\t\t\tname = arguments[arguments.length - 1],\n\t\t\tzone = getZone(name),\n\t\t\tout  = moment.utc.apply(null, args);\n\n\t\tif (zone && !moment.isMoment(input) && needsOffset(out)) {\n\t\t\tout.add(zone.parse(out), 'minutes');\n\t\t}\n\n\t\tout.tz(name);\n\n\t\treturn out;\n\t}\n\n\ttz.version      = VERSION;\n\ttz.dataVersion  = '';\n\ttz._zones       = zones;\n\ttz._links       = links;\n\ttz._names       = names;\n\ttz.add          = addZone;\n\ttz.link         = addLink;\n\ttz.load         = loadData;\n\ttz.zone         = getZone;\n\ttz.zoneExists   = zoneExists; // deprecated in 0.1.0\n\ttz.guess        = guess;\n\ttz.names        = getNames;\n\ttz.Zone         = Zone;\n\ttz.unpack       = unpack;\n\ttz.unpackBase60 = unpackBase60;\n\ttz.needsOffset  = needsOffset;\n\ttz.moveInvalidForward   = true;\n\ttz.moveAmbiguousForward = false;\n\n\t/************************************\n\t\tInterface with Moment.js\n\t************************************/\n\n\tvar fn = moment.fn;\n\n\tmoment.tz = tz;\n\n\tmoment.defaultZone = null;\n\n\tmoment.updateOffset = function (mom, keepTime) {\n\t\tvar zone = moment.defaultZone,\n\t\t\toffset;\n\n\t\tif (mom._z === undefined) {\n\t\t\tif (zone && needsOffset(mom) && !mom._isUTC) {\n\t\t\t\tmom._d = moment.utc(mom._a)._d;\n\t\t\t\tmom.utc().add(zone.parse(mom), 'minutes');\n\t\t\t}\n\t\t\tmom._z = zone;\n\t\t}\n\t\tif (mom._z) {\n\t\t\toffset = mom._z.utcOffset(mom);\n\t\t\tif (Math.abs(offset) < 16) {\n\t\t\t\toffset = offset / 60;\n\t\t\t}\n\t\t\tif (mom.utcOffset !== undefined) {\n\t\t\t\tmom.utcOffset(-offset, keepTime);\n\t\t\t} else {\n\t\t\t\tmom.zone(offset, keepTime);\n\t\t\t}\n\t\t}\n\t};\n\n\tfn.tz = function (name, keepTime) {\n\t\tif (name) {\n\t\t\tif (typeof name !== 'string') {\n\t\t\t\tthrow new Error('Time zone name must be a string, got ' + name + ' [' + typeof name + ']');\n\t\t\t}\n\t\t\tthis._z = getZone(name);\n\t\t\tif (this._z) {\n\t\t\t\tmoment.updateOffset(this, keepTime);\n\t\t\t} else {\n\t\t\t\tlogError(\"Moment Timezone has no data for \" + name + \". See http://momentjs.com/timezone/docs/#/data-loading/.\");\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif (this._z) { return this._z.name; }\n\t};\n\n\tfunction abbrWrap (old) {\n\t\treturn function () {\n\t\t\tif (this._z) { return this._z.abbr(this); }\n\t\t\treturn old.call(this);\n\t\t};\n\t}\n\n\tfunction resetZoneWrap (old) {\n\t\treturn function () {\n\t\t\tthis._z = null;\n\t\t\treturn old.apply(this, arguments);\n\t\t};\n\t}\n\n\tfn.zoneName = abbrWrap(fn.zoneName);\n\tfn.zoneAbbr = abbrWrap(fn.zoneAbbr);\n\tfn.utc      = resetZoneWrap(fn.utc);\n\n\tmoment.tz.setDefault = function(name) {\n\t\tif (major < 2 || (major === 2 && minor < 9)) {\n\t\t\tlogError('Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js ' + moment.version + '.');\n\t\t}\n\t\tmoment.defaultZone = name ? getZone(name) : null;\n\t\treturn moment;\n\t};\n\n\t// Cloning a moment should include the _z property.\n\tvar momentProperties = moment.momentProperties;\n\tif (Object.prototype.toString.call(momentProperties) === '[object Array]') {\n\t\t// moment 2.8.1+\n\t\tmomentProperties.push('_z');\n\t\tmomentProperties.push('_a');\n\t} else if (momentProperties) {\n\t\t// moment 2.7.0\n\t\tmomentProperties._z = null;\n\t}\n\n\t// INJECT DATA\n\n\treturn moment;\n}));\n","(function (root) {/*global exports, Intl*/\n/**\n * This script gives you the zone info key representing your device's time zone setting.\n *\n * @name jsTimezoneDetect\n * @version 1.0.6\n * @author Jon Nylander\n * @license MIT License - https://bitbucket.org/pellepim/jstimezonedetect/src/default/LICENCE.txt\n *\n * For usage and examples, visit:\n * http://pellepim.bitbucket.org/jstz/\n *\n * Copyright (c) Jon Nylander\n */\n\n\n/**\n * Namespace to hold all the code for timezone detection.\n */\nvar jstz = (function () {\n    'use strict';\n    var HEMISPHERE_SOUTH = 's',\n\n        consts = {\n            DAY: 86400000,\n            HOUR: 3600000,\n            MINUTE: 60000,\n            SECOND: 1000,\n            BASELINE_YEAR: 2014,\n            MAX_SCORE: 864000000, // 10 days\n            AMBIGUITIES: {\n                'America/Denver':       ['America/Mazatlan'],\n                'Europe/London':        ['Africa/Casablanca'],\n                'America/Chicago':      ['America/Mexico_City'],\n                'America/Asuncion':     ['America/Campo_Grande', 'America/Santiago'],\n                'America/Montevideo':   ['America/Sao_Paulo', 'America/Santiago'],\n                // Europe/Minsk should not be in this list... but Windows.\n                'Asia/Beirut':          ['Asia/Amman', 'Asia/Jerusalem', 'Europe/Helsinki', 'Asia/Damascus', 'Africa/Cairo', 'Asia/Gaza', 'Europe/Minsk'],\n                'Pacific/Auckland':     ['Pacific/Fiji'],\n                'America/Los_Angeles':  ['America/Santa_Isabel'],\n                'America/New_York':     ['America/Havana'],\n                'America/Halifax':      ['America/Goose_Bay'],\n                'America/Godthab':      ['America/Miquelon'],\n                'Asia/Dubai':           ['Asia/Yerevan'],\n                'Asia/Jakarta':         ['Asia/Krasnoyarsk'],\n                'Asia/Shanghai':        ['Asia/Irkutsk', 'Australia/Perth'],\n                'Australia/Sydney':     ['Australia/Lord_Howe'],\n                'Asia/Tokyo':           ['Asia/Yakutsk'],\n                'Asia/Dhaka':           ['Asia/Omsk'],\n                // In the real world Yerevan is not ambigous for Baku... but Windows.\n                'Asia/Baku':            ['Asia/Yerevan'],\n                'Australia/Brisbane':   ['Asia/Vladivostok'],\n                'Pacific/Noumea':       ['Asia/Vladivostok'],\n                'Pacific/Majuro':       ['Asia/Kamchatka', 'Pacific/Fiji'],\n                'Pacific/Tongatapu':    ['Pacific/Apia'],\n                'Asia/Baghdad':         ['Europe/Minsk', 'Europe/Moscow'],\n                'Asia/Karachi':         ['Asia/Yekaterinburg'],\n                'Africa/Johannesburg':  ['Asia/Gaza', 'Africa/Cairo']\n            }\n        },\n\n        /**\n         * Gets the offset in minutes from UTC for a certain date.\n         * @param {Date} date\n         * @returns {Number}\n         */\n        get_date_offset = function get_date_offset(date) {\n            var offset = -date.getTimezoneOffset();\n            return (offset !== null ? offset : 0);\n        },\n\n        /**\n         * This function does some basic calculations to create information about\n         * the user's timezone. It uses REFERENCE_YEAR as a solid year for which\n         * the script has been tested rather than depend on the year set by the\n         * client device.\n         *\n         * Returns a key that can be used to do lookups in jstz.olson.timezones.\n         * eg: \"720,1,2\".\n         *\n         * @returns {String}\n         */\n        lookup_key = function lookup_key() {\n            var january_offset = get_date_offset(new Date(consts.BASELINE_YEAR, 0, 2)),\n                june_offset = get_date_offset(new Date(consts.BASELINE_YEAR, 5, 2)),\n                diff = january_offset - june_offset;\n\n            if (diff < 0) {\n                return january_offset + \",1\";\n            } else if (diff > 0) {\n                return june_offset + \",1,\" + HEMISPHERE_SOUTH;\n            }\n\n            return january_offset + \",0\";\n        },\n\n\n        /**\n         * Tries to get the time zone key directly from the operating system for those\n         * environments that support the ECMAScript Internationalization API.\n         */\n        get_from_internationalization_api = function get_from_internationalization_api() {\n            var format, timezone;\n            if (typeof Intl === \"undefined\" || typeof Intl.DateTimeFormat === \"undefined\") {\n                return;\n            }\n\n            format = Intl.DateTimeFormat();\n\n            if (typeof format === \"undefined\" || typeof format.resolvedOptions === \"undefined\") {\n                return;\n            }\n\n            timezone = format.resolvedOptions().timeZone;\n\n            if (timezone && (timezone.indexOf(\"/\") > -1 || timezone === 'UTC')) {\n                return timezone;\n            }\n\n        },\n\n        /**\n         * Starting point for getting all the DST rules for a specific year\n         * for the current timezone (as described by the client system).\n         *\n         * Returns an object with start and end attributes, or false if no\n         * DST rules were found for the year.\n         *\n         * @param year\n         * @returns {Object} || {Boolean}\n         */\n        dst_dates = function dst_dates(year) {\n            var yearstart = new Date(year, 0, 1, 0, 0, 1, 0).getTime();\n            var yearend = new Date(year, 12, 31, 23, 59, 59).getTime();\n            var current = yearstart;\n            var offset = (new Date(current)).getTimezoneOffset();\n            var dst_start = null;\n            var dst_end = null;\n\n            while (current < yearend - 86400000) {\n                var dateToCheck = new Date(current);\n                var dateToCheckOffset = dateToCheck.getTimezoneOffset();\n\n                if (dateToCheckOffset !== offset) {\n                    if (dateToCheckOffset < offset) {\n                        dst_start = dateToCheck;\n                    }\n                    if (dateToCheckOffset > offset) {\n                        dst_end = dateToCheck;\n                    }\n                    offset = dateToCheckOffset;\n                }\n\n                current += 86400000;\n            }\n\n            if (dst_start && dst_end) {\n                return {\n                    s: find_dst_fold(dst_start).getTime(),\n                    e: find_dst_fold(dst_end).getTime()\n                };\n            }\n\n            return false;\n        },\n\n        /**\n         * Probably completely unnecessary function that recursively finds the\n         * exact (to the second) time when a DST rule was changed.\n         *\n         * @param a_date - The candidate Date.\n         * @param padding - integer specifying the padding to allow around the candidate\n         *                  date for finding the fold.\n         * @param iterator - integer specifying how many milliseconds to iterate while\n         *                   searching for the fold.\n         *\n         * @returns {Date}\n         */\n        find_dst_fold = function find_dst_fold(a_date, padding, iterator) {\n            if (typeof padding === 'undefined') {\n                padding = consts.DAY;\n                iterator = consts.HOUR;\n            }\n\n            var date_start = new Date(a_date.getTime() - padding).getTime();\n            var date_end = a_date.getTime() + padding;\n            var offset = new Date(date_start).getTimezoneOffset();\n\n            var current = date_start;\n\n            var dst_change = null;\n            while (current < date_end - iterator) {\n                var dateToCheck = new Date(current);\n                var dateToCheckOffset = dateToCheck.getTimezoneOffset();\n\n                if (dateToCheckOffset !== offset) {\n                    dst_change = dateToCheck;\n                    break;\n                }\n                current += iterator;\n            }\n\n            if (padding === consts.DAY) {\n                return find_dst_fold(dst_change, consts.HOUR, consts.MINUTE);\n            }\n\n            if (padding === consts.HOUR) {\n                return find_dst_fold(dst_change, consts.MINUTE, consts.SECOND);\n            }\n\n            return dst_change;\n        },\n\n        windows7_adaptations = function windows7_adaptions(rule_list, preliminary_timezone, score, sample) {\n            if (score !== 'N/A') {\n                return score;\n            }\n            if (preliminary_timezone === 'Asia/Beirut') {\n                if (sample.name === 'Africa/Cairo') {\n                    if (rule_list[6].s === 1398376800000 && rule_list[6].e === 1411678800000) {\n                        return 0;\n                    }\n                }\n                if (sample.name === 'Asia/Jerusalem') {\n                    if (rule_list[6].s === 1395964800000 && rule_list[6].e === 1411858800000) {\n                        return 0;\n                }\n            }\n            } else if (preliminary_timezone === 'America/Santiago') {\n                if (sample.name === 'America/Asuncion') {\n                    if (rule_list[6].s === 1412481600000 && rule_list[6].e === 1397358000000) {\n                        return 0;\n                    }\n                }\n                if (sample.name === 'America/Campo_Grande') {\n                    if (rule_list[6].s === 1413691200000 && rule_list[6].e === 1392519600000) {\n                        return 0;\n                    }\n                }\n            } else if (preliminary_timezone === 'America/Montevideo') {\n                if (sample.name === 'America/Sao_Paulo') {\n                    if (rule_list[6].s === 1413687600000 && rule_list[6].e === 1392516000000) {\n                        return 0;\n                    }\n                }\n            } else if (preliminary_timezone === 'Pacific/Auckland') {\n                if (sample.name === 'Pacific/Fiji') {\n                    if (rule_list[6].s === 1414245600000 && rule_list[6].e === 1396101600000) {\n                        return 0;\n                    }\n                }\n            }\n\n            return score;\n        },\n\n        /**\n         * Takes the DST rules for the current timezone, and proceeds to find matches\n         * in the jstz.olson.dst_rules.zones array.\n         *\n         * Compares samples to the current timezone on a scoring basis.\n         *\n         * Candidates are ruled immediately if either the candidate or the current zone\n         * has a DST rule where the other does not.\n         *\n         * Candidates are ruled out immediately if the current zone has a rule that is\n         * outside the DST scope of the candidate.\n         *\n         * Candidates are included for scoring if the current zones rules fall within the\n         * span of the samples rules.\n         *\n         * Low score is best, the score is calculated by summing up the differences in DST\n         * rules and if the consts.MAX_SCORE is overreached the candidate is ruled out.\n         *\n         * Yah follow? :)\n         *\n         * @param rule_list\n         * @param preliminary_timezone\n         * @returns {*}\n         */\n        best_dst_match = function best_dst_match(rule_list, preliminary_timezone) {\n            var score_sample = function score_sample(sample) {\n                var score = 0;\n\n                for (var j = 0; j < rule_list.length; j++) {\n\n                    // Both sample and current time zone report DST during the year.\n                    if (!!sample.rules[j] && !!rule_list[j]) {\n\n                        // The current time zone's DST rules are inside the sample's. Include.\n                        if (rule_list[j].s >= sample.rules[j].s && rule_list[j].e <= sample.rules[j].e) {\n                            score = 0;\n                            score += Math.abs(rule_list[j].s - sample.rules[j].s);\n                            score += Math.abs(sample.rules[j].e - rule_list[j].e);\n\n                        // The current time zone's DST rules are outside the sample's. Discard.\n                        } else {\n                            score = 'N/A';\n                            break;\n                        }\n\n                        // The max score has been reached. Discard.\n                        if (score > consts.MAX_SCORE) {\n                            score = 'N/A';\n                            break;\n                        }\n                    }\n                }\n\n                score = windows7_adaptations(rule_list, preliminary_timezone, score, sample);\n\n                return score;\n            };\n            var scoreboard = {};\n            var dst_zones = jstz.olson.dst_rules.zones;\n            var dst_zones_length = dst_zones.length;\n            var ambiguities = consts.AMBIGUITIES[preliminary_timezone];\n\n            for (var i = 0; i < dst_zones_length; i++) {\n                var sample = dst_zones[i];\n                var score = score_sample(dst_zones[i]);\n\n                if (score !== 'N/A') {\n                    scoreboard[sample.name] = score;\n                }\n            }\n\n            for (var tz in scoreboard) {\n                if (scoreboard.hasOwnProperty(tz)) {\n                    for (var j = 0; j < ambiguities.length; j++) {\n                        if (ambiguities[j] === tz) {\n                            return tz;\n                        }\n                    }\n                }\n            }\n\n            return preliminary_timezone;\n        },\n\n        /**\n         * Takes the preliminary_timezone as detected by lookup_key().\n         *\n         * Builds up the current timezones DST rules for the years defined\n         * in the jstz.olson.dst_rules.years array.\n         *\n         * If there are no DST occurences for those years, immediately returns\n         * the preliminary timezone. Otherwise proceeds and tries to solve\n         * ambiguities.\n         *\n         * @param preliminary_timezone\n         * @returns {String} timezone_name\n         */\n        get_by_dst = function get_by_dst(preliminary_timezone) {\n            var get_rules = function get_rules() {\n                var rule_list = [];\n                for (var i = 0; i < jstz.olson.dst_rules.years.length; i++) {\n                    var year_rules = dst_dates(jstz.olson.dst_rules.years[i]);\n                    rule_list.push(year_rules);\n                }\n                return rule_list;\n            };\n            var check_has_dst = function check_has_dst(rules) {\n                for (var i = 0; i < rules.length; i++) {\n                    if (rules[i] !== false) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n            var rules = get_rules();\n            var has_dst = check_has_dst(rules);\n\n            if (has_dst) {\n                return best_dst_match(rules, preliminary_timezone);\n            }\n\n            return preliminary_timezone;\n        },\n\n        /**\n         * Uses get_timezone_info() to formulate a key to use in the olson.timezones dictionary.\n         *\n         * Returns an object with one function \".name()\"\n         *\n         * @returns Object\n         */\n        determine = function determine() {\n            var preliminary_tz = get_from_internationalization_api();\n\n            if (!preliminary_tz) {\n                preliminary_tz = jstz.olson.timezones[lookup_key()];\n\n                if (typeof consts.AMBIGUITIES[preliminary_tz] !== 'undefined') {\n                    preliminary_tz = get_by_dst(preliminary_tz);\n                }\n            }\n\n            return {\n                name: function () {\n                    return preliminary_tz;\n                }\n            };\n        };\n\n    return {\n        determine: determine\n    };\n}());\n\n\njstz.olson = jstz.olson || {};\n\n/**\n * The keys in this dictionary are comma separated as such:\n *\n * First the offset compared to UTC time in minutes.\n *\n * Then a flag which is 0 if the timezone does not take daylight savings into account and 1 if it\n * does.\n *\n * Thirdly an optional 's' signifies that the timezone is in the southern hemisphere,\n * only interesting for timezones with DST.\n *\n * The mapped arrays is used for constructing the jstz.TimeZone object from within\n * jstz.determine();\n */\njstz.olson.timezones = {\n    '-720,0': 'Etc/GMT+12',\n    '-660,0': 'Pacific/Pago_Pago',\n    '-660,1,s': 'Pacific/Apia', // Why? Because windows... cry!\n    '-600,1': 'America/Adak',\n    '-600,0': 'Pacific/Honolulu',\n    '-570,0': 'Pacific/Marquesas',\n    '-540,0': 'Pacific/Gambier',\n    '-540,1': 'America/Anchorage',\n    '-480,1': 'America/Los_Angeles',\n    '-480,0': 'Pacific/Pitcairn',\n    '-420,0': 'America/Phoenix',\n    '-420,1': 'America/Denver',\n    '-360,0': 'America/Guatemala',\n    '-360,1': 'America/Chicago',\n    '-360,1,s': 'Pacific/Easter',\n    '-300,0': 'America/Bogota',\n    '-300,1': 'America/New_York',\n    '-270,0': 'America/Caracas',\n    '-240,1': 'America/Halifax',\n    '-240,0': 'America/Santo_Domingo',\n    '-240,1,s': 'America/Asuncion',\n    '-210,1': 'America/St_Johns',\n    '-180,1': 'America/Godthab',\n    '-180,0': 'America/Argentina/Buenos_Aires',\n    '-180,1,s': 'America/Montevideo',\n    '-120,0': 'America/Noronha',\n    '-120,1': 'America/Noronha',\n    '-60,1': 'Atlantic/Azores',\n    '-60,0': 'Atlantic/Cape_Verde',\n    '0,0': 'UTC',\n    '0,1': 'Europe/London',\n    '60,1': 'Europe/Berlin',\n    '60,0': 'Africa/Lagos',\n    '60,1,s': 'Africa/Windhoek',\n    '120,1': 'Asia/Beirut',\n    '120,0': 'Africa/Johannesburg',\n    '180,0': 'Asia/Baghdad',\n    '180,1': 'Europe/Moscow',\n    '210,1': 'Asia/Tehran',\n    '240,0': 'Asia/Dubai',\n    '240,1': 'Asia/Baku',\n    '270,0': 'Asia/Kabul',\n    '300,1': 'Asia/Yekaterinburg',\n    '300,0': 'Asia/Karachi',\n    '330,0': 'Asia/Kolkata',\n    '345,0': 'Asia/Kathmandu',\n    '360,0': 'Asia/Dhaka',\n    '360,1': 'Asia/Omsk',\n    '390,0': 'Asia/Rangoon',\n    '420,1': 'Asia/Krasnoyarsk',\n    '420,0': 'Asia/Jakarta',\n    '480,0': 'Asia/Shanghai',\n    '480,1': 'Asia/Irkutsk',\n    '525,0': 'Australia/Eucla',\n    '525,1,s': 'Australia/Eucla',\n    '540,1': 'Asia/Yakutsk',\n    '540,0': 'Asia/Tokyo',\n    '570,0': 'Australia/Darwin',\n    '570,1,s': 'Australia/Adelaide',\n    '600,0': 'Australia/Brisbane',\n    '600,1': 'Asia/Vladivostok',\n    '600,1,s': 'Australia/Sydney',\n    '630,1,s': 'Australia/Lord_Howe',\n    '660,1': 'Asia/Kamchatka',\n    '660,0': 'Pacific/Noumea',\n    '690,0': 'Pacific/Norfolk',\n    '720,1,s': 'Pacific/Auckland',\n    '720,0': 'Pacific/Majuro',\n    '765,1,s': 'Pacific/Chatham',\n    '780,0': 'Pacific/Tongatapu',\n    '780,1,s': 'Pacific/Apia',\n    '840,0': 'Pacific/Kiritimati'\n};\n\n/* Build time: 2015-11-02 13:01:00Z Build by invoking python utilities/dst.py generate */\njstz.olson.dst_rules = {\n    \"years\": [\n        2008,\n        2009,\n        2010,\n        2011,\n        2012,\n        2013,\n        2014\n    ],\n    \"zones\": [\n        {\n            \"name\": \"Africa/Cairo\",\n            \"rules\": [\n                {\n                    \"e\": 1219957200000,\n                    \"s\": 1209074400000\n                },\n                {\n                    \"e\": 1250802000000,\n                    \"s\": 1240524000000\n                },\n                {\n                    \"e\": 1285880400000,\n                    \"s\": 1284069600000\n                },\n                false,\n                false,\n                false,\n                {\n                    \"e\": 1411678800000,\n                    \"s\": 1406844000000\n                }\n            ]\n        },\n        {\n            \"name\": \"Africa/Casablanca\",\n            \"rules\": [\n                {\n                    \"e\": 1220223600000,\n                    \"s\": 1212278400000\n                },\n                {\n                    \"e\": 1250809200000,\n                    \"s\": 1243814400000\n                },\n                {\n                    \"e\": 1281222000000,\n                    \"s\": 1272758400000\n                },\n                {\n                    \"e\": 1312066800000,\n                    \"s\": 1301788800000\n                },\n                {\n                    \"e\": 1348970400000,\n                    \"s\": 1345428000000\n                },\n                {\n                    \"e\": 1382839200000,\n                    \"s\": 1376100000000\n                },\n                {\n                    \"e\": 1414288800000,\n                    \"s\": 1406944800000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Asuncion\",\n            \"rules\": [\n                {\n                    \"e\": 1205031600000,\n                    \"s\": 1224388800000\n                },\n                {\n                    \"e\": 1236481200000,\n                    \"s\": 1255838400000\n                },\n                {\n                    \"e\": 1270954800000,\n                    \"s\": 1286078400000\n                },\n                {\n                    \"e\": 1302404400000,\n                    \"s\": 1317528000000\n                },\n                {\n                    \"e\": 1333854000000,\n                    \"s\": 1349582400000\n                },\n                {\n                    \"e\": 1364094000000,\n                    \"s\": 1381032000000\n                },\n                {\n                    \"e\": 1395543600000,\n                    \"s\": 1412481600000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Campo_Grande\",\n            \"rules\": [\n                {\n                    \"e\": 1203217200000,\n                    \"s\": 1224388800000\n                },\n                {\n                    \"e\": 1234666800000,\n                    \"s\": 1255838400000\n                },\n                {\n                    \"e\": 1266721200000,\n                    \"s\": 1287288000000\n                },\n                {\n                    \"e\": 1298170800000,\n                    \"s\": 1318737600000\n                },\n                {\n                    \"e\": 1330225200000,\n                    \"s\": 1350792000000\n                },\n                {\n                    \"e\": 1361070000000,\n                    \"s\": 1382241600000\n                },\n                {\n                    \"e\": 1392519600000,\n                    \"s\": 1413691200000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Goose_Bay\",\n            \"rules\": [\n                {\n                    \"e\": 1225594860000,\n                    \"s\": 1205035260000\n                },\n                {\n                    \"e\": 1257044460000,\n                    \"s\": 1236484860000\n                },\n                {\n                    \"e\": 1289098860000,\n                    \"s\": 1268539260000\n                },\n                {\n                    \"e\": 1320555600000,\n                    \"s\": 1299988860000\n                },\n                {\n                    \"e\": 1352005200000,\n                    \"s\": 1331445600000\n                },\n                {\n                    \"e\": 1383454800000,\n                    \"s\": 1362895200000\n                },\n                {\n                    \"e\": 1414904400000,\n                    \"s\": 1394344800000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Havana\",\n            \"rules\": [\n                {\n                    \"e\": 1224997200000,\n                    \"s\": 1205643600000\n                },\n                {\n                    \"e\": 1256446800000,\n                    \"s\": 1236488400000\n                },\n                {\n                    \"e\": 1288501200000,\n                    \"s\": 1268542800000\n                },\n                {\n                    \"e\": 1321160400000,\n                    \"s\": 1300597200000\n                },\n                {\n                    \"e\": 1352005200000,\n                    \"s\": 1333256400000\n                },\n                {\n                    \"e\": 1383454800000,\n                    \"s\": 1362891600000\n                },\n                {\n                    \"e\": 1414904400000,\n                    \"s\": 1394341200000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Mazatlan\",\n            \"rules\": [\n                {\n                    \"e\": 1225008000000,\n                    \"s\": 1207472400000\n                },\n                {\n                    \"e\": 1256457600000,\n                    \"s\": 1238922000000\n                },\n                {\n                    \"e\": 1288512000000,\n                    \"s\": 1270371600000\n                },\n                {\n                    \"e\": 1319961600000,\n                    \"s\": 1301821200000\n                },\n                {\n                    \"e\": 1351411200000,\n                    \"s\": 1333270800000\n                },\n                {\n                    \"e\": 1382860800000,\n                    \"s\": 1365325200000\n                },\n                {\n                    \"e\": 1414310400000,\n                    \"s\": 1396774800000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Mexico_City\",\n            \"rules\": [\n                {\n                    \"e\": 1225004400000,\n                    \"s\": 1207468800000\n                },\n                {\n                    \"e\": 1256454000000,\n                    \"s\": 1238918400000\n                },\n                {\n                    \"e\": 1288508400000,\n                    \"s\": 1270368000000\n                },\n                {\n                    \"e\": 1319958000000,\n                    \"s\": 1301817600000\n                },\n                {\n                    \"e\": 1351407600000,\n                    \"s\": 1333267200000\n                },\n                {\n                    \"e\": 1382857200000,\n                    \"s\": 1365321600000\n                },\n                {\n                    \"e\": 1414306800000,\n                    \"s\": 1396771200000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Miquelon\",\n            \"rules\": [\n                {\n                    \"e\": 1225598400000,\n                    \"s\": 1205038800000\n                },\n                {\n                    \"e\": 1257048000000,\n                    \"s\": 1236488400000\n                },\n                {\n                    \"e\": 1289102400000,\n                    \"s\": 1268542800000\n                },\n                {\n                    \"e\": 1320552000000,\n                    \"s\": 1299992400000\n                },\n                {\n                    \"e\": 1352001600000,\n                    \"s\": 1331442000000\n                },\n                {\n                    \"e\": 1383451200000,\n                    \"s\": 1362891600000\n                },\n                {\n                    \"e\": 1414900800000,\n                    \"s\": 1394341200000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Santa_Isabel\",\n            \"rules\": [\n                {\n                    \"e\": 1225011600000,\n                    \"s\": 1207476000000\n                },\n                {\n                    \"e\": 1256461200000,\n                    \"s\": 1238925600000\n                },\n                {\n                    \"e\": 1288515600000,\n                    \"s\": 1270375200000\n                },\n                {\n                    \"e\": 1319965200000,\n                    \"s\": 1301824800000\n                },\n                {\n                    \"e\": 1351414800000,\n                    \"s\": 1333274400000\n                },\n                {\n                    \"e\": 1382864400000,\n                    \"s\": 1365328800000\n                },\n                {\n                    \"e\": 1414314000000,\n                    \"s\": 1396778400000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Santiago\",\n            \"rules\": [\n                {\n                    \"e\": 1206846000000,\n                    \"s\": 1223784000000\n                },\n                {\n                    \"e\": 1237086000000,\n                    \"s\": 1255233600000\n                },\n                {\n                    \"e\": 1270350000000,\n                    \"s\": 1286683200000\n                },\n                {\n                    \"e\": 1304823600000,\n                    \"s\": 1313899200000\n                },\n                {\n                    \"e\": 1335668400000,\n                    \"s\": 1346558400000\n                },\n                {\n                    \"e\": 1367118000000,\n                    \"s\": 1378612800000\n                },\n                {\n                    \"e\": 1398567600000,\n                    \"s\": 1410062400000\n                }\n            ]\n        },\n        {\n            \"name\": \"America/Sao_Paulo\",\n            \"rules\": [\n                {\n                    \"e\": 1203213600000,\n                    \"s\": 1224385200000\n                },\n                {\n                    \"e\": 1234663200000,\n                    \"s\": 1255834800000\n                },\n                {\n                    \"e\": 1266717600000,\n                    \"s\": 1287284400000\n                },\n                {\n                    \"e\": 1298167200000,\n                    \"s\": 1318734000000\n                },\n                {\n                    \"e\": 1330221600000,\n                    \"s\": 1350788400000\n                },\n                {\n                    \"e\": 1361066400000,\n                    \"s\": 1382238000000\n                },\n                {\n                    \"e\": 1392516000000,\n                    \"s\": 1413687600000\n                }\n            ]\n        },\n        {\n            \"name\": \"Asia/Amman\",\n            \"rules\": [\n                {\n                    \"e\": 1225404000000,\n                    \"s\": 1206655200000\n                },\n                {\n                    \"e\": 1256853600000,\n                    \"s\": 1238104800000\n                },\n                {\n                    \"e\": 1288303200000,\n                    \"s\": 1269554400000\n                },\n                {\n                    \"e\": 1319752800000,\n                    \"s\": 1301608800000\n                },\n                false,\n                false,\n                {\n                    \"e\": 1414706400000,\n                    \"s\": 1395957600000\n                }\n            ]\n        },\n        {\n            \"name\": \"Asia/Damascus\",\n            \"rules\": [\n                {\n                    \"e\": 1225486800000,\n                    \"s\": 1207260000000\n                },\n                {\n                    \"e\": 1256850000000,\n                    \"s\": 1238104800000\n                },\n                {\n                    \"e\": 1288299600000,\n                    \"s\": 1270159200000\n                },\n                {\n                    \"e\": 1319749200000,\n                    \"s\": 1301608800000\n                },\n                {\n                    \"e\": 1351198800000,\n                    \"s\": 1333058400000\n                },\n                {\n                    \"e\": 1382648400000,\n                    \"s\": 1364508000000\n                },\n                {\n                    \"e\": 1414702800000,\n                    \"s\": 1395957600000\n                }\n            ]\n        },\n        {\n            \"name\": \"Asia/Dubai\",\n            \"rules\": [\n                false,\n                false,\n                false,\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Gaza\",\n            \"rules\": [\n                {\n                    \"e\": 1219957200000,\n                    \"s\": 1206655200000\n                },\n                {\n                    \"e\": 1252015200000,\n                    \"s\": 1238104800000\n                },\n                {\n                    \"e\": 1281474000000,\n                    \"s\": 1269640860000\n                },\n                {\n                    \"e\": 1312146000000,\n                    \"s\": 1301608860000\n                },\n                {\n                    \"e\": 1348178400000,\n                    \"s\": 1333058400000\n                },\n                {\n                    \"e\": 1380229200000,\n                    \"s\": 1364508000000\n                },\n                {\n                    \"e\": 1414098000000,\n                    \"s\": 1395957600000\n                }\n            ]\n        },\n        {\n            \"name\": \"Asia/Irkutsk\",\n            \"rules\": [\n                {\n                    \"e\": 1224957600000,\n                    \"s\": 1206813600000\n                },\n                {\n                    \"e\": 1256407200000,\n                    \"s\": 1238263200000\n                },\n                {\n                    \"e\": 1288461600000,\n                    \"s\": 1269712800000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Jerusalem\",\n            \"rules\": [\n                {\n                    \"e\": 1223161200000,\n                    \"s\": 1206662400000\n                },\n                {\n                    \"e\": 1254006000000,\n                    \"s\": 1238112000000\n                },\n                {\n                    \"e\": 1284246000000,\n                    \"s\": 1269561600000\n                },\n                {\n                    \"e\": 1317510000000,\n                    \"s\": 1301616000000\n                },\n                {\n                    \"e\": 1348354800000,\n                    \"s\": 1333065600000\n                },\n                {\n                    \"e\": 1382828400000,\n                    \"s\": 1364515200000\n                },\n                {\n                    \"e\": 1414278000000,\n                    \"s\": 1395964800000\n                }\n            ]\n        },\n        {\n            \"name\": \"Asia/Kamchatka\",\n            \"rules\": [\n                {\n                    \"e\": 1224943200000,\n                    \"s\": 1206799200000\n                },\n                {\n                    \"e\": 1256392800000,\n                    \"s\": 1238248800000\n                },\n                {\n                    \"e\": 1288450800000,\n                    \"s\": 1269698400000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Krasnoyarsk\",\n            \"rules\": [\n                {\n                    \"e\": 1224961200000,\n                    \"s\": 1206817200000\n                },\n                {\n                    \"e\": 1256410800000,\n                    \"s\": 1238266800000\n                },\n                {\n                    \"e\": 1288465200000,\n                    \"s\": 1269716400000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Omsk\",\n            \"rules\": [\n                {\n                    \"e\": 1224964800000,\n                    \"s\": 1206820800000\n                },\n                {\n                    \"e\": 1256414400000,\n                    \"s\": 1238270400000\n                },\n                {\n                    \"e\": 1288468800000,\n                    \"s\": 1269720000000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Vladivostok\",\n            \"rules\": [\n                {\n                    \"e\": 1224950400000,\n                    \"s\": 1206806400000\n                },\n                {\n                    \"e\": 1256400000000,\n                    \"s\": 1238256000000\n                },\n                {\n                    \"e\": 1288454400000,\n                    \"s\": 1269705600000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Yakutsk\",\n            \"rules\": [\n                {\n                    \"e\": 1224954000000,\n                    \"s\": 1206810000000\n                },\n                {\n                    \"e\": 1256403600000,\n                    \"s\": 1238259600000\n                },\n                {\n                    \"e\": 1288458000000,\n                    \"s\": 1269709200000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Yekaterinburg\",\n            \"rules\": [\n                {\n                    \"e\": 1224968400000,\n                    \"s\": 1206824400000\n                },\n                {\n                    \"e\": 1256418000000,\n                    \"s\": 1238274000000\n                },\n                {\n                    \"e\": 1288472400000,\n                    \"s\": 1269723600000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Asia/Yerevan\",\n            \"rules\": [\n                {\n                    \"e\": 1224972000000,\n                    \"s\": 1206828000000\n                },\n                {\n                    \"e\": 1256421600000,\n                    \"s\": 1238277600000\n                },\n                {\n                    \"e\": 1288476000000,\n                    \"s\": 1269727200000\n                },\n                {\n                    \"e\": 1319925600000,\n                    \"s\": 1301176800000\n                },\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Australia/Lord_Howe\",\n            \"rules\": [\n                {\n                    \"e\": 1207407600000,\n                    \"s\": 1223134200000\n                },\n                {\n                    \"e\": 1238857200000,\n                    \"s\": 1254583800000\n                },\n                {\n                    \"e\": 1270306800000,\n                    \"s\": 1286033400000\n                },\n                {\n                    \"e\": 1301756400000,\n                    \"s\": 1317483000000\n                },\n                {\n                    \"e\": 1333206000000,\n                    \"s\": 1349537400000\n                },\n                {\n                    \"e\": 1365260400000,\n                    \"s\": 1380987000000\n                },\n                {\n                    \"e\": 1396710000000,\n                    \"s\": 1412436600000\n                }\n            ]\n        },\n        {\n            \"name\": \"Australia/Perth\",\n            \"rules\": [\n                {\n                    \"e\": 1206813600000,\n                    \"s\": 1224957600000\n                },\n                false,\n                false,\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Europe/Helsinki\",\n            \"rules\": [\n                {\n                    \"e\": 1224982800000,\n                    \"s\": 1206838800000\n                },\n                {\n                    \"e\": 1256432400000,\n                    \"s\": 1238288400000\n                },\n                {\n                    \"e\": 1288486800000,\n                    \"s\": 1269738000000\n                },\n                {\n                    \"e\": 1319936400000,\n                    \"s\": 1301187600000\n                },\n                {\n                    \"e\": 1351386000000,\n                    \"s\": 1332637200000\n                },\n                {\n                    \"e\": 1382835600000,\n                    \"s\": 1364691600000\n                },\n                {\n                    \"e\": 1414285200000,\n                    \"s\": 1396141200000\n                }\n            ]\n        },\n        {\n            \"name\": \"Europe/Minsk\",\n            \"rules\": [\n                {\n                    \"e\": 1224979200000,\n                    \"s\": 1206835200000\n                },\n                {\n                    \"e\": 1256428800000,\n                    \"s\": 1238284800000\n                },\n                {\n                    \"e\": 1288483200000,\n                    \"s\": 1269734400000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Europe/Moscow\",\n            \"rules\": [\n                {\n                    \"e\": 1224975600000,\n                    \"s\": 1206831600000\n                },\n                {\n                    \"e\": 1256425200000,\n                    \"s\": 1238281200000\n                },\n                {\n                    \"e\": 1288479600000,\n                    \"s\": 1269730800000\n                },\n                false,\n                false,\n                false,\n                false\n            ]\n        },\n        {\n            \"name\": \"Pacific/Apia\",\n            \"rules\": [\n                false,\n                false,\n                false,\n                {\n                    \"e\": 1301752800000,\n                    \"s\": 1316872800000\n                },\n                {\n                    \"e\": 1333202400000,\n                    \"s\": 1348927200000\n                },\n                {\n                    \"e\": 1365256800000,\n                    \"s\": 1380376800000\n                },\n                {\n                    \"e\": 1396706400000,\n                    \"s\": 1411826400000\n                }\n            ]\n        },\n        {\n            \"name\": \"Pacific/Fiji\",\n            \"rules\": [\n                false,\n                false,\n                {\n                    \"e\": 1269698400000,\n                    \"s\": 1287842400000\n                },\n                {\n                    \"e\": 1327154400000,\n                    \"s\": 1319292000000\n                },\n                {\n                    \"e\": 1358604000000,\n                    \"s\": 1350741600000\n                },\n                {\n                    \"e\": 1390050000000,\n                    \"s\": 1382796000000\n                },\n                {\n                    \"e\": 1421503200000,\n                    \"s\": 1414850400000\n                }\n            ]\n        },\n        {\n            \"name\": \"Europe/London\",\n            \"rules\": [\n                {\n                    \"e\": 1224982800000,\n                    \"s\": 1206838800000\n                },\n                {\n                    \"e\": 1256432400000,\n                    \"s\": 1238288400000\n                },\n                {\n                    \"e\": 1288486800000,\n                    \"s\": 1269738000000\n                },\n                {\n                    \"e\": 1319936400000,\n                    \"s\": 1301187600000\n                },\n                {\n                    \"e\": 1351386000000,\n                    \"s\": 1332637200000\n                },\n                {\n                    \"e\": 1382835600000,\n                    \"s\": 1364691600000\n                },\n                {\n                    \"e\": 1414285200000,\n                    \"s\": 1396141200000\n                }\n            ]\n        }\n    ]\n};\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = jstz;\n} else if ((typeof define !== 'undefined' && define !== null) && (define.amd != null)) {\n    define([], function() {\n        return jstz;\n    });\n} else {\n    if (typeof root === 'undefined') {\n        window.jstz = jstz;\n    } else {\n        root.jstz = jstz;\n    }\n}\n}());\n","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lodashOperators = void 0;\n// Use only immutable useful functions from Lodash.\n// Visit https://lodash.com/docs for more info.\nvar lodashOperators = [// Array\n'chunk', 'compact', 'concat', 'difference', 'differenceBy', 'differenceWith', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'findIndex', 'findLastIndex', 'first', 'flatten', 'flattenDeep', 'flattenDepth', 'fromPairs', 'head', 'indexOf', 'initial', 'intersection', 'intersectionBy', 'intersectionWith', 'join', 'last', 'lastIndexOf', 'nth', 'slice', 'sortedIndex', 'sortedIndexBy', 'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexBy', 'sortedLastIndexOf', 'sortedUniq', 'sortedUniqBy', 'tail', 'take', 'takeRight', 'takeRightWhile', 'takeWhile', 'union', 'unionBy', 'unionWith', 'uniq', 'uniqBy', 'uniqWith', 'unzip', 'unzipWith', 'without', 'xor', 'xorBy', 'xorWith', 'zip', 'zipObject', 'zipObjectDeep', 'zipWith', // Collection\n'countBy', 'every', 'filter', 'find', 'findLast', 'flatMap', 'flatMapDeep', 'flatMapDepth', 'groupBy', 'includes', 'invokeMap', 'keyBy', 'map', 'orderBy', 'partition', 'reduce', 'reduceRight', 'reject', 'sample', 'sampleSize', 'shuffle', 'size', 'some', 'sortBy', // Date\n'now', // Function\n'flip', 'negate', 'overArgs', 'partial', 'partialRight', 'rearg', 'rest', 'spread', // Lang\n'castArray', 'clone', 'cloneDeep', 'cloneDeepWith', 'cloneDeep', 'conformsTo', 'eq', 'gt', 'gte', 'isArguments', 'isArray', 'isArrayBuffer', 'isArrayLike', 'isArrayLikeObject', 'isBoolean', 'isBuffer', 'isDate', 'isElement', 'isEmpty', 'isEqual', 'isEqualWith', 'isError', 'isFinite', 'isFunction', 'isInteger', 'isLength', 'isMap', 'isMatch', 'isMatchWith', 'isNaN', 'isNative', 'isNil', 'isNull', 'isNumber', 'isObject', 'isObjectLike', 'isPlainObject', 'isRegExp', 'isSafeInteger', 'isSet', 'isString', 'isSymbol', 'isTypedArray', 'isUndefined', 'isWeakMap', 'isWeakSet', 'lt', 'lte', 'toArray', 'toFinite', 'toInteger', 'toLength', 'toNumber', 'toPlainObject', 'toSafeInteger', 'toString', // Math\n'add', 'ceil', 'divide', 'floor', 'max', 'maxBy', 'mean', 'meanBy', 'min', 'minBy', 'multiply', 'round', 'subtract', 'sum', 'sumBy', // Number\n'clamp', 'inRange', 'random', // Object\n'at', 'entries', 'entriesIn', 'findKey', 'findLastKey', 'functions', 'functionsIn', 'get', 'has', 'hasIn', 'invert', 'invertBy', 'invoke', 'keys', 'keysIn', 'mapKeys', 'mapValues', 'omit', 'omitBy', 'pick', 'pickBy', 'result', 'toPairs', 'toPairsIn', 'transform', 'values', 'valuesIn', // String\n'camelCase', 'capitalize', 'deburr', 'endsWith', 'escape', 'escapeRegExp', 'kebabCase', 'lowerCase', 'lowerFirst', 'pad', 'padEnd', 'padStart', 'parseInt', 'repeat', 'replace', 'snakeCase', 'split', 'startCase', 'startsWith', 'toLower', 'toUpper', 'trim', 'trimEnd', 'trimStart', 'truncate', 'unescape', 'upperCase', 'upperFirst', 'words', // Util\n'cond', 'conforms', 'constant', 'defaultTo', 'flow', 'flowRight', 'identity', 'iteratee', 'matches', 'matchesProperty', 'method', 'methodOf', 'nthArg', 'over', 'overEvery', 'overSome', 'property', 'propertyOf', 'range', 'rangeRight', 'stubArray', 'stubFalse', 'stubObject', 'stubString', 'stubTrue', 'times', 'toPath', 'uniqueId'];\nexports.lodashOperators = lodashOperators;","import Connection from 'Wrappers/Connection';\nimport Submission from 'database/models/Submission';\nimport User from 'database/models/User';\nimport FormioJS from 'formiojs/Formio';\nimport Event from 'Wrappers/Event';\nimport Scheduler from 'repositories/Database/Scheduler';\n\nlet OfflineData = (() => {\n  async function send (data) {\n    let offlineSubmissions = data;\n    let offlinePlugin = FormioJS.getPlugin('offline');\n    let isOnline = await Connection.isOnline();\n\n    let PromiseEach = async function (arr, fn) {\n      for (const item of arr) await fn(item);\n    };\n\n    if (isOnline) {\n      await Scheduler.startSync();\n      PromiseEach(offlineSubmissions, async function (offlineSubmission) {\n        let formio = new FormioJS(offlineSubmission.data.formio.formUrl);\n        let postData = {\n          data: offlineSubmission.data.data\n        };\n\n        offlineSubmission.data.queuedForSync = true;\n        let model = Submission.local();\n\n        if (offlineSubmission.data.formio.formId === 'userregister') {\n          model = User.local();\n        }\n        // Set the submission as queuedForSync\n        await model.update(offlineSubmission);\n\n        // If it has an ID and the Id its not local (doesnt contain \"_local\")\n        if (offlineSubmission.data._id && offlineSubmission.data._id.indexOf('_local') === -1) {\n          postData._id = offlineSubmission.data._id;\n        }\n        FormioJS.deregisterPlugin('offline');\n\n        try {\n          let FormIOinsertedData = await formio.saveSubmission(postData);\n\n          if (!FormIOinsertedData._id) {\n            throw Error('Submission cannot be synced');\n          }\n          FormIOinsertedData.formio = formio;\n\n          // Update the local submission\n          offlineSubmission.data = FormIOinsertedData;\n          await model.update(offlineSubmission);\n\n          if (offlinePlugin) {\n            FormioJS.registerPlugin(offlinePlugin, 'offline');\n          }\n        } catch (e) {\n          console.log('The submission cannot be synced ', e);\n          /*\n          Raven.send(new Error('Submission cannot be synced'), {\n            error: e\n          });\n          */\n          if (e === 'TypeError: Could not connect to API server (Failed to fetch)') {\n            console.log('Error connecting to the API server');\n          }\n          offlineSubmission.data.queuedForSync = false;\n          offlineSubmission.data.syncError = e;\n\n          if (offlineSubmission.data.formio.formId === 'userregister') {\n            model.remove(offlineSubmission);\n            let errorEvent = new CustomEvent('FAST:USER:REGISTRATION:ERROR', {\n              detail: {\n                data: {\n                  submission: offlineSubmission.data.data,\n                  error: e\n                },\n                text: 'Validation Error'\n              }\n            });\n\n            document.dispatchEvent(errorEvent);\n          } else {\n            await model.update(offlineSubmission);\n          }\n          if (offlinePlugin) {\n            FormioJS.registerPlugin(offlinePlugin, 'offline');\n          }\n        }\n      })\n        .then((result) => {\n          Scheduler.stopSync();\n          Event.emit({\n            name: 'FAST:SUBMISSION:SYNCED',\n            data: {},\n            text: 'The submissions have been synced'\n          });\n        })\n        .catch((e) => {\n          console.log(e);\n          Scheduler.stopSync();\n        });\n    }\n  }\n\n  return Object.freeze({\n    send\n  });\n})();\n\nexport default OfflineData;\n","import moment from 'moment';\n// import 'moment/min/locales';\n\nlet Moment = class {\n  static setLocales () {\n    moment.locale(Moment.getLenguage());\n  }\n  static changeLanguage (code) {\n    moment.locale(code);\n  }\n\n  static getLenguage () {\n    return localStorage.getItem('defaultLenguage') ? localStorage.getItem('defaultLenguage') : 'en';\n  }\n};\n\nexport default Moment;\n","import uuidv4 from 'uuid/v4';\nimport Utilities from 'utilities';\nimport Formio from 'formiojs/Formio';\nimport Submission from 'database/models/Submission';\nimport OFFLINE_PLUGIN from 'offlinePlugin/offlinePlugin';\nimport Promise from 'bluebird';\n\nlet ParallelSurvey = (() => {\n  function getNewGroupWizard (vm) {\n    let progressSteps = ['1', '2', '3'];\n    let steps = [\n      {\n        title: vm.$t('Group Name'),\n        text: vm.$t('Give the group a name'),\n        inputValidator: (value) => {\n          return new Promise((resolve, reject) => {\n            if (value !== '') {\n              resolve();\n            } else {\n              let error = new Error(vm.$t('The group name is already taken'));\n\n              reject(error);\n            }\n          });\n        }\n      },\n      {\n        title: vm.$t('Current Participant Name'),\n        text: vm.$t('Give the current participant a name')\n      },\n      {\n        title: vm.$t('Next participant Name'),\n        text: vm.$t('Give the next participant a name')\n      }\n    ];\n\n    return { progressSteps: progressSteps, steps: steps };\n  }\n\n  function getNewUserWizard (vm) {\n    let progressSteps = ['1'];\n    let steps = [\n      {\n        title: vm.$t('Participant Name'),\n        text: vm.$t('Give the next participant a name')\n      }\n    ];\n\n    return { progressSteps: progressSteps, steps: steps };\n  }\n\n  function getGroupId (submission) {\n    let groupId = Utilities.get(() => Submission.local().getParallelSurvey(submission).groupId);\n\n    return groupId;\n  }\n\n  function submissionHasGroup (groupId) {\n    return groupId;\n  }\n  /**\n   * Creates the Wizard object to have new user or new group\n   * @param {*} param0\n   */\n  async function createWizard ({ submission, vm }) {\n    let groupId = getGroupId(submission);\n\n    if (submissionHasGroup(groupId)) {\n      return Object.assign({}, getNewUserWizard(vm), { groupId: groupId });\n    }\n    return Object.assign({}, getNewGroupWizard(vm), { groupId: groupId });\n  }\n  function prepareNewGroupObject ({ submission, vm, info }) {\n    let groupName = info[0];\n    let participantName = info[1];\n    let nextParticipant = info[2];\n    // Format the parallelSurvey object\n    let parallelSurvey = {\n      groupId: uuidv4(),\n      groupName: groupName,\n      participantName: participantName,\n      submissionId: submission._id\n    };\n\n    // Store information of the parallelSurvey on the current submission\n    vm.currentSubmission.data.parallelSurvey = Submission.local().setParallelSurvey(parallelSurvey);\n\n    // New survey Information\n    let surveyData = {\n      parallelSurvey: Submission.local().setParallelSurvey({\n        ...parallelSurvey,\n        participantName: nextParticipant\n      })\n    };\n\n    return surveyData;\n  }\n\n  function prepareNewUserObject ({ submission, vm, info }) {\n    let participantName = info[0];\n    let parallelsurveyInfo = Submission.local().getParallelSurvey(submission);\n\n    parallelsurveyInfo.participantName = participantName;\n    // New survey Information\n    let surveyData = {\n      parallelSurvey: Submission.local().setParallelSurvey(parallelsurveyInfo)\n    };\n\n    return surveyData;\n  }\n\n  async function createNewSurvey ({ submission, vm, info }) {\n    let groupId = getGroupId(submission);\n\n    if (submissionHasGroup(groupId)) {\n      return prepareNewUserObject({ submission, vm, info });\n    }\n    return prepareNewGroupObject({ submission, vm, info });\n  }\n\n  async function storeNewSurvey ({ survey, vm }) {\n    let formio = new Formio(vm.$FAST_CONFIG.APP_URL + '/' + vm.$route.params.idForm);\n    // De register if there was a previous registration\n\n    Formio.deregisterPlugin('offline');\n    // Register the plugin for offline mode\n    Formio.registerPlugin(OFFLINE_PLUGIN.getPlugin({ formio: formio, hashField: vm.hashField }), 'offline');\n\n    let formSubmission = {\n      data: survey,\n      redirect: 'Update',\n      draft: true,\n      trigger: 'createParalelSurvey'\n    };\n\n    let created = await formio.saveSubmission(formSubmission);\n\n    return created;\n  }\n\n  return Object.freeze({\n    createWizard,\n    createNewSurvey,\n    storeNewSurvey\n  });\n})();\n\nexport default ParallelSurvey;\n","import Form from 'database/models/Form';\n// import Auth from 'repositories/Auth/Auth';\n// import Submission from 'database/models/Submission';\n\nconst GetRequest = class {\n  /**\n   *\n   * @param {*} args\n   */\n  static async handle (args) {\n    // If we are making a request to a external API (NOT FORM.io)\n    if (args.url.indexOf('form.io') === -1) {\n      return GetRequest.handleExternalAPI(args);\n    }\n    // If we are trying to get a form we load it locally\n    // This action will get triggered when we load a create form\n    // of a resource from inside of another Form\n    if (args.type === 'form') {\n      return GetRequest.handleLocalForm(args);\n    }\n    // Calling to an internal Form.io route from Select component\n    if (args.type === 'select' && args.url.indexOf('form.io') !== -1) {\n      return GetRequest.handleInternalResource(args);\n    }\n  }\n  /**\n   *\n   */\n  static handleExternalAPI () {\n    // TODO\n    return null;\n  }\n  /**\n   *\n   * @param {*} args\n   */\n  static async handleLocalForm (args) {\n    let form = await Form.local().get(args.formio.formId);\n\n    return form;\n  }\n  /**\n   *\n   * @param {*} args\n   */\n  static async handleInternalResource (args) {\n    return null;\n    let formID = args && args.url && args.url.split('/')[4];\n    let form = await Form.local().find();\n\n    form = form.filter((f) => {\n      return f.data._id === formID;\n    })[0];\n\n    if (!form) {\n      return;\n    }\n    /* let submissions = await Submission.local().find();\n\n    submissions = submissions.filter((s) => {\n      return s.data.formio.formId === form.data.path && s.data.owner === Auth.user()._id;\n    });\n\n    submissions = submissions.map((s) => {\n      return { data: s.data.data };\n    });\n\n    // return submissions;\n    */\n  }\n};\n\nexport default GetRequest;\n","import StoreForm from './storeForm';\n\nconst PostRequest = class {\n  /**\n   *\n   * @param {*} args\n   */\n  static async handle ({ args, hashField, formio }) {\n    if (args.type === 'submission') {\n      return PostRequest.handleSubmission({ args, hashField, formio });\n    }\n  }\n  /**\n   *\n   */\n  static async handleSubmission ({ args, hashField, formio }) {\n    let submission = args.data;\n\n    if (args.data && !args.data.trigger) {\n      let formSubmission = {\n        data: args.data.data,\n        redirect: false,\n        draft: false,\n        trigger: 'resourceCreation'\n      };\n\n      submission = formSubmission;\n      // TODO we have to figure out how to do this call\n      // When we are working in offline mode\n      return null;\n    }\n\n    // let dStoreForm = _debounce(StoreForm.handle, 1500);\n\n    let created = await StoreForm.handle({ submission, formio, hashField });\n\n    return created;\n  }\n};\n\nexport default PostRequest;\n","import md5 from 'md5';\nimport CONFIGURATION from '../../database/models/Configuration';\nimport User from 'repositories/User/User';\nimport Submission from 'repositories/Submission/SubmissionRepository';\nimport Event from 'Wrappers/Event';\n\nlet StoreForm = class {\n  static async handle ({ submission, formio, hashField }) {\n    if (typeof hashField !== 'undefined') {\n      return StoreForm.storeUser({ submission, formio, hashField });\n    }\n    return StoreForm.storeSubmission({ submission, formio, hashField });\n  }\n  /**\n   *\n   */\n  static async storeSubmission ({ submission, formio, hashField }) {\n    let created = await Submission.add({\n      submission: submission,\n      formio: formio\n    });\n\n    if (!created) {\n      return;\n    }\n\n    if (submission.trigger && submission.trigger === 'resourceCreation') {\n    }\n    if (submission.trigger && submission.trigger === 'formioSubmit') {\n      created.isSubmit = true;\n    } else {\n      created.isSubmit = false;\n    }\n\n    Event.emit({\n      name: 'FAST:SUBMISSION:CHANGED',\n      data: created,\n      text: 'Draft Saved'\n    });\n\n    return created;\n  }\n  /**\n   *\n   */\n  static async storeUser ({ submission, formio, hashField }) {\n    let config = await CONFIGURATION.getLocal();\n\n    submission.data.hashedPassword = md5(submission.data.password, config.MD5_KEY);\n\n    let user = await User.storeLocally({\n      data: submission.data,\n      sync: false,\n      formio: formio\n    });\n\n    return user;\n  }\n};\n\nexport default StoreForm;\n","import Formio from 'formiojs/Formio';\nimport offlinePlugin from 'offlinePlugin/offlinePlugin';\nimport Submission from 'repositories/Submission/SubmissionRepository';\nimport Event from 'Wrappers/Event';\nimport Promise from 'bluebird';\nlet Import = class {\n  /**\n   *\n   * @param {*} file\n   * @param {*} vm\n   */\n  static fromJsonFile (file, vm) {\n    var reader = new FileReader();\n    // Closure to capture the file information.\n\n    reader.onload = (function (theFile) {\n      return function (e) {\n        let json;\n\n        try {\n          json = JSON.parse(e.target.result);\n        } catch (ex) {\n          throw new Error('The Json file could not be parsed');\n        }\n        Import.parseJson(json, vm);\n      };\n    })(file);\n    reader.readAsText(file);\n  }\n  /**\n   *\n   * @param {*} json\n   * @param {*} vm\n   */\n  static async parseJson (json, vm) {\n    // let totalSubmissions = json.length;\n    let formio = Import.getFormIOInstance(vm);\n\n    // Loading.show({ message: 'Importing ' + totalSubmissions + ' submissions' });\n    // json = json.slice(151, 200);\n\n    Promise.each(json, async function (row, index) {\n      // await Uploader.sendDataToFormIO(row)\n      let submission = Import.prepareSubmission(row);\n\n      await Import.saveSubmission(submission, formio, vm);\n    })\n      .then(() => {\n        Event.emit({ name: 'FAST:DATA:IMPORTED', data: { imported: true }, text: 'Data was imported' });\n      })\n      .catch((error) => {\n        // Loading.hide(error);\n        console.log(error);\n        vm.$swal(\n          vm.$t('Import Error!'),\n          vm.$t('Your submission could not be Imported. Please check the format of your Json file.'),\n          'error'\n        );\n      });\n  }\n\n  static emitNotification (vm) {\n    vm.$eventHub.emit('FAST-DATA_IMPORTED');\n  }\n  /**\n   *\n   * @param {*} row\n   */\n  static prepareSubmission (row) {\n    if (row.id || row._id) {\n      delete row.id;\n      delete row._id;\n    }\n    if (row.modified) {\n      delete row.modified;\n    }\n    if (row.owner) {\n      delete row.owner;\n    }\n    let data = row.data ? row.data : row;\n    let formSubmission = {\n      data: data,\n      redirect: false,\n      syncError: false,\n      draft: true,\n      trigger: 'importSubmission'\n    };\n\n    return formSubmission;\n  }\n  /**\n   *\n   * @param {*} vm\n   */\n  static getFormIOInstance (vm) {\n    Formio.deregisterPlugin('offline');\n    Formio.registerPlugin(offlinePlugin.getPlugin(vm.form.data.path, undefined, false), 'offline');\n    let APP_URL = vm.$FAST_CONFIG.APP_URL;\n    let formUrl = APP_URL + '/' + vm.form.data.path;\n    let formio = new Formio(formUrl);\n\n    return formio;\n  }\n  /**\n   *\n   * @param {*} vm\n   */\n  static async saveSubmission (submission, formio, vm) {\n    // let processedSubmission = PreProcess.JsonSubmission(submission);\n\n    await Submission.add({ submission: submission, formio: formio });\n  }\n};\n\nexport default Import;\n","import FormioUtils from 'formiojs/utils';\nimport Translation from 'database/models/Translation';\nimport config from 'config';\nimport Form from 'database/models/Form';\nimport Pages from 'repositories/Configuration/Pages';\nclass FormLabels {\n  /**\n   *\n   * @param {*} formNameFilter\n   * @param {*} languageFilter\n   */\n  static async get () {\n    return this.handle();\n  }\n  /**\n   *\n   * @param {*} formNameFilter\n   * @param {*} languageFilter\n   */\n  static async handle () {\n    let labels = await this.fetchAllLabels();\n\n    let translations = (await Translation.local().find())[0].data;\n\n    // Merge labels and translations\n    Object.keys(translations).forEach(function (languageCode) {\n      let translationsLabels = translations[languageCode];\n\n      Object.keys(translationsLabels).forEach(function (translationLabel) {\n        if (\n          labels[translationLabel] &&\n          translationsLabels[translationLabel] &&\n          translationsLabels[translationLabel] !== ''\n        ) {\n          labels[translationLabel].translations[languageCode] = translationsLabels[translationLabel];\n        }\n      });\n    });\n\n    return labels;\n  }\n  /**\n   *  Fetches all Labels for the different\n   *  types of labels inputs that the\n   *  application has\n   */\n  static async fetchAllLabels () {\n    let allLabels = {};\n\n    let forms = (await Form.local().find()).map((form) => {\n      return form.data;\n    });\n\n    let formLabels = this.getFormLabels(forms);\n\n    let appLabels = await this.getAppLabels(config.get().translations);\n\n    allLabels = this.mergeLabels(formLabels, appLabels);\n\n    let pagesLabels = await this.getPagesLabels(await Pages.getLocal());\n\n    allLabels = this.mergeLabels(allLabels, pagesLabels);\n\n    return allLabels;\n  }\n  /**\n   * Given an Object with text labels and a label Object\n   * to add it checks if it already exists or\n   * creates it if needed\n   * @param {Object} labels\n   * @param {Object} label\n   */\n  static createOrAdd ({ labels, label }) {\n    let newObject = { ...labels };\n\n    // If the label already exists\n    if (newObject[label.text]) {\n      // If the location is an Array of Locations\n      if (label.location && Array.isArray(label.location)) {\n        label.location.forEach((l) => {\n          newObject[label.text].location.push({\n            text: label.text,\n            template: label.template,\n            type: l.type,\n            picture: l.picture\n          });\n        });\n      } else {\n        newObject[label.text].location.push(label);\n      }\n      // If the label does not exist\n    } else {\n      if (label.location && Array.isArray(label.location)) {\n        newObject[label.text] = {\n          location: [],\n          template: label.template,\n          translations: {}\n        };\n        label.location.forEach((l) => {\n          newObject[label.text].location.push({\n            text: label.text,\n            template: label.template,\n            type: l.type,\n            picture: l.picture\n          });\n        });\n      } else {\n        newObject[label.text] = {\n          location: [label],\n          translations: {}\n        };\n      }\n    }\n    return newObject;\n  }\n  /**\n   * Merges 2 different sets of translations\n   * into a single one with no repeted\n   * elements\n   * @param {Object} labelsObject1\n   * @param {Object} labelsObject2\n   */\n  static mergeLabels (labelsObject1, labelsObject2) {\n    let merged = { ...labelsObject1 };\n\n    Object.keys(labelsObject2).forEach((key) => {\n      merged = this.createOrAdd({\n        labels: merged,\n        label: {\n          ...labelsObject2[key],\n          text: key\n        }\n      });\n    });\n    return merged;\n  }\n  /**\n   * Extracts all labels that could potentially\n   * be translated from the Form.io forms\n   * @param {Array} Forms\n   */\n  static getFormLabels (Forms) {\n    let componentLabels = {};\n    // Extranct all labels for all available forms\n\n    let formioLabelsPositions = [\n      'suffix',\n      'prefix',\n      'addAnother',\n      'removeRow',\n      'saveRow',\n      'legend',\n      'title',\n      'label',\n      'placeholder',\n      'tooltip'\n    ];\n\n    Forms.forEach((form) => {\n      // Add title of the Forms to the translations\n      componentLabels = this.createOrAdd({\n        labels: componentLabels,\n        label: {\n          text: form.title,\n          type: 'formTitle',\n          component: form.path,\n          form: form.path,\n          picture: null\n        }\n      });\n      // Go across every component\n      FormioUtils.eachComponent(\n        form.components,\n        (component) => {\n          // Check for the common translated Items listed above\n          formioLabelsPositions.forEach((position) => {\n            if (component[position] && component[position] !== '') {\n              // Add the Label if is not empty\n              componentLabels = this.createOrAdd({\n                labels: componentLabels,\n                label: {\n                  text: component[position],\n                  type: position,\n                  component: component.key,\n                  form: form.path,\n                  picture: null\n                }\n              });\n            }\n          });\n\n          // Check for components that have values with labels (i.e: radio)\n          if (component.values) {\n            component.values.forEach((value) => {\n              if (value.label && value.label !== '') {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: value.label,\n                    type: 'value',\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              }\n            });\n          }\n\n          // Check for HTML tag elements in the forms\n          if (component.type === 'htmlelement' && component.content !== '') {\n            componentLabels = this.createOrAdd({\n              labels: componentLabels,\n              label: {\n                text: component.content,\n                type: 'htmlElement',\n                component: component.key,\n                form: form.path,\n                picture: null\n              }\n            });\n          }\n\n          // Check specificaly for select elements\n          if (component.type === 'select') {\n            if (component.data && component.data.values) {\n              component.data.values.forEach((value) => {\n                if (value.label && value.label !== '') {\n                  componentLabels = this.createOrAdd({\n                    labels: componentLabels,\n                    label: {\n                      text: value.label,\n                      type: 'selectValue',\n                      component: component.key,\n                      form: form.path,\n                      picture: null\n                    }\n                  });\n                }\n              });\n            }\n          }\n\n          // Check for survey elements\n          if (component.type && component.type === 'survey') {\n            if (component.questions) {\n              // Check for every question on the survey\n              component.questions.forEach((q) => {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: q.label,\n                    type: 'surveyLabel',\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              });\n              // Check every text of the answers\n              component.values.forEach((v) => {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: v.label,\n                    type: 'surveyValues',\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              });\n            }\n          }\n        },\n        true\n      );\n    });\n\n    return componentLabels;\n  }\n  /**\n   *  Creates the Labels Object for the\n   *  App translations\n   * @param {Array} appLabels\n   */\n  static async getAppLabels (appLabels) {\n    let translations = {};\n\n    appLabels.forEach((l) => {\n      translations = this.createOrAdd({\n        labels: translations,\n        label: l\n      });\n    });\n\n    return translations;\n  }\n  /**\n   *  Creates the Labels Object for the\n   *  App Pages\n   * @param {Array} appLabels\n   */\n  static async getPagesLabels (Pages) {\n    let pagesLabels = {};\n\n    Pages.pages.forEach((page) => {\n      page.cards.forEach((card) => {\n        if (card.title && card.title !== '') {\n          this.createOrAdd({\n            labels: pagesLabels,\n            label: {\n              text: card.title,\n              type: 'pageCardTitle',\n              picture: null,\n              card: card,\n              page: page\n            }\n          });\n        }\n\n        if (card.subtitle && card.subtitle !== '') {\n          this.createOrAdd({\n            labels: pagesLabels,\n            label: {\n              text: card.subtitle,\n              type: 'pageCardSubtitle',\n              picture: null,\n              card: card,\n              page: page\n            }\n          });\n        }\n\n        card.actions.forEach((action) => {\n          if (action.text && action.text !== '') {\n            this.createOrAdd({\n              labels: pagesLabels,\n              label: {\n                text: action.text,\n                type: 'pageActionButtonText',\n                picture: null,\n                card: card,\n                page: page\n              }\n            });\n          }\n        });\n      });\n      if (page.title && page.title !== '') {\n        this.createOrAdd({\n          labels: pagesLabels,\n          label: {\n            text: page.title,\n            type: 'pageTitle',\n            picture: null,\n            page: page\n          }\n        });\n      }\n    });\n\n    return pagesLabels;\n  }\n}\nexport default FormLabels;\n","import md5 from 'md5';\nimport CONFIGURATION from '../../database/models/Configuration';\n\nlet Hash = class {\n  static async string (string) {\n    let config = await CONFIGURATION.getLocal();\n    let hashed = '';\n\n    hashed = md5(string, config.MD5_KEY);\n    return hashed;\n  }\n};\n\nexport default Hash;\n"],"sourceRoot":""}